<!DOCTYPE html>
<!-- saved from url=(0094)#using-and-displaying-variables -->
<html lang="zh-CN" style="height: 100%;"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<title>教程：使用 Thymeleaf</title>
	
	<meta name="generator" content="pandoc">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="format-detection" content="telephone=no">

	<link rel="icon" href="../../www.thymeleaf.org/doc/images/favicon.ico" tppabs="https://www.thymeleaf.org/doc/images/favicon.ico">
	<link rel="stylesheet" href="Thymeleaf_files/css" tppabs="https://www.chendalei.com/thymeleaf/Thymeleaf_files/css">
	<link rel="stylesheet" href="Thymeleaf_files/css(1)" tppabs="https://www.chendalei.com/thymeleaf/Thymeleaf_files/css(1)">
	<link rel="stylesheet" href="Thymeleaf_files/normalize.min.css" tppabs="https://www.chendalei.com/thymeleaf/Thymeleaf_files/normalize.min.css" media="screen">
	<link rel="stylesheet" href="Thymeleaf_files/thymeleaf.css" tppabs="https://www.chendalei.com/thymeleaf/Thymeleaf_files/thymeleaf.css">
	<link rel="stylesheet" href="Thymeleaf_files/thymeleaf-tutorials.css" tppabs="https://www.chendalei.com/thymeleaf/Thymeleaf_files/thymeleaf-tutorials.css">
	<link rel="stylesheet" href="Thymeleaf_files/thymeleaf-tutorials-screen.css" tppabs="https://www.chendalei.com/thymeleaf/Thymeleaf_files/thymeleaf-tutorials-screen.css" media="screen">
	<link rel="stylesheet" href="Thymeleaf_files/thymeleaf-tutorials-print.css" tppabs="https://www.chendalei.com/thymeleaf/Thymeleaf_files/thymeleaf-tutorials-print.css" media="print">

	<script src="Thymeleaf_files/dumb-query-selector.js" tppabs="https://www.chendalei.com/thymeleaf/Thymeleaf_files/dumb-query-selector.js" defer=""></script>
	<script src="Thymeleaf_files/prism-core.min.js" tppabs="https://www.chendalei.com/thymeleaf/Thymeleaf_files/prism-core.min.js" defer="" data-manual=""></script>
	<script src="Thymeleaf_files/prism-markup.min.js" tppabs="https://www.chendalei.com/thymeleaf/Thymeleaf_files/prism-markup.min.js" defer=""></script>
	<script src="Thymeleaf_files/prism-clike.min.js" tppabs="https://www.chendalei.com/thymeleaf/Thymeleaf_files/prism-clike.min.js" defer=""></script>
	<script src="Thymeleaf_files/prism-java.min.js" tppabs="https://www.chendalei.com/thymeleaf/Thymeleaf_files/prism-java.min.js" defer=""></script>
	<script src="Thymeleaf_files/prism-line-numbers.min.js" tppabs="https://www.chendalei.com/thymeleaf/Thymeleaf_files/prism-line-numbers.min.js" defer=""></script>
	<script src="Thymeleaf_files/thymeleaf-tutorials.js" tppabs="https://www.chendalei.com/thymeleaf/Thymeleaf_files/thymeleaf-tutorials.js" defer=""></script>

<input type="hidden" id="_w_simile" data-inspect-config="3">
<style type="text/css">
    /* Copyright 2014-present Evernote Corporation. All rights reserved. */
@keyframes caretBlink {
    from { opacity: 1.0; }
    to { opacity: 0.0; }
}

@keyframes rotateSpinner {
    from {
        transform:rotate(0deg);
    }
    to {
        transform:rotate(360deg);
    }
}

#text-tool-caret {
    animation-name: caretBlink;  
    animation-iteration-count: infinite;  
    animation-timing-function: cubic-bezier(1.0,0,0,1.0);
    animation-duration: 1s; 
}

#en-markup-loading-spinner {
    position: absolute;
    top: calc(50% - 16px);
    left: calc(50% - 16px);
    width: 32px;
    height: 32px;
}

#en-markup-loading-spinner img {
    position: relative;
    top: 0px;
    left: 0px;
    animation-name: rotateSpinner;
    animation-duration: 0.6s;
    animation-iteration-count: infinite;
    animation-timing-function: linear;
}
</style>
<style type="text/css"> /* Copyright 2014-present Evernote Corporation. All rights reserved. */

.skitchToastBoxContainer {
    position: absolute;
    width: 100%;
    text-align: center;
    top: 30px;
    -webkit-user-select: none;
    -moz-user-select: none;
    pointer-events: none;
}

.skitchToastBox {
    width: 200px;
    height: 16px;
    padding: 12px;
    background-color: rgba(47, 55, 61, 0.95);
    border-radius: 4px;
    color: white;
    cursor: default;
    font-size: 10pt;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.32);
    font-family: 'Soleil', Helvetica, Arial, sans-serif;
    border: 2px rgba(255, 255, 255, 0.38) solid;
}

.lang-zh-cn .skitchToastBox {
    font-family: '微软雅黑', 'Microsoft YaHei', SimSun,
        '&#x30E1;&#x30A4;&#x30EA;&#x30AA;', Meiryo, 'MS PGothic', 'Soleil',
        Helvetica, Arial, sans-serif;
}

.lang-ja-jp .skitchToastBox {
    font-family: '&#x30E1;&#x30A4;&#x30EA;&#x30AA;', Meiryo, 'MS PGothic',
        '微软雅黑', 'Microsoft YaHei', SimSun, 'Soleil', Helvetica, Arial,
        sans-serif;
}

.skitchToast {
    padding-left: 20px;
    padding-right: 20px;
    display: inline-block;
    height: 10px;
    color: #f1f5f8;
    text-align: center;
}

.skitchVisible {
    /* Don't remove this class it's a hack used by the Evernote Clipper */
}
</style>
<style type="text/css">/* Copyright 2014-present Evernote Corporation. All rights reserved. */

@font-face {
	font-family: 'Soleil';
	src: url(data:application/font-woff2;base64,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);
	font-weight: normal;
	font-style: normal;
}
</style>
<style type="text/css">/* Copyright 2019-present Evernote Corporation. All rights reserved. */

#en-markup-disabled {
    position: fixed;
    z-index: 9999;
    width: 100%;
    height: 100%;
    top: 0px;
    left: 0px;
    cursor: default;
    -webkit-user-select: none;
}

#en-markup-alert-container {
    position: absolute;
    z-index: 9999;
    width: 450px;
    left: calc(50% - 225px);
    top: calc(50% - 85px);
    background-color: white;
    box-shadow: 0 2px 7px 1px rgba(0,0,0,0.35);
    -webkit-user-select: none;
}

#en-markup-alert-container .cell-1 {
    position: relative;
    height: 110px;
    width: 105px;
    float: left;
    text-align: center;
    background-image: url(data:image/png;base64,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);
    background-position: 65% 50%;
    background-repeat: no-repeat;
}

#en-markup-alert-container .cell-2 {
    position: relative;
    float: left;
    width: 345px;
    margin-top: 29px;
    margin-bottom: 20px;
}

#en-markup-alert-container .cell-2 .cell-2-title {
    margin-bottom: 5px;
    padding-right: 30px;
    font-size: 12pt;
    font-family: Tahoma, Arial;
}

#en-markup-alert-container .cell-2 .cell-2-message {
    padding-right: 30px;
    font-size: 9.5pt;
    font-family: Tahoma, Arial;
}

#en-markup-alert-container .cell-3 {
    position: relative;
    width: 450px;
    height: 60px;
    float: left;
    background-color: rgb(240,240,240);
}

#en-markup-alert-container .cell-3 button {
    position: absolute;
    top: 12px;
    right: 15px;
    width: 110px;
    height: 36px;
}

#en-markup-alert-container .cell-3 button.alt-button {
    position: absolute;
    top: 12px;
    right: 140px;
    width: 110px;
    height: 36px;
}
</style>
    <script src="Thymeleaf_files/element.js" tppabs="https://www.chendalei.com/thymeleaf/Thymeleaf_files/element.js"></script>
    <link type="text/css" rel="stylesheet" charset="UTF-8" href="Thymeleaf_files/m=el_main_css" tppabs="https://www.chendalei.com/thymeleaf/Thymeleaf_files/m=el_main_css">
    <script type="text/javascript" charset="UTF-8" src="Thymeleaf_files/m=el_main.js" tppabs="https://www.chendalei.com/thymeleaf/Thymeleaf_files/m=el_main"></script>
</head>

<body class="tutorial" style="position: relative; min-height: 100%; top: 40px;">
<!--<div  style="">
    <iframe id=":0.container"  frameborder="0" src="./Thymeleaf_files/usingthymeleaf.html" style="visibility:visible"></iframe>
</div>-->

<div class="toc-wrapper toolbar-container">
<div class="toolbar-menu">
	<div id="toolbar-location" class="toolbar-menu-location"></div>
	<button id="site-menu-button" type="button" class="toolbar-menu-button"><font style="vertical-align: inherit;">
    <font style="vertical-align: inherit;">文档内容</font></font></button>
</div>
<nav id="toc">
<ul class="level1">
<li><a href="#introducing-thymeleaf"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 Thymeleaf 介绍</font></font></a><ul class="level2">
<li><a href="#what-is-thymeleaf"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.1 什么是 Thymeleaf？</font></font></a></li>
<li><a href="#what-kind-of-templates-can-thymeleaf-process"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.2 Thymeleaf 可以处理哪些类型的模板？</font></font></a></li>
<li><a href="#dialects-the-standard-dialect"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.3 方言：标准方言</font></font></a></li>
</ul></li>
<li><a href="#the-good-thymes-virtual-grocery"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. The Good Thymes 虚拟杂货店</font></font></a><ul class="level2">
<li><a href="#a-website-for-a-grocery"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.1 一家杂货店的网站</font></font></a></li>
<li><a href="#creating-and-configuring-the-template-engine"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.2 创建并配置模板引擎</font></font></a><ul class="level3">
<li><a href="#the-template-resolver"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模板解析器</font></font></a></li>
<li><a href="#the-template-engine"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模板引擎</font></font></a></li>
</ul></li>
</ul></li>
<li><a href="#using-texts"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3 使用文本</font></font></a><ul class="level2">
<li><a href="#a-multi-language-welcome"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1 多语言欢迎</font></font></a><ul class="level3">
<li><a href="#using-thtext-and-externalizing-text"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 th:text 并外部化文本</font></font></a></li>
<li><a href="#contexts"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上下文</font></font></a></li>
<li><a href="#executing-the-template-engine"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">执行模板引擎</font></font></a></li>
</ul></li>
<li><a href="#more-on-texts-and-variables"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.2 有关文本和变量的更多信息</font></font></a><ul class="level3">
<li><a href="#unescaped-text"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">未转义的文本</font></font></a></li>
<li><a href="#using-and-displaying-variables"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用和显示变量</font></font></a></li>
</ul></li>
</ul></li>
<li><a href="#standard-expression-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4 标准表达式语法</font></font></a><ul class="level2">
<li><a href="#messages"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.1 消息 Messages</font></font></a></li>
<li><a href="#variables"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.2 变量 Variables</font></font></a><ul class="level3">
<li><a href="#expression-basic-objects"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表达式基本对象 Expression Basic Objects</font></font></a></li>
<li><a href="#expression-utility-objects"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表达式实用对象 Expression Utility Objects</font></font></a></li>
<li><a href="#reformatting-dates-in-our-home-page"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重新格式化主页上的日期</font></font></a></li>
</ul></li>
<li><a href="#expressions-on-selections-asterisk-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.3 选择表达式（星号语法）</font></font></a></li>
<li><a href="#link-urls"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.4 链接 URL</font></font></a><ul class="level3">
<li><a href="#a-menu-for-our-home-page"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们的主页菜单</font></font></a></li>
<li><a href="#server-root-relative-urls"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器根目录相对 URL</font></font></a></li>
</ul></li>
<li><a href="#fragments"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.5 片段</font></font></a></li>
<li><a href="#literals"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.6 文字</font></font></a><ul class="level3">
<li><a href="#text-literals"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文本文字</font></font></a></li>
<li><a href="#number-literals"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数字文字</font></font></a></li>
<li><a href="#boolean-literals"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">布尔文字</font></font></a></li>
<li><a href="#the-null-literal"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">空文字</font></font></a></li>
<li><a href="#literal-tokens"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文字标记</font></font></a></li>
</ul></li>
<li><a href="#appending-texts"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.7 附加文本</font></font></a></li>
<li><a href="#literal-substitutions"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.8 文字替换</font></font></a></li>
<li><a href="#arithmetic-operations"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.9 算术运算</font></font></a></li>
<li><a href="#comparators-and-equality"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.10 比较器和相等性</font></font></a></li>
<li><a href="#conditional-expressions"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.11 条件表达式</font></font></a></li>
<li><a href="#default-expressions-elvis-operator"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.12 默认表达式（Elvis 运算符）</font></font></a></li>
<li><a href="#the-no-operation-token"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.13 无操作标记</font></font></a></li>
<li><a href="#data-conversion-formatting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.14 数据转换/格式化</font></font></a></li>
<li><a href="#preprocessing"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.15 预处理</font></font></a></li>
</ul></li>
<li><a href="#setting-attribute-values"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5 设置属性值</font></font></a><ul class="level2">
<li><a href="#setting-the-value-of-any-attribute"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.1 设置任意属性的值</font></font></a></li>
<li><a href="#setting-value-to-specific-attributes"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.2 设置特定属性的值</font></font></a></li>
<li><a href="#setting-more-than-one-value-at-a-time"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.3 一次设置多个值</font></font></a></li>
<li><a href="#appending-and-prepending"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.4 附加和前置</font></font></a></li>
<li><a href="#fixed-value-boolean-attributes"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.5 固定值布尔属性</font></font></a></li>
<li><a href="#setting-the-value-of-any-attribute-default-attribute-processor"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.6 设置任意属性的值（默认属性处理器）</font></font></a></li>
<li><a href="#support-for-html5-friendly-attribute-and-element-names"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7 支持 HTML5 友好的属性和元素名称</font></font></a></li>
</ul></li>
<li><a href="#iteration"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6 迭代</font></font></a><ul class="level2">
<li><a href="#iteration-basics"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.1 迭代基础</font></font></a><ul class="level3">
<li><a href="#using-theach"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 th:each</font></font></a></li>
<li><a href="#iterable-values"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可迭代值</font></font></a></li>
</ul></li>
<li><a href="#keeping-iteration-status"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.2 保持迭代状态</font></font></a></li>
<li><a href="#optimizing-through-lazy-retrieval-of-data"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.3 通过惰性检索数据进行优化</font></font></a></li>
</ul></li>
<li><a href="#conditional-evaluation"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7 条件评估</font></font></a><ul class="level2">
<li><a href="#simple-conditionals-if-and-unless"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.1 简单条件：“如果”和“除非”</font></font></a></li>
<li><a href="#switch-statements"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.2 Switch 语句</font></font></a></li>
</ul></li>
<li><a href="#template-layout"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8 模板布局</font></font></a><ul class="level2">
<li><a href="#including-template-fragments"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.1 包含模板片段</font></font></a><ul class="level3">
<li><a href="#defining-and-referencing-fragments"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">定义和引用片段</font></font></a></li>
<li><a href="#fragment-specification-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">片段规范语法</font></font></a></li>
<li><a href="#referencing-fragments-without-thfragment"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">引用片段而不</font></font><code>th:fragment</code></a></li>
<li><a href="#difference-between-thinsert-and-threplace-and-thinclude"><font style="vertical-align: inherit;"></font><code>th:insert</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code>th:replace</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（和</font></font><code>th:include</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">之间的区别</font></font></a></li>
</ul></li>
<li><a href="#parameterizable-fragment-signatures"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.2 可参数化的片段签名</font></font></a><ul class="level3">
<li><a href="#fragment-local-variables-without-fragment-arguments"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有片段参数的片段局部变量</font></font></a></li>
<li><a href="#thassert-for-in-template-assertions"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">th:assert 用于模板内断言</font></font></a></li>
</ul></li>
<li><a href="#flexible-layouts-beyond-mere-fragment-insertion"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.3 灵活的布局：不仅仅是片段插入</font></font></a><ul class="level3">
<li><a href="#using-the-empty-fragment"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用空片段</font></font></a></li>
<li><a href="#using-the-no-operation-token"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用无操作标记</font></font></a></li>
<li><a href="#advanced-conditional-insertion-of-fragments"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">高级条件片段插入</font></font></a></li>
</ul></li>
<li><a href="#removing-template-fragments"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.4 删除模板片段</font></font></a></li>
<li><a href="#layout-inheritance"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.5 布局继承</font></font></a></li>
</ul></li>
<li><a href="#local-variables"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9 局部变量</font></font></a></li>
<li><a href="#attribute-precedence"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10 属性优先级</font></font></a></li>
<li><a href="#comments-and-blocks"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11 评论和区块</font></font></a><ul class="level2">
<li><a href="#standard-htmlxml-comments"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.1. 标准 HTML/XML 注释</font></font></a></li>
<li><a href="#thymeleaf-parser-level-comment-blocks"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.2. Thymeleaf 解析器级注释块</font></font></a></li>
<li><a href="#thymeleaf-prototype-only-comment-blocks"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.3. Thymeleaf 原型专用注释块</font></font></a></li>
<li><a href="#synthetic-thblock-tag"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.4. 合成</font></font><code>th:block</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标签</font></font></a></li>
</ul></li>
<li><a href="#inlining"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12 内联</font></font></a><ul class="level2">
<li><a href="#expression-inlining"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12.1 表达式内联</font></font></a><ul class="level3">
<li><a href="#inlining-vs-natural-templates"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内联模板与自然模板</font></font></a></li>
<li><a href="#disabling-inlining"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">禁用内联</font></font></a></li>
</ul></li>
<li><a href="#text-inlining"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12.2 文本内联</font></font></a></li>
<li><a href="#javascript-inlining"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12.3 JavaScript 内联</font></font></a><ul class="level3">
<li><a href="#javascript-natural-templates"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JavaScript 自然模板</font></font></a></li>
<li><a href="#advanced-inlined-evaluation-and-javascript-serialization"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">高级内联评估和 JavaScript 序列化</font></font></a></li>
</ul></li>
<li><a href="#css-inlining"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12.4 CSS 内联</font></font></a><ul class="level3">
<li><a href="#advanced-features-css-natural-templates-etc."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">高级功能：CSS自然模板等。</font></font></a></li>
</ul></li>
</ul></li>
<li><a href="#textual-template-modes"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">13 文本模板模式</font></font></a><ul class="level2">
<li><a href="#textual-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">13.1 文本语法</font></font></a><ul class="level3">
<li><a href="#escaped-element-attributes"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">转义元素属性</font></font></a></li>
</ul></li>
<li><a href="#extensibility"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">13.2 可扩展性</font></font></a></li>
<li><a href="#textual-prototype-only-comment-blocks-adding-code"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">13.3 仅限文本原型的注释块：添加代码</font></font></a></li>
<li><a href="#textual-parser-level-comment-blocks-removing-code"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">13.4 文本解析器级注释块：删除代码</font></font></a></li>
<li><a href="#natural-javascript-and-css-templates"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">13.5 自然 JavaScript 和 CSS 模板</font></font></a></li>
</ul></li>
<li><a href="#some-more-pages-for-our-grocery"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">14 我们的杂货还有更多页面</font></font></a><ul class="level2">
<li><a href="#order-list"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">14.1 订单列表</font></font></a></li>
<li><a href="#order-details"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">14.2 订单详情</font></font></a></li>
</ul></li>
<li><a href="#more-on-configuration"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">15 有关配置的更多信息</font></font></a><ul class="level2">
<li><a href="#template-resolvers"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">15.1 模板解析器</font></font></a><ul class="level3">
<li><a href="#chaining-template-resolvers"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">链接模板解析器</font></font></a></li>
</ul></li>
<li><a href="#message-resolvers"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">15.2 消息解析器</font></font></a><ul class="level3">
<li><a href="#standard-message-resolver"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标准消息解析器</font></font></a></li>
<li><a href="#configuring-message-resolvers"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">配置消息解析器</font></font></a></li>
</ul></li>
<li><a href="#conversion-services"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">15.3 转换服务</font></font></a></li>
<li><a href="#logging"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">15.4 日志记录</font></font></a></li>
</ul></li>
<li><a href="#template-cache"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16 模板缓存</font></font></a></li>
<li><a href="#decoupled-template-logic"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">17 解耦模板逻辑</font></font></a><ul class="level2">
<li><a href="#decoupled-logic-the-concept"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">17.1 解耦逻辑：概念</font></font></a></li>
<li><a href="#configuring-decoupled-templates"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">17.2 配置解耦模板</font></font></a><ul class="level3">
<li><a href="#enabling-decoupled-templates"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启用解耦模板</font></font></a></li>
<li><a href="#mixing-coupled-and-decoupled-logic"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">混合耦合逻辑和解耦逻辑</font></font></a></li>
</ul></li>
<li><a href="#the-thref-attribute"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">17.3 th:ref 属性</font></font></a></li>
<li><a href="#performance-impact-of-decoupled-templates"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">17.4 解耦模板的性能影响</font></font></a></li>
<li><a href="#resolution-of-decoupled-logic"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">17.5 解耦逻辑的解析</font></font></a></li>
</ul></li>
<li><a href="#appendix-a-expression-basic-objects"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">18 附录A：表达式基本对象</font></font></a><ul class="level2">
<li><a href="#base-objects"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基础对象</font></font></a></li>
<li><a href="#web-context-namespaces-for-requestsession-attributes-etc."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请求/会话属性等的 Web 上下文命名空间。</font></font></a></li>
<li><a href="#web-context-objects"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Web 上下文对象</font></font></a></li>
</ul></li>
<li><a href="#appendix-b-expression-utility-objects"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">19 附录 B：表达式实用对象</font></font></a><ul class="level2">
<li><a href="#execution-info"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">执行信息</font></font></a></li>
<li><a href="#messages-1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">消息</font></font></a></li>
<li><a href="#urisurls"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">URI/URL</font></font></a></li>
<li><a href="#conversions"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">转换</font></font></a></li>
<li><a href="#dates"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">日期</font></font></a></li>
<li><a href="#calendars"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">日历</font></font></a></li>
<li><a href="#numbers"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数字</font></font></a></li>
<li><a href="#strings"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符串</font></font></a></li>
<li><a href="#objects"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对象</font></font></a></li>
<li><a href="#booleans"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">布尔值</font></font></a></li>
<li><a href="#arrays"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数组</font></font></a></li>
<li><a href="#lists"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列表</font></font></a></li>
<li><a href="#sets"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sets</font></font></a></li>
<li><a href="#maps"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Maps</font></font></a></li>
<li><a href="#aggregates"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">聚合</font></font></a></li>
<li><a href="#ids"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ID</font></font></a></li>
</ul></li>
<li><a href="#appendix-c-markup-selector-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20 附录 C：标记选择器语法</font></font></a><ul class="level2">
<li><a href="#multivalued-class-matching"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">多值类匹配</font></font></a></li>
</ul></li>
</ul>
</nav>
</div>

	<div class="content-wrapper">

		<div class="title-container">
			<header class="hero-header fluid-block">
				<div class="hero-header-text">
					<h1 class="hero-header-title"><font style="vertical-align: inherit;">
                        <font class="" style="vertical-align: inherit;">Thymeleaf</font></font>
                    </h1>
				</div>
				<div class="hero-header-image">
					<img src="Thymeleaf_files/thymeleaf.png" tppabs="https://www.chendalei.com/thymeleaf/Thymeleaf_files/thymeleaf.png" alt="Thymeleaf标志" class="hero-header-logo">
				</div>
			</header>

			<div class="tutorial-info fluid-block">
				<h1 id="tutorial-title" class="tutorial-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">教程：使用 Thymeleaf</font></font></h1>
								<div class="tutorial-metadata">
					<div id="tutorial-version">
						<span class="tutorial-metadata-label"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文档版本：</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 20181029 - 2018年10月29日
					</font></font></div>
					<div id="project-version">
						<span class="tutorial-metadata-label"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">项目版本：</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 3.0.11.RELEASE
					</font></font></div>
					<div id="project-website">
						<span class="tutorial-metadata-label"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">项目网站：</font></font></span>
						<a href="javascript:if(confirm(%27https://www.thymeleaf.org/  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27https://www.thymeleaf.org/%27" tppabs="https://www.thymeleaf.org/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://www.thymeleaf.org</font></font></a>
					</div>
				</div>
			</div>
		</div>
        <div id="content" class="fluid-block">
<section id="introducing-thymeleaf" class="level1">
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 Thymeleaf 介绍</font></font></h1>
<section id="what-is-thymeleaf" class="level2">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.1 什么是 Thymeleaf？</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Thymeleaf 是一个适用于 Web 和独立环境的现代服务器端 Java 模板引擎，能够处理 HTML、XML、JavaScript、CSS 甚至纯文本。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Thymeleaf 的主要目标是提供一种优雅且高度可维护的模板创建方式。为了实现这一目标，它以</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自然模板</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的概念为基础，将其逻辑注入模板文件，而不会影响模板作为设计原型的使用。这改善了设计沟通并弥合了设计团队和开发团队之间的差距。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Thymeleaf 从一开始就考虑到了 Web 标准（尤其是</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTML5</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），允许您创建完全验证的模板（如果需要）。</font></font></p>
</section>
<section id="what-kind-of-templates-can-thymeleaf-process" class="level2">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.2 Thymeleaf 可以处理哪些类型的模板？</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开箱即用，Thymeleaf 允许您处理六种模板，每种模板称为一种</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模板模式</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTML</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XML</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文本</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JavaScript</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CSS</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">生的</font></font></li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有两种</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标记</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模板模式（</font></font><code>HTML</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code>XML</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），三种</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文本</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模板模式（</font></font><code>TEXT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code>JAVASCRIPT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code>CSS</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）和一种</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">无操作</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模板模式（</font></font><code>RAW</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模板</font></font><strong><code>HTML</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模式将允许任何类型的 HTML 输入，包括 HTML5、HTML 4 和 XHTML。不会执行任何验证或格式正确性检查，输出中将最大程度地尊重模板代码/结构。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模板</font></font><strong><code>XML</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模式将允许 XML 输入。在这种情况下，代码应格式正确 - 没有未关闭的标签、没有未加引号的属性等 - 如果发现格式错误，解析器将抛出异常。请注意，不会执行任何</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">验证</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（针对 DTD 或 XML Schema）。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模板</font></font><strong><code>TEXT</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模式允许使用特殊语法来处理非标记性质的模板。此类模板的示例可能是文本电子邮件或模板化文档。请注意，HTML 或 XML 模板也可以作为 处理</font></font><code>TEXT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，在这种情况下，它们将不会被解析为标记，并且每个标签、DOCTYPE、注释等都将被视为纯文本。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模板</font></font><strong><code>JAVASCRIPT</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模式将允许在 Thymeleaf 应用程序中处理 JavaScript 文件。这意味着能够以与在 HTML 文件中相同的方式在 JavaScript 文件中使用模型数据，但具有 JavaScript 特定的集成，例如专门的转义或</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自然脚本</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><code>JAVASCRIPT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模板模式被视为</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文本</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模式，因此使用与模板模式相同的特殊语法</font></font><code>TEXT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模板</font></font><strong><code>CSS</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模式将允许处理 Thymeleaf 应用程序中涉及的 CSS 文件。与该</font></font><code>JAVASCRIPT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模式类似，</font></font><code>CSS</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模板模式也是一种</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文本</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模式，并使用来自模板模式的特殊处理语法</font></font><code>TEXT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模板</font></font><strong><code>RAW</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模式根本不会处理模板。它旨在用于将未触及的资源（文件、URL 响应等）插入正在处理的模板中。例如，HTML 格式的外部、不受控制的资源可以包含在应用程序模板中，并且可以放心地知道这些资源可能包含的任何 Thymeleaf 代码都不会被执行。</font></font></p>
</section>
<section id="dialects-the-standard-dialect" class="level2">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.3 方言：标准方言</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Thymeleaf 是一个极具扩展性的模板引擎（事实上它可以被称为</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模板引擎框架</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），它允许您定义和自定义模板处理方式的精细程度。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将某种逻辑应用于标记工件（标签、文本、注释或模板不是标记时的占位符）的对象称为处理器</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></em><font style="vertical-align: inherit;"></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方言</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通常由一组这样的处理器（可能还有一些额外的工件）</font><font style="vertical-align: inherit;">组成。Thymeleaf 的核心库开箱即用地提供了一种称为</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标准方言</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的方言，这对大多数用户来说应该足够了。</font></font></p>
<blockquote>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意，方言实际上可以没有处理器，而完全由其他类型的工件组成，但处理器绝对是最常见的用例。</font></font></p>
</blockquote>
<p><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本教程涵盖了标准方言</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。您将在以下页面中了解的每个属性和语法特性都是由此方言定义的，即使没有明确提及。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当然，如果用户想定义自己的处理逻辑并利用该库的高级功能，他们可以创建自己的方言（甚至扩展标准方言）。Thymeleaf 还可以配置为同时使用多种方言。</font></font></p>
<blockquote>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">官方的 thymeleaf-spring3 和 thymeleaf-spring4 集成包都定义了一种称为“SpringStandard Dialect”的方言，它与标准方言基本相同，但略有改动，以便更好地利用 Spring Framework 中的某些功能（例如，使用 Spring Expression Language 或 SpringEL 代替 OGNL）。因此，如果您是 Spring MVC 用户，那么您不会浪费时间，因为您在这里学到的几乎所有内容都将在您的 Spring 应用程序中派上用场。</font></font></p>
</blockquote>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标准方言的大多数处理器都是</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性处理器</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。这使得浏览器即使在处理之前也能正确显示 HTML 模板文件，因为它们会忽略附加属性。例如，虽然使用标记库的 JSP 可能包含浏览器无法直接显示的代码片段，例如：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">form:</span>inputText</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>userName<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${user.name}<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...Thymeleaf 标准方言允许我们通过以下方式实现相同的功能：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>userName<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>James Carrot<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${user.name}<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这不仅能被浏览器正确显示，而且这还允许我们（可选）在其中指定一个值属性（在本例中为“James Carrot”），当原型在浏览器中静态打开时将显示该值，并且该值将由在</font></font><code>${user.name}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">处理模板期间评估的结果替换。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这可帮助您的设计师和开发人员处理同一个模板文件，并减少将静态原型转换为工作模板文件所需的工作量。实现此功能的功能称为“</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自然模板化”</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
</section>
</section>
<section id="the-good-thymes-virtual-grocery" class="level1">
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. The Good Thymes 虚拟杂货店</font></font></h1>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本指南中显示的示例以及后续章节的源代码可以在</font></font><a href="javascript:if(confirm(%27https://github.com/thymeleaf/thymeleafexamples-gtvg  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27https://github.com/thymeleaf/thymeleafexamples-gtvg%27" tppabs="https://github.com/thymeleaf/thymeleafexamples-gtvg"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Good Thymes Virtual Grocery GitHub 存储库</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中找到。</font></font></p>
<section id="a-website-for-a-grocery" class="level2">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.1 一家杂货店的网站</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为了更好地解释使用 Thymeleaf 处理模板所涉及的概念，本教程将使用一个演示应用程序，您可以从项目网站下载。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该应用程序是一个虚构的虚拟杂货店的网站，将为我们提供许多场景来展示 Thymeleaf 的众多功能。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">首先，我们需要为我们的应用程序创建一组简单的模型实体：</font><font style="vertical-align: inherit;">通过创建</font></font><code>Products</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">出售给</font><font style="vertical-align: inherit;">。我们还将管理</font><font style="vertical-align: inherit;">这些</font><font style="vertical-align: inherit;">：</font></font><code>Customers</code><font style="vertical-align: inherit;"></font><code>Orders</code><font style="vertical-align: inherit;"></font><code>Comments</code><font style="vertical-align: inherit;"></font><code>Products</code><font style="vertical-align: inherit;"></font></p>
<figure>
<img src="Thymeleaf_files/gtvg-model.png" tppabs="https://www.chendalei.com/thymeleaf/Thymeleaf_files/gtvg-model.png" alt="示例应用程序模型"><figcaption><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">示例应用程序模型</font></font></figcaption>
</figure>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们的应用程序还将有一个非常简单的服务层，由</font></font><code>Service</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包含以下方法的对象组成：</font></font></p>
<pre class=" language-java"><code class=" language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ProductService</span> <span class="token punctuation">{</span><font></font>
<font></font>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><font></font>
<font></font>
    <span class="token keyword">public</span> List<span class="token operator">&lt;</span>Product<span class="token operator">&gt;</span> <span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> ProductRepository<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><font></font>
<font></font>
    <span class="token keyword">public</span> Product <span class="token function">findById</span><span class="token punctuation">(</span>Integer id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> ProductRepository<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">findById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><font></font>
    <font></font>
<span class="token punctuation">}</span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 Web 层，我们的应用程序将有一个过滤器，该过滤器将根据请求 URL 将执行委托给启用 Thymeleaf 的命令：</font></font></p>
<pre class=" language-java"><code class=" language-java"><span class="token keyword">private</span> <span class="token keyword">boolean</span> <span class="token function">process</span><span class="token punctuation">(</span>HttpServletRequest request<span class="token punctuation">,</span> HttpServletResponse response<span class="token punctuation">)</span>
        <span class="token keyword">throws</span> ServletException <span class="token punctuation">{</span><font></font>
    <font></font>
    <span class="token keyword">try</span> <span class="token punctuation">{</span><font></font>
<font></font>
        <span class="token comment" spellcheck="true">// This prevents triggering engine executions for resource URLs</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getRequestURI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">"/css"</span><span class="token punctuation">)</span> <span class="token operator">||</span>
                request<span class="token punctuation">.</span><span class="token function">getRequestURI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">"/images"</span><span class="token punctuation">)</span> <span class="token operator">||</span>
                request<span class="token punctuation">.</span><span class="token function">getRequestURI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">"/favicon"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><font></font>
<font></font>
        <font></font>
        <span class="token comment" spellcheck="true">/*
         * Query controller/URL mapping and obtain the controller
         * that will process the request. If no controller is available,
         * return false and let other filters/servlets process the request.
         */</span>
        IGTVGController controller <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>application<span class="token punctuation">.</span><span class="token function">resolveControllerForRequest</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>controller <span class="token operator">==</span> null<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><font></font>
<font></font>
        <span class="token comment" spellcheck="true">/*
         * Obtain the TemplateEngine instance.
         */</span>
        ITemplateEngine templateEngine <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>application<span class="token punctuation">.</span><span class="token function">getTemplateEngine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><font></font>
<font></font>
        <span class="token comment" spellcheck="true">/*
         * Write the response headers
         */</span>
        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">"text/html;charset=UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">"Pragma"</span><span class="token punctuation">,</span> <span class="token string">"no-cache"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">"Cache-Control"</span><span class="token punctuation">,</span> <span class="token string">"no-cache"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        response<span class="token punctuation">.</span><span class="token function">setDateHeader</span><span class="token punctuation">(</span><span class="token string">"Expires"</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><font></font>
<font></font>
        <span class="token comment" spellcheck="true">/*
         * Execute the controller and process view template,
         * writing the results to the response writer. 
         */</span>
        controller<span class="token punctuation">.</span><span class="token function">process</span><span class="token punctuation">(</span>
                request<span class="token punctuation">,</span> response<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>servletContext<span class="token punctuation">,</span> templateEngine<span class="token punctuation">)</span><span class="token punctuation">;</span><font></font>
        <font></font>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><font></font>
        <font></font>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            response<span class="token punctuation">.</span><span class="token function">sendError</span><span class="token punctuation">(</span>HttpServletResponse<span class="token punctuation">.</span>SC_INTERNAL_SERVER_ERROR<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">final</span> IOException ignored<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">// Just ignore this</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">ServletException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><font></font>
    <font></font>
<span class="token punctuation">}</span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这是我们的</font></font><code>IGTVGController</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">界面：</font></font></p>
<pre class=" language-java"><code class=" language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">IGTVGController</span> <span class="token punctuation">{</span><font></font>
<font></font>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">process</span><span class="token punctuation">(</span>
            HttpServletRequest request<span class="token punctuation">,</span> HttpServletResponse response<span class="token punctuation">,</span>
            ServletContext servletContext<span class="token punctuation">,</span> ITemplateEngine templateEngine<span class="token punctuation">)</span><span class="token punctuation">;</span>    <font></font>
    <font></font>
<span class="token punctuation">}</span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们现在要做的就是创建</font></font><code>IGTVGController</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">接口的实现，从服务中检索数据并使用</font></font><code>ITemplateEngine</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对象处理模板。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最后它看起来会像这样：</font></font></p>
<figure>
<img src="Thymeleaf_files/gtvg-view.png" tppabs="https://www.chendalei.com/thymeleaf/Thymeleaf_files/gtvg-view.png" alt="示例应用程序主页"><figcaption><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">示例应用程序主页</font></font></figcaption>
</figure>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但首先让我们看看该模板引擎是如何初始化的。</font></font></p>
</section>
<section id="creating-and-configuring-the-template-engine" class="level2">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.2 创建并配置模板引擎</font></font></h2>
<p><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们的过滤器中的process(…)</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法</font><font style="vertical-align: inherit;">包含以下行：</font></font></p>
<pre class=" language-java"><code class=" language-java">ITemplateEngine templateEngine <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>application<span class="token punctuation">.</span><span class="token function">getTemplateEngine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这意味着</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GTVGApplication</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类负责创建和配置 Thymeleaf 应用程序中最重要的对象之一：</font></font><code>TemplateEngine</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实例（接口的实现</font></font><code>ITemplateEngine</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们的</font></font><code>org.thymeleaf.TemplateEngine</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对象初始化如下：</font></font></p>
<pre class=" language-java"><code class=" language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GTVGApplication</span> <span class="token punctuation">{</span><font></font>
  <font></font>
    <font></font>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> TemplateEngine templateEngine<span class="token punctuation">;</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><font></font>
    <font></font>
    <font></font>
    <span class="token keyword">public</span> <span class="token function">GTVGApplication</span><span class="token punctuation">(</span><span class="token keyword">final</span> ServletContext servletContext<span class="token punctuation">)</span> <span class="token punctuation">{</span><font></font>
<font></font>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><font></font>
<font></font>
        ServletContextTemplateResolver templateResolver <span class="token operator">=</span> 
                <span class="token keyword">new</span> <span class="token class-name">ServletContextTemplateResolver</span><span class="token punctuation">(</span>servletContext<span class="token punctuation">)</span><span class="token punctuation">;</span><font></font>
        <font></font>
        <span class="token comment" spellcheck="true">// HTML is the default mode, but we set it anyway for better understanding of code</span>
        templateResolver<span class="token punctuation">.</span><span class="token function">setTemplateMode</span><span class="token punctuation">(</span>TemplateMode<span class="token punctuation">.</span>HTML<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// This will convert "home" to "/WEB-INF/templates/home.html"</span>
        templateResolver<span class="token punctuation">.</span><span class="token function">setPrefix</span><span class="token punctuation">(</span><span class="token string">"/WEB-INF/templates/"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        templateResolver<span class="token punctuation">.</span><span class="token function">setSuffix</span><span class="token punctuation">(</span><span class="token string">".html"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// Template cache TTL=1h. If not set, entries would be cached until expelled</span>
        templateResolver<span class="token punctuation">.</span><span class="token function">setCacheTTLMs</span><span class="token punctuation">(</span>Long<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>3600000L<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><font></font>
        <font></font>
        <span class="token comment" spellcheck="true">// Cache is set to true by default. Set to false if you want templates to</span>
        <span class="token comment" spellcheck="true">// be automatically updated when modified.</span>
        templateResolver<span class="token punctuation">.</span><span class="token function">setCacheable</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><font></font>
        <font></font>
        <span class="token keyword">this</span><span class="token punctuation">.</span>templateEngine <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TemplateEngine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>templateEngine<span class="token punctuation">.</span><span class="token function">setTemplateResolver</span><span class="token punctuation">(</span>templateResolver<span class="token punctuation">)</span><span class="token punctuation">;</span><font></font>
        <font></font>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><font></font>
<font></font>
    <span class="token punctuation">}</span><font></font>
<font></font>
<span class="token punctuation">}</span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">配置对象的方法有很多种</font></font><code>TemplateEngine</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，但是现在这几行代码就足以让我们了解所需的步骤。</font></font></p>
<section id="the-template-resolver" class="level3">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模板解析器</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们从模板解析器开始：</font></font></p>
<pre class=" language-java"><code class=" language-java">ServletContextTemplateResolver templateResolver <span class="token operator">=</span> 
        <span class="token keyword">new</span> <span class="token class-name">ServletContextTemplateResolver</span><span class="token punctuation">(</span>servletContext<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模板解析器是实现 Thymeleaf API 接口的对象</font></font><code>org.thymeleaf.templateresolver.ITemplateResolver</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></p>
<pre class=" language-java"><code class=" language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">ITemplateResolver</span> <span class="token punctuation">{</span><font></font>
<font></font>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><font></font>
  <font></font>
    <span class="token comment" spellcheck="true">/*
     * Templates are resolved by their name (or content) and also (optionally) their 
     * owner template in case we are trying to resolve a fragment for another template.
     * Will return null if template cannot be handled by this template resolver.
     */</span>
    <span class="token keyword">public</span> TemplateResolution <span class="token function">resolveTemplate</span><span class="token punctuation">(</span>
            <span class="token keyword">final</span> IEngineConfiguration configuration<span class="token punctuation">,</span>
            <span class="token keyword">final</span> String ownerTemplate<span class="token punctuation">,</span> <span class="token keyword">final</span> String template<span class="token punctuation">,</span>
            <span class="token keyword">final</span> Map<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> Object<span class="token operator">&gt;</span> templateResolutionAttributes<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这些对象负责确定如何访问我们的模板，在这个 GTVG 应用程序中，这</font></font><code>org.thymeleaf.templateresolver.ServletContextTemplateResolver</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">意味着我们将从</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Servlet 上下文</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中检索我们的模板文件作为资源：一个存在于每个 Java Web 应用程序中的应用程序范围的</font></font><code>javax.servlet.ServletContext</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对象，并从 Web 应用程序根目录中解析资源。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但这并不是我们能说的关于模板解析器的全部，因为我们可以对其设置一些配置参数。首先是模板模式：</font></font></p>
<pre class=" language-java"><code class=" language-java">templateResolver<span class="token punctuation">.</span><span class="token function">setTemplateMode</span><span class="token punctuation">(</span>TemplateMode<span class="token punctuation">.</span>HTML<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTML 是 的默认模板模式</font></font><code>ServletContextTemplateResolver</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，但无论如何建立它都是很好的做法，这样我们的代码就可以清楚地记录正在发生的事情。</font></font></p>
<pre class=" language-java"><code class=" language-java">templateResolver<span class="token punctuation">.</span><span class="token function">setPrefix</span><span class="token punctuation">(</span><span class="token string">"/WEB-INF/templates/"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
templateResolver<span class="token punctuation">.</span><span class="token function">setSuffix</span><span class="token punctuation">(</span><span class="token string">".html"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">前缀</font><font style="vertical-align: inherit;">和</font><em><font style="vertical-align: inherit;">后缀</font></em><font style="vertical-align: inherit;">修改我们将传递给引擎的模板名称，以获取要使用的真实资源名称</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></em><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用此配置，模板名称</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“product/list”</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将对应：</font></font></p>
<pre class=" language-java"><code class=" language-java">servletContext<span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span><span class="token string">"/WEB-INF/templates/product/list.html"</span><span class="token punctuation">)</span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可选地，已解析模板可以在缓存中生存的时间量可以通过</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cacheTTLMs</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性在模板解析器中配置：</font></font></p>
<pre class=" language-java"><code class=" language-java">templateResolver<span class="token punctuation">.</span><span class="token function">setCacheTTLMs</span><span class="token punctuation">(</span>3600000L<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果达到最大缓存大小并且模板是当前缓存的最旧条目，则在达到该 TTL 之前仍可能将该模板从缓存中驱逐。</font></font></p>
<blockquote>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户可以通过实现接口</font></font><code>ICacheManager</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或者修改</font></font><code>StandardCacheManager</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对象来管理默认缓存，从而定义缓存行为和大小。</font></font></p>
</blockquote>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">关于模板解析器还有很多东西需要学习，但现在让我们看一下模板引擎对象的创建。</font></font></p>
</section>
<section id="the-template-engine" class="level3">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模板引擎</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模板引擎对象是</font></font><code>org.thymeleaf.ITemplateEngine</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">接口的实现。Thymeleaf 核心提供了这些实现之一：</font></font><code>org.thymeleaf.TemplateEngine</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，我们在这里创建它的一个实例：</font></font></p>
<pre class=" language-java"><code class=" language-java">templateEngine <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TemplateEngine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
templateEngine<span class="token punctuation">.</span><span class="token function">setTemplateResolver</span><span class="token punctuation">(</span>templateResolver<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相当简单，不是吗？我们需要做的就是创建一个实例并将模板解析器设置为它。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模板解析器是所需的唯一</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">必需</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数</font></font><code>TemplateEngine</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，尽管还有许多其他参数将在后面介绍（消息解析器、缓存大小等）。目前，这就是我们所需要的全部。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们的模板引擎现在已经准备好了，我们可以开始使用 Thymeleaf 创建我们的页面。</font></font></p>
</section>
</section>
</section>
<section id="using-texts" class="level1">
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3 使用文本</font></font></h1>
<section id="a-multi-language-welcome" class="level2">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1 多语言欢迎</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们的首要任务是为我们的杂货网站创建一个主页。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此页面的第一个版本非常简单：只有一个标题和一条欢迎信息。这是我们的</font></font><code>/WEB-INF/templates/home.html</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token doctype">&lt;!DOCTYPE html&gt;</span><font></font>
<font></font>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>th</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.thymeleaf.org<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Good Thymes Virtual Grocery<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Content-Type<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/html; charset<span class="token punctuation">=</span>UTF-8<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/css<span class="token punctuation">"</span></span> <span class="token attr-name">media</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>all<span class="token punctuation">"</span></span> 
          <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../../css/gtvg.css<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/css/gtvg.css}<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span><font></font>
  <font></font>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#{home.welcome}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Welcome to our grocery store!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><font></font>
  <font></font>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您首先会注意到的是，该文件是 HTML5，可以被任何浏览器正确显示，因为它不包含任何非 HTML 标签（浏览器会忽略它们不理解的所有属性，例如</font></font><code>th:text</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但您可能还注意到，此模板实际上并不是</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有效的</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTML5 文档，因为我们在表单中使用的这些非标准属性</font></font><code>th:*</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不符合 HTML5 规范。事实上，我们甚至</font></font><code>xmlns:th</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在标签中添加了一个属性</font></font><code>&lt;html&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，这完全不符合 HTML5 规范：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>th</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.thymeleaf.org<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...这对模板处理完全没有影响，但可以起到</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">咒语的作用</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，防止我们的 IDE 抱怨所有这些属性缺少命名空间定义</font></font><code>th:*</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">那么如果我们想让这个模板</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">符合 HTML5 规范该</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">怎么做呢？很简单：切换到 Thymeleaf 的数据属性语法，使用</font></font><code>data-</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性名称的前缀和连字符 ( </font></font><code>-</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) 分隔符代替分号 ( </font></font><code>:</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token doctype">&lt;!DOCTYPE html&gt;</span><font></font>
<font></font>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Good Thymes Virtual Grocery<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Content-Type<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/html; charset<span class="token punctuation">=</span>UTF-8<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/css<span class="token punctuation">"</span></span> <span class="token attr-name">media</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>all<span class="token punctuation">"</span></span> 
          <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../../css/gtvg.css<span class="token punctuation">"</span></span> <span class="token attr-name">data-th-href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/css/gtvg.css}<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span><font></font>
  <font></font>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">data-th-text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#{home.welcome}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Welcome to our grocery store!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><font></font>
  <font></font>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTML5 规范允许使用自定义</font></font><code>data-</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">前缀属性，因此，通过上述代码，我们的模板将是</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有效的 HTML5 文档</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<blockquote>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这两种符号完全等价且可以互换，但为了代码示例的简单和紧凑，本教程将使用</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命名空间符号</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><code>th:*</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。此外，该</font></font><code>th:*</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">符号更通用，允许在每个 Thymeleaf 模板模式中使用（</font></font><code>XML</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code>TEXT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...），而</font></font><code>data-</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">符号仅允许在</font></font><code>HTML</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模式下使用。</font></font></p>
</blockquote>
<section id="using-thtext-and-externalizing-text" class="level3">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 th:text 并外部化文本</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外部化文本是从模板文件中提取模板代码片段，以便将它们保存在单独的文件（通常是</font></font><code>.properties</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件）中，并且可以轻松地用其他语言编写的等效文本替换它们（此过程称为国际化或简称为</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i18n</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。 外部化的文本片段通常称为</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“消息”</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">消息始终有一个用于标识它们的密钥，Thymeleaf 允许您使用以下语法指定文本应与特定消息相对应</font></font><code>#{...}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#{home.welcome}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Welcome to our grocery store!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们在这里看到的实际上是 Thymeleaf 标准方言的两个不同特点：</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该</font></font><code>th:text</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性评估其值表达式并将结果设置为主机标签的主体，有效地替换了我们在代码中看到的“欢迎来到我们的杂货店！”文本。</font></font></li>
<li><font style="vertical-align: inherit;"><em><font style="vertical-align: inherit;">标准表达式语法</font></em></font><code>#{home.welcome}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中指定的表达式</font><font style="vertical-align: inherit;">，</font><font style="vertical-align: inherit;">指示属性使用的文本应为具有</font><font style="vertical-align: inherit;">与我们处理模板时所使用的语言环境相对应的键的</font><font style="vertical-align: inherit;">消息。</font></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><code>th:text</code><font style="vertical-align: inherit;"></font><code>home.welcome</code><font style="vertical-align: inherit;"></font></li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">那么，这个外部化的文本在哪里呢？</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Thymeleaf 中外部化文本的位置是完全可配置的，并且取决于</font></font><code>org.thymeleaf.messageresolver.IMessageResolver</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所使用的具体实现。通常，将使用基于</font></font><code>.properties</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件的实现，但如果我们想要从数据库获取消息，我们可以创建自己的实现。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但是，我们在初始化期间没有为我们的模板引擎指定消息解析器，这意味着我们的应用程序正在使用</font><font style="vertical-align: inherit;">由实现的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标准消息解析器</font></font></em><font style="vertical-align: inherit;"></font><code>org.thymeleaf.messageresolver.StandardMessageResolver</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"></font><code>/WEB-INF/templates/home.html</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标准消息解析器希望在与模板位于同一文件夹中且名称相同的属性文件中</font><font style="vertical-align: inherit;">找到消息，例如：</font></font></p>
<ul>
<li><code>/WEB-INF/templates/home_en.properties</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于英文文本。</font></font></li>
<li><code>/WEB-INF/templates/home_es.properties</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于西班牙语文本。</font></font></li>
<li><code>/WEB-INF/templates/home_pt_BR.properties</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于葡萄牙语（巴西）文本。</font></font></li>
<li><code>/WEB-INF/templates/home.properties</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于默认文本（如果语言环境不匹配）。</font></font></li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们看一下我们的</font></font><code>home_es.properties</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件：</font></font></p>
<pre><code>home.welcome=¡Bienvenido a nuestra tienda de comestibles!</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这就是我们将 Thymeleaf 进程作为模板所需的全部内容。接下来让我们创建 Home 控制器。</font></font></p>
</section>
<section id="contexts" class="level3">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上下文</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为了处理我们的模板，我们将创建一个</font></font><code>HomeController</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实现</font></font><code>IGTVGController</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们之前看到的接口的类：</font></font></p>
<pre class=" language-java"><code class=" language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HomeController</span> <span class="token keyword">implements</span> <span class="token class-name">IGTVGController</span> <span class="token punctuation">{</span><font></font>
<font></font>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">process</span><span class="token punctuation">(</span>
            <span class="token keyword">final</span> HttpServletRequest request<span class="token punctuation">,</span> <span class="token keyword">final</span> HttpServletResponse response<span class="token punctuation">,</span>
            <span class="token keyword">final</span> ServletContext servletContext<span class="token punctuation">,</span> <span class="token keyword">final</span> ITemplateEngine templateEngine<span class="token punctuation">)</span>
            <span class="token keyword">throws</span> Exception <span class="token punctuation">{</span><font></font>
        <font></font>
        WebContext ctx <span class="token operator">=</span> 
                <span class="token keyword">new</span> <span class="token class-name">WebContext</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">,</span> servletContext<span class="token punctuation">,</span> request<span class="token punctuation">.</span><span class="token function">getLocale</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><font></font>
        <font></font>
        templateEngine<span class="token punctuation">.</span><span class="token function">process</span><span class="token punctuation">(</span><span class="token string">"home"</span><span class="token punctuation">,</span> ctx<span class="token punctuation">,</span> response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><font></font>
        <font></font>
    <span class="token punctuation">}</span><font></font>
<font></font>
<span class="token punctuation">}</span></code></pre>
<p><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们首先看到的是上下文</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的创建</font><font style="vertical-align: inherit;">。Thymeleaf 上下文是实现接口的对象</font></font><code>org.thymeleaf.context.IContext</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。上下文应在变量映射中包含模板引擎执行所需的所有数据，还应引用必须用于外部化消息的语言环境。</font></font></p>
<pre class=" language-java"><code class=" language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">IContext</span> <span class="token punctuation">{</span><font></font>
<font></font>
    <span class="token keyword">public</span> Locale <span class="token function">getLocale</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">containsVariable</span><span class="token punctuation">(</span><span class="token keyword">final</span> String name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> Set<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span> <span class="token function">getVariableNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> Object <span class="token function">getVariable</span><span class="token punctuation">(</span><span class="token keyword">final</span> String name<span class="token punctuation">)</span><span class="token punctuation">;</span><font></font>
    <font></font>
<span class="token punctuation">}</span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此接口有一个专门的扩展，</font></font><code>org.thymeleaf.context.IWebContext</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">旨在用于基于 ServletAPI 的 Web 应用程序（如 SpringMVC）。</font></font></p>
<pre class=" language-java"><code class=" language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">IWebContext</span> <span class="token keyword">extends</span> <span class="token class-name">IContext</span> <span class="token punctuation">{</span><font></font>
    <font></font>
    <span class="token keyword">public</span> HttpServletRequest <span class="token function">getRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> HttpServletResponse <span class="token function">getResponse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> HttpSession <span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> ServletContext <span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><font></font>
    <font></font>
<span class="token punctuation">}</span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Thymeleaf 核心库提供了以下每个接口的实现：</font></font></p>
<ul>
<li><code>org.thymeleaf.context.Context</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实现</font></font><code>IContext</code></li>
<li><code>org.thymeleaf.context.WebContext</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实现</font></font><code>IWebContext</code></li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正如您在控制器代码中看到的，</font></font><code>WebContext</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是我们使用的。事实上，我们必须这样做，因为使用</font></font><code>ServletContextTemplateResolver</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要求我们使用实现 的上下文</font></font><code>IWebContext</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<pre class=" language-java"><code class=" language-java">WebContext ctx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WebContext</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">,</span> servletContext<span class="token punctuation">,</span> request<span class="token punctuation">.</span><span class="token function">getLocale</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这四个构造函数参数中只需要三个，因为如果没有指定，则将使用系统的默认区域设置（尽管在实际应用程序中您不应该让这种情况发生）。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们可以使用一些专门的表达式从</font></font><code>WebContext</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模板中获取请求参数以及请求、会话和应用程序属性。例如：</font></font></p>
<ul>
<li><code>${x}</code><font style="vertical-align: inherit;"></font><code>x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将返回存储在 Thymeleaf 上下文中或作为</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请求属性的</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变量</font><font style="vertical-align: inherit;">。</font></font></li>
<li><code>${param.x}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将返回一个</font><font style="vertical-align: inherit;">名为的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请求参数</font></font></em><font style="vertical-align: inherit;"></font><code>x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（可能是多值的）。</font></font></li>
<li><code>${session.x}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将返回一个</font><font style="vertical-align: inherit;">名为的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">会话属性</font></font></em><font style="vertical-align: inherit;"></font><code>x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
<li><code>${application.x}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将返回一个</font><font style="vertical-align: inherit;">名为 的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">servlet 上下文属性</font></font></em><font style="vertical-align: inherit;"></font><code>x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
</ul>
</section>
<section id="executing-the-template-engine" class="level3">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">执行模板引擎</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在我们的上下文对象准备好之后，现在我们可以告诉模板引擎使用上下文来处理模板（通过它的名称），并且传递给它一个响应编写器，以便可以将响应写入它：</font></font></p>
<pre class=" language-java"><code class=" language-java">templateEngine<span class="token punctuation">.</span><span class="token function">process</span><span class="token punctuation">(</span><span class="token string">"home"</span><span class="token punctuation">,</span> ctx<span class="token punctuation">,</span> response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们看看使用西班牙语区域的结果：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token doctype">&lt;!DOCTYPE html&gt;</span><font></font>
<font></font>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Good Thymes Virtual Grocery<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/html; charset<span class="token punctuation">=</span>UTF-8<span class="token punctuation">"</span></span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Content-Type<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/css<span class="token punctuation">"</span></span> <span class="token attr-name">media</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>all<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/gtvg/css/gtvg.css<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span><font></font>
  <font></font>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>¡Bienvenido a nuestra tienda de comestibles!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span></code></pre>
</section>
</section>
<section id="more-on-texts-and-variables" class="level2">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.2 有关文本和变量的更多信息</font></font></h2>
<section id="unescaped-text" class="level3">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">未转义的文本</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们的主页的最简单版本现在似乎已经准备好了，但是有些事情我们还没有想到......如果我们有这样的消息怎么办？</font></font></p>
<pre class=" language-java"><code class=" language-java">home<span class="token punctuation">.</span>welcome<span class="token operator">=</span>Welcome to our <span class="token operator">&lt;</span>b<span class="token operator">&gt;</span>fantastic<span class="token operator">&lt;</span><span class="token operator">/</span>b<span class="token operator">&gt;</span> grocery store<span class="token operator">!</span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果我们像以前一样执行此模板，我们将获得：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Welcome to our <span class="token entity" title="&lt;">&amp;lt;</span>b<span class="token entity" title="&gt;">&amp;gt;</span>fantastic<span class="token entity" title="&lt;">&amp;lt;</span>/b<span class="token entity" title="&gt;">&amp;gt;</span> grocery store!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这并不完全是我们所期望的，因为我们的</font></font><code>&lt;b&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标签已经被转义，因此它将显示在浏览器中。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这是属性的默认行为</font></font><code>th:text</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。如果我们希望 Thymeleaf 尊重我们的 HTML 标签并且不对其进行转义，我们将不得不使用不同的属性：（</font></font><code>th:utext</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">针对“未转义的文本”）：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>utext</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#{home.welcome}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Welcome to our grocery store!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这将按照我们的需要输出消息：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Welcome to our <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">&gt;</span></span>fantastic<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span> grocery store!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre>
</section>
<section id="using-and-displaying-variables" class="level3">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用和显示变量</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现在让我们在主页上添加更多内容。例如，我们可能希望在欢迎消息下方显示日期，如下所示：</font></font></p>
<pre><code>Welcome to our fantastic grocery store!<font></font>
<font></font>
Today is: 12 july 2010</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">首先，我们必须修改我们的控制器，以便将该日期添加为上下文变量：</font></font></p>
<pre class=" language-java"><code class=" language-java"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">process</span><span class="token punctuation">(</span>
            <span class="token keyword">final</span> HttpServletRequest request<span class="token punctuation">,</span> <span class="token keyword">final</span> HttpServletResponse response<span class="token punctuation">,</span>
            <span class="token keyword">final</span> ServletContext servletContext<span class="token punctuation">,</span> <span class="token keyword">final</span> ITemplateEngine templateEngine<span class="token punctuation">)</span>
            <span class="token keyword">throws</span> Exception <span class="token punctuation">{</span><font></font>
        <font></font>
    SimpleDateFormat dateFormat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">"dd MMMM yyyy"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Calendar cal <span class="token operator">=</span> Calendar<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><font></font>
        <font></font>
    WebContext ctx <span class="token operator">=</span> 
            <span class="token keyword">new</span> <span class="token class-name">WebContext</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">,</span> servletContext<span class="token punctuation">,</span> request<span class="token punctuation">.</span><span class="token function">getLocale</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">setVariable</span><span class="token punctuation">(</span><span class="token string">"today"</span><span class="token punctuation">,</span> dateFormat<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>cal<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><font></font>
        <font></font>
    templateEngine<span class="token punctuation">.</span><span class="token function">process</span><span class="token punctuation">(</span><span class="token string">"home"</span><span class="token punctuation">,</span> ctx<span class="token punctuation">,</span> response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><font></font>
        <font></font>
<span class="token punctuation">}</span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们已经向我们的上下文添加了一个</font></font><code>String</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">名为的变量</font></font><code>today</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，现在我们可以在模板中显示它：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>utext</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#{home.welcome}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Welcome to our grocery store!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Today is: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${today}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>13 February 2011<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><font></font>
  <font></font>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如您所见，我们仍在使用</font></font><code>th:text</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作业的属性（这是正确的，因为我们想要替换标签的主体），但这次的语法略有不同，</font></font><code>#{...}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们使用的不是表达式值，而是</font></font><code>${...}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1。这是一个</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变量表达式，它包含一种名为</font></font></strong><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OGNL（对象图导航语言）</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的语言中的表达式，</font><font style="vertical-align: inherit;">该表达式将在我们之前讨论过的上下文变量映射上执行。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该</font></font><code>${today}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表达式只是意味着“获取今天调用的变量”，但这些表达式可能更复杂（例如</font></font><code>${user.name}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“获取名为用户的变量，并调用其</font></font><code>getName()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法”）。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性值有很多可能性：消息、变量表达式……等等。下一章将向我们展示所有这些可能性。</font></font></p>
</section>
</section>
</section>
<section id="standard-expression-syntax" class="level1">
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4 标准表达式语法</font></font></h1>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们将在开发杂货店虚拟商店的过程中稍作休息，以了解 Thymeleaf 标准方言中最重要的部分之一：Thymeleaf 标准表达式语法。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们已经看到了用这种语法表达的两种类型的有效属性值：消息和变量表达式：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>utext</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#{home.welcome}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Welcome to our grocery store!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Today is: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${today}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>13 february 2011<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但是，还有更多类型的表达式，以及更多有趣的细节需要我们了解我们已经知道的表达式。首先，让我们快速总结一下标准表达式的功能：</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">简单表达：
</font></font><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变量表达式：</font></font><code>${...}</code></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选择变量表达式：</font></font><code>*{...}</code></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">消息表达：</font></font><code>#{...}</code></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">链接 URL 表达式：</font></font><code>@{...}</code></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">片段表达式：</font></font><code>~{...}</code></li>
</ul></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文字
</font></font><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文本文字：</font></font><code>'one text'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，，</font></font><code>'Another one!'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">…</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数字</font><font style="vertical-align: inherit;">文字</font><font style="vertical-align: inherit;">：</font></font><code>0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，，，，</font><font style="vertical-align: inherit;">…</font></font><code>34</code><font style="vertical-align: inherit;"></font><code>3.0</code><font style="vertical-align: inherit;"></font><code>12.3</code><font style="vertical-align: inherit;"></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">布尔文字：</font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code>false</code></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">空文字：</font></font><code>null</code></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文字标记</font><font style="vertical-align: inherit;">：</font></font><code>one</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，，，</font><font style="vertical-align: inherit;">…</font></font><code>sometext</code><font style="vertical-align: inherit;"></font><code>main</code><font style="vertical-align: inherit;"></font></li>
</ul></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文本操作：
</font></font><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符串连接：</font></font><code>+</code></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文字替换：</font></font><code>|The name is ${name}|</code></li>
</ul></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">算术运算：
</font></font><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">二元</font><font style="vertical-align: inherit;">运算</font><font style="vertical-align: inherit;">符</font><font style="vertical-align: inherit;">：</font></font><code>+</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，，，，，</font></font><code>-</code><font style="vertical-align: inherit;"></font><code>*</code><font style="vertical-align: inherit;"></font><code>/</code><font style="vertical-align: inherit;"></font><code>%</code></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">减号（一元运算符）：</font></font><code>-</code></li>
</ul></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">布尔运算：
</font></font><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">二元运算符：</font></font><code>and</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code>or</code></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">布尔否定（一元运算符）</font></font><code>!</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：，</font></font><code>not</code></li>
</ul></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">比较和相等：
</font></font><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">比较</font><font style="vertical-align: inherit;">器</font><font style="vertical-align: inherit;">：</font></font><code>&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，，，</font><font style="vertical-align: inherit;">（</font><font style="vertical-align: inherit;">，，，</font><font style="vertical-align: inherit;">）</font></font><code>&lt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">​</font></font><code>&gt;=</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">​</font></font><code>&lt;=</code><font style="vertical-align: inherit;"></font><code>gt</code><font style="vertical-align: inherit;"></font><code>lt</code><font style="vertical-align: inherit;"></font><code>ge</code><font style="vertical-align: inherit;"></font><code>le</code><font style="vertical-align: inherit;"></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">等号运算符：</font></font><code>==</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>!=</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font><code>eq</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>ne</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></li>
</ul></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">条件运算符：
</font></font><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果-那么：</font></font><code>(if) ? (then)</code></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果-则-否则：</font></font><code>(if) ? (then) : (else)</code></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认：</font></font><code>(value) ?: (defaultvalue)</code></li>
</ul></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特殊标记：
</font></font><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">无操作：</font></font><code>_</code></li>
</ul></li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所有这些功能都可以组合和嵌套：</font></font></p>
<pre class=" language-html"><code class=" language-html">'User is of type ' + (${user.isAdmin()} ? 'Administrator' : (${user.type} ?: 'Unknown'))</code></pre>
<section id="messages" class="level2">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.1 消息</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们已经知道，</font></font><code>#{...}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">消息表达式允许我们链接以下内容：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>utext</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#{home.welcome}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Welcome to our grocery store!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">…变成这样：</font></font></p>
<pre><code>home.welcome=¡Bienvenido a nuestra tienda de comestibles!</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但有一个方面我们还没有想到：如果消息文本不是完全静态的，会发生什么？例如，如果我们的应用程序随时知道谁是访问网站的用户，而我们想通过名字来问候他们，该怎么办？</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>¡Bienvenido a nuestra tienda de comestibles, John Apricot!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这意味着我们需要在消息中添加一个参数。就像这样：</font></font></p>
<pre><code>home.welcome=¡Bienvenido a nuestra tienda de comestibles, {0}!</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数是根据</font></font><a href="javascript:if(confirm(%27https://docs.oracle.com/javase/10/docs/api/java/text/MessageFormat.html  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27https://docs.oracle.com/javase/10/docs/api/java/text/MessageFormat.html%27" tppabs="https://docs.oracle.com/javase/10/docs/api/java/text/MessageFormat.html"><code>java.text.MessageFormat</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标准语法指定，这意味着您可以按照包中类的 API 文档中指定的方式将其格式化为数字和日期</font></font><code>java.text.*</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为了为我们的参数指定一个值，并给出一个名为的 HTTP 会话属性</font></font><code>user</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，我们可以：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>utext</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#{home.welcome(${session.user.name})}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><font></font>
  Welcome to our grocery store, Sebastian Pepper!<font></font>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre>
<blockquote>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意，这里使用</font></font><code>th:utext</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示格式化的消息不会被转义。此示例假设</font></font><code>user.name</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已经转义。</font></font></p>
</blockquote>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以指定多个参数，以逗号分隔。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">消息键本身可以来自变量：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>utext</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#{${welcomeMsgKey}(${session.user.name})}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><font></font>
  Welcome to our grocery store, Sebastian Pepper!<font></font>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre>
</section>
<section id="variables" class="level2">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.2 变量</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们已经提到，</font></font><code>${...}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表达式实际上是在上下文中包含的变量映射上执行的 OGNL（对象图导航语言）表达式。</font></font></p>
<blockquote>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有关 OGNL 语法和功能的详细信息，你应该阅读</font></font><a href="javascript:if(confirm(%27http://commons.apache.org/ognl/  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://commons.apache.org/ognl/%27" tppabs="http://commons.apache.org/ognl/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OGNL 语言指南</font></font></a></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在支持 Spring MVC 的应用程序中，OGNL 将被</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SpringEL</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">取代，但其语法与 OGNL 非常相似（实际上，对于大多数常见情况而言完全相同）。</font></font></p>
</blockquote>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从OGNL的语法中，我们知道表达式：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Today is: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${today}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>13 february 2011<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">…实际上相当于这样：</font></font></p>
<pre class=" language-java"><code class=" language-java">ctx<span class="token punctuation">.</span><span class="token function">getVariable</span><span class="token punctuation">(</span><span class="token string">"today"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但是 OGNL 允许我们创建更强大的表达式，例如：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>utext</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#{home.welcome(${session.user.name})}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><font></font>
  Welcome to our grocery store, Sebastian Pepper!<font></font>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...通过执行以下命令获取用户名：</font></font></p>
<pre class=" language-java"><code class=" language-java"><span class="token punctuation">(</span><span class="token punctuation">(</span>User<span class="token punctuation">)</span> ctx<span class="token punctuation">.</span><span class="token function">getVariable</span><span class="token punctuation">(</span><span class="token string">"session"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"user"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但是 getter 方法导航只是 OGNL 的功能之一。让我们看看更多：</font></font></p>
<pre class=" language-java"><code class=" language-java"><span class="token comment" spellcheck="true">/*
 * Access to properties using the point (.). Equivalent to calling property getters.
 */</span>
$<span class="token punctuation">{</span>person<span class="token punctuation">.</span>father<span class="token punctuation">.</span>name<span class="token punctuation">}</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Access to properties can also be made by using brackets ([]) and writing 
 * the name of the property as a variable or between single quotes.
 */</span>
$<span class="token punctuation">{</span>person<span class="token punctuation">[</span><span class="token string">'father'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">}</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * If the object is a map, both dot and bracket syntax will be equivalent to 
 * executing a call on its get(...) method.
 */</span>
$<span class="token punctuation">{</span>countriesByCode<span class="token punctuation">.</span>ES<span class="token punctuation">}</span>
$<span class="token punctuation">{</span>personsByName<span class="token punctuation">[</span><span class="token string">'Stephen Zucchini'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>age<span class="token punctuation">}</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Indexed access to arrays or collections is also performed with brackets, 
 * writing the index without quotes.
 */</span>
$<span class="token punctuation">{</span>personsArray<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>name<span class="token punctuation">}</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Methods can be called, even with arguments.
 */</span>
$<span class="token punctuation">{</span>person<span class="token punctuation">.</span><span class="token function">createCompleteName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>person<span class="token punctuation">.</span><span class="token function">createCompleteNameWithSeparator</span><span class="token punctuation">(</span><span class="token string">'-'</span><span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre>
<section id="expression-basic-objects" class="level3">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表达式基本对象</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在上下文变量上评估 OGNL 表达式时，一些对象可用于表达式，以提高灵活性。这些对象将以以下符号开头引用（根据 OGNL 标准）</font></font><code>#</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></p>
<ul>
<li><code>#ctx</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：上下文对象。</font></font></li>
<li><code>#vars:</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上下文变量。</font></font></li>
<li><code>#locale</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：上下文语言环境。</font></font></li>
<li><code>#request</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：（仅限于 Web 环境中）</font></font><code>HttpServletRequest</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对象。</font></font></li>
<li><code>#response</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：（仅限于 Web 环境中）</font></font><code>HttpServletResponse</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对象。</font></font></li>
<li><code>#session</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：（仅限于 Web 环境中）</font></font><code>HttpSession</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对象。</font></font></li>
<li><code>#servletContext</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：（仅限于 Web 环境中）</font></font><code>ServletContext</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对象。</font></font></li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所以我们可以这样做：</font></font></p>
<pre class=" language-html"><code class=" language-html">Established locale country: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${#locale.country}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>US<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>.</code></pre>
<p><font style="vertical-align: inherit;"></font><a href="#appendix-a-expression-basic-objects"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您可以在附录 A</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中阅读这些对象的完整参考</font><font style="vertical-align: inherit;">。</font></font></p>
</section>
<section id="expression-utility-objects" class="level3">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表达式实用对象</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">除了这些基本对象之外，Thymeleaf 还为我们提供一组实用对象，帮助我们在表达式中执行常见任务。</font></font></p>
<ul>
<li><code>#execInfo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：正在处理的模板的信息。</font></font></li>
<li><code>#messages</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：获取变量表达式中的外部化消息的方法，方式与使用#{…} 语法获取消息的方式相同。</font></font></li>
<li><code>#uris</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：转义 URL/URI 部分内容的方法</font></font></li>
<li><code>#conversions</code><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：执行配置的转换服务的</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法</font><font style="vertical-align: inherit;">（如果有）。</font></font></li>
<li><code>#dates</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：对象的方法</font></font><code>java.util.Date</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：格式化、组件提取等。</font></font></li>
<li><code>#calendars</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：类似于</font></font><code>#dates</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，但是用于</font></font><code>java.util.Calendar</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对象。</font></font></li>
<li><code>#numbers</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：格式化数字对象的方法。</font></font></li>
<li><code>#strings</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：对象的方法</font></font><code>String</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：contains、startsWith、prepending/appending 等。</font></font></li>
<li><code>#objects</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：一般对象的方法。</font></font></li>
<li><code>#bools</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：布尔评估方法。</font></font></li>
<li><code>#arrays</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：数组的方法。</font></font></li>
<li><code>#lists</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：列表的方法。</font></font></li>
<li><code>#sets</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：集合的方法。</font></font></li>
<li><code>#maps</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：Maps的方法。</font></font></li>
<li><code>#aggregates</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：在数组或集合上创建聚合的方法。</font></font></li>
<li><code>#ids</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：处理可能重复的 id 属性的方法（例如，作为迭代的结果）。</font></font></li>
</ul>
<p><font style="vertical-align: inherit;"></font><a href="#appendix-b-expression-utility-objects"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您可以在附录 B</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中查看每个实用程序对象提供的功能</font><font style="vertical-align: inherit;">。</font></font></p>
</section>
<section id="reformatting-dates-in-our-home-page" class="level3">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重新格式化主页上的日期</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现在我们了解了这些实用对象，我们可以使用它们来改变我们在主页上显示日期的方式。而不是在我们的中这样做</font></font><code>HomeController</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></p>
<pre class=" language-java"><code class=" language-java">SimpleDateFormat dateFormat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">"dd MMMM yyyy"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Calendar cal <span class="token operator">=</span> Calendar<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><font></font>
<font></font>
WebContext ctx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WebContext</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> servletContext<span class="token punctuation">,</span> request<span class="token punctuation">.</span><span class="token function">getLocale</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ctx<span class="token punctuation">.</span><span class="token function">setVariable</span><span class="token punctuation">(</span><span class="token string">"today"</span><span class="token punctuation">,</span> dateFormat<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>cal<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><font></font>
<font></font>
templateEngine<span class="token punctuation">.</span><span class="token function">process</span><span class="token punctuation">(</span><span class="token string">"home"</span><span class="token punctuation">,</span> ctx<span class="token punctuation">,</span> response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">…我们可以这样做：</font></font></p>
<pre class=" language-java"><code class=" language-java">WebContext ctx <span class="token operator">=</span> 
    <span class="token keyword">new</span> <span class="token class-name">WebContext</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">,</span> servletContext<span class="token punctuation">,</span> request<span class="token punctuation">.</span><span class="token function">getLocale</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ctx<span class="token punctuation">.</span><span class="token function">setVariable</span><span class="token punctuation">(</span><span class="token string">"today"</span><span class="token punctuation">,</span> Calendar<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><font></font>
<font></font>
templateEngine<span class="token punctuation">.</span><span class="token function">process</span><span class="token punctuation">(</span><span class="token string">"home"</span><span class="token punctuation">,</span> ctx<span class="token punctuation">,</span> response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...然后在视图层本身执行日期格式化：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
  Today is: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${#calendars.format(today,<span class="token punctuation">'</span>dd MMMM yyyy<span class="token punctuation">'</span>)}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>13 May 2011<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre>
</section>
</section>
<section id="expressions-on-selections-asterisk-syntax" class="level2">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.3 选择表达式（星号语法）</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变量表达式不仅可以写成</font></font><code>${...}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，还可以写成</font></font><code>*{...}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但有一个重要的区别：星号语法对</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选定对象</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">而不是整个上下文进行表达式求值。也就是说，只要没有选定对象，美元和星号语法的作用完全相同。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">那么选定对象是什么？使用属性的表达式的结果</font></font><code>th:object</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。让我们在用户资料 ( </font></font><code>userprofile.html</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) 页面中使用一个：</font></font></p>
<pre class=" language-html"><code class=" language-html">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>object</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${session.user}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Name: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>*{firstName}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Sebastian<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Surname: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>*{lastName}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Pepper<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Nationality: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>*{nationality}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Saturn<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这完全等同于：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Name: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${session.user.firstName}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Sebastian<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Surname: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${session.user.lastName}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Pepper<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Nationality: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${session.user.nationality}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Saturn<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当然，美元和星号语法可以混合使用：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>object</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${session.user}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Name: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>*{firstName}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Sebastian<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Surname: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${session.user.lastName}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Pepper<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Nationality: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>*{nationality}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Saturn<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当选择对象时，所选对象也将作为</font></font><code>#object</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表达式变量用于美元表达式：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>object</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${session.user}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Name: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${#object.firstName}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Sebastian<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Surname: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${session.user.lastName}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Pepper<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Nationality: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>*{nationality}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Saturn<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如上所述，如果没有执行对象选择，则美元和星号语法是等效的。</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Name: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>*{session.user.name}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Sebastian<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Surname: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>*{session.user.surname}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Pepper<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Nationality: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>*{session.user.nationality}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Saturn<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre>
</section>
<section id="link-urls" class="level2">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.4 链接 URL</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由于其重要性，URL 是 Web 应用程序模板中的一等公民，并且</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Thymeleaf 标准方言</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对它们有一种特殊的语法，</font></font><code>@</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语法为：</font></font><code>@{...}</code></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">URL 有多种类型：</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">绝对 URL：</font></font><code>http://www.thymeleaf.org</code></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相对 URL，可以是：
</font></font><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">页面相关：</font></font><code>user/login.html</code></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上下文相关：（</font></font><code>/itemdetails?id=3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器中的上下文名称将自动添加）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器相关：（</font></font><code>~/billing/processInvoice</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">允许在同一服务器中调用另一个上下文（=应用程序）中的 URL。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">协议相对 URL：</font></font><code>//code.jquery.com/jquery-2.0.3.min.js</code></li>
</ul></li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这些表达式的实际处理及其向将要输出的 URL 的转换是通过</font></font><code>org.thymeleaf.linkbuilder.ILinkBuilder</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注册到</font></font><code>ITemplateEngine</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正在使用的对象中的接口的实现来完成的。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认情况下，该类只注册了一个此接口的实现</font></font><code>org.thymeleaf.linkbuilder.StandardLinkBuilder</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，这对于离线（非 Web）和基于 Servlet API 的 Web 场景来说已经足够了。其他场景（如与非 ServletAPI Web 框架集成）可能需要链接生成器接口的特定实现。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们使用这个新语法。了解一下</font></font><code>th:href</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token comment" spellcheck="true">&lt;!-- Will produce 'http://localhost:8080/gtvg/order/details?orderId=3' (plus rewriting) --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>details.html<span class="token punctuation">"</span></span> 
   <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{http://localhost:8080/gtvg/order/details(orderId<span class="token punctuation">=</span>${o.id})}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>view<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
<span class="token comment" spellcheck="true">&lt;!-- Will produce '/gtvg/order/details?orderId=3' (plus rewriting) --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>details.html<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/order/details(orderId<span class="token punctuation">=</span>${o.id})}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>view<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
<span class="token comment" spellcheck="true">&lt;!-- Will produce '/gtvg/order/3/details' (plus rewriting) --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>details.html<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/order/{orderId}/details(orderId<span class="token punctuation">=</span>${o.id})}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>view<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这里需要注意以下几点：</font></font></p>
<ul>
<li><code>th:href</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是一个修饰属性：一旦处理，它将计算要使用的链接 URL 并将该值设置为标签</font></font><code>href</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的属性</font></font><code>&lt;a&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们可以使用表达式来表示 URL 参数（如 所示</font></font><code>orderId=${o.id}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。所需的 URL 参数编码操作也将自动执行。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果需要多个参数，这些参数将用逗号分隔：</font></font><code>@{/order/process(execId=${execId},execType='FAST')}</code></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">URL 路径中也允许使用变量模板：</font></font><code>@{/order/{orderId}/details(orderId=${orderId})}</code></li>
<li><font style="vertical-align: inherit;"></font><code>/</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以（例如： ）</font><font style="vertical-align: inherit;">开头的相对 URL</font></font><code>/order/details</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将自动以应用程序上下文名称作为前缀。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果未启用 cookie 或者尚不清楚这一点，</font></font><code>";jsessionid=..."</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">则可能会将后缀添加到相对 URL 中，以便保留会话。这称为</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">URL 重写</font></font></em><font style="vertical-align: inherit;"></font><code>response.encodeURL(...)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，Thymeleaf 允许您使用Servlet API 中的机制为每个 URL</font><font style="vertical-align: inherit;">插入自己的重写过滤器。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该</font></font><code>th:href</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性允许我们（可选）</font></font><code>href</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在模板中拥有一个有效的静态属性，以便我们的模板链接在为原型目的直接打开时仍然可以通过浏览器导航。</font></font></li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与消息语法 () 的情况一样</font></font><code>#{...}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，URL 基础也可以是评估另一个表达式的结果：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{${url}(orderId<span class="token punctuation">=</span>${o.id})}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>view<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{<span class="token punctuation">'</span>/details/<span class="token punctuation">'</span>+${user.login}(orderId<span class="token punctuation">=</span>${o.id})}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>view<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span></code></pre>
<section id="a-menu-for-our-home-page" class="level3">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们的主页菜单</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现在我们知道如何创建链接 URL，那么在主页上为网站的其他一些页面添加一个小菜单怎么样？</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Please select an option<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ol</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>product/list.html<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/product/list}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Product List<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>order/list.html<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/order/list}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Order List<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>subscribe.html<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/subscribe}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Subscribe to our Newsletter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>userprofile.html<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/userprofile}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>See User Profile<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ol</span><span class="token punctuation">&gt;</span></span></code></pre>
</section>
<section id="server-root-relative-urls" class="level3">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器根目录相对 URL</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以使用附加语法来创建相对于服务器根目录（而不是相对于上下文根目录）的 URL，以便链接到同一服务器中的不同上下文。这些 URL 将按如下方式指定</font></font><code>@{~/path/to/something}</code></p>
</section>
</section>
<section id="fragments" class="level2">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.5 片段</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">片段表达式是一种表示标记片段并在模板中移动它们的简单方法。这使我们能够复制它们、将它们作为参数传递给其他模板等等。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最常见的用途是使用</font></font><code>th:insert</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或插入片段</font></font><code>th:replace</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（更多内容请参阅后面的部分）：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>insert</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>~{commons :: main}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但它们可以在任何地方使用，就像任何其他变量一样：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>with</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>frag<span class="token punctuation">=</span>~{footer :: #main/text()}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>insert</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${frag}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本教程的后面有一整节专门介绍模板布局，包括对片段表达式的更深入的解释。</font></font></p>
</section>
<section id="literals" class="level2">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.6 文字</font></font></h2>
<section id="text-literals" class="level3">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文本文字</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文本文字只是用单引号指定的字符串。它们可以包含任何字符，但您应该使用 转义其中的任何单引号</font></font><code>\'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
  Now you are looking at a <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>working web application<span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>template file<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>.
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre>
</section>
<section id="number-literals" class="level3">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数字文字</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数字文字就是数字。</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>The year is <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>2013<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>1492<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>In two years, it will be <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>2013 + 2<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>1494<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre>
</section>
<section id="boolean-literals" class="level3">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">布尔文字</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">布尔文字为</font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。例如：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${user.isAdmin()} <span class="token punctuation">=</span><span class="token punctuation">=</span> false<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span> ...</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在这个例子中，</font></font><code>== false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">写在括号外，所以 Thymeleaf 会处理它。如果它写在括号内，那么就由 OGNL/SpringEL 引擎来处理了：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${user.isAdmin() <span class="token punctuation">=</span><span class="token punctuation">=</span> false}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span> ...</code></pre>
</section>
<section id="the-null-literal" class="level3">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">空文字</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文字</font></font><code>null</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">也可以这样使用：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${variable.something} <span class="token punctuation">=</span><span class="token punctuation">=</span> null<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span> ...</code></pre>
</section>
<section id="literal-tokens" class="level3">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文字标记</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数字、布尔和空文字实际上是</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文字标记</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的特殊情况。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这些标记允许在标准表达式中进行一些简化。它们的工作方式与文本文字 ( </font></font><code>'...'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) 完全相同，但它们仅允许字母 (</font></font><code>A-Z</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code>a-z</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)、数字 ( </font></font><code>0-9</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)、括号 (</font></font><code>[</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code>]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)、点 ( </font></font><code>.</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)、连字符 ( </font></font><code>-</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) 和下划线 ( </font></font><code>_</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)。因此，不能有空格、逗号等。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">好的部分？ Tokens 不需要任何引号。 因此我们可以这样做：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>content<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">代替：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>content<span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre>
</section>
</section>
<section id="appending-texts" class="level2">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.7 附加文本</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文本，无论它们是文字还是评估变量或消息表达式的结果，都可以使用</font></font><code>+</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运算符轻松附加：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>The name of the user is <span class="token punctuation">'</span> + ${user.name}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span></code></pre>
</section>
<section id="literal-substitutions" class="level2">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.8 文字替换</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文字替换允许轻松格式化包含变量值的字符串，而无需在文字后附加</font></font><code>'...' + '...'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这些替换必须用竖线 ( </font></font><code>|</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) 包围，例如：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>|Welcome to our application, ${user.name}!|<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这相当于：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>Welcome to our application, <span class="token punctuation">'</span> + ${user.name} + <span class="token punctuation">'</span>!<span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文字替换可以与其他类型的表达式结合使用：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${onevar} + <span class="token punctuation">'</span> <span class="token punctuation">'</span> + |${twovar}, ${threevar}|<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span></code></pre>
<blockquote>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文字替换中仅允许使用</font><font style="vertical-align: inherit;">变量/消息表达式（</font></font><code>${...}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>*{...}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、 ） </font><font style="vertical-align: inherit;">。不允许使用其他文字（</font><font style="vertical-align: inherit;">）、布尔/数字标记、条件表达式等。</font></font><code>#{...}</code><font style="vertical-align: inherit;"></font><code>|...|</code><font style="vertical-align: inherit;"></font><code>'...'</code><font style="vertical-align: inherit;"></font></p>
</blockquote>
</section>
<section id="arithmetic-operations" class="level2">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.9 算术运算</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">还可以进行一些算术</font><font style="vertical-align: inherit;">运算</font><font style="vertical-align: inherit;">：</font></font><code>+</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，，，</font><font style="vertical-align: inherit;">和</font></font><code>-</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><code>*</code><font style="vertical-align: inherit;"></font><code>/</code><font style="vertical-align: inherit;"></font><code>%</code><font style="vertical-align: inherit;"></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>with</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>isEven<span class="token punctuation">=</span>(${prodStat.count} % 2 <span class="token punctuation">=</span><span class="token punctuation">=</span> 0)<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意，这些运算符也可以在 OGNL 变量表达式内部应用（在这种情况下将由 OGNL 而不是 Thymeleaf 标准表达式引擎执行）：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>with</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>isEven<span class="token punctuation">=</span>${prodStat.count % 2 <span class="token punctuation">=</span><span class="token punctuation">=</span> 0}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意，其中一些运算符存在文本别名：</font></font><code>div</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font><code>/</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)、</font></font><code>mod</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font><code>%</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)。</font></font></p>
</section>
<section id="comparators-and-equality" class="level2">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.10 比较器和相等性</font></font></h2>
<p><font style="vertical-align: inherit;"></font><code>&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表达式中的值可以用、</font><font style="vertical-align: inherit;">和符号</font><font style="vertical-align: inherit;">进行比较</font><font style="vertical-align: inherit;">，并且可以使用</font><font style="vertical-align: inherit;">and</font><font style="vertical-align: inherit;">运算符来检查是否相等（或不相等）。请注意，XML 规定</font></font><code>&lt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不应</font><font style="vertical-align: inherit;">在属性值中使用</font><font style="vertical-align: inherit;">and符号，因此应将其替换为</font><font style="vertical-align: inherit;">and </font><font style="vertical-align: inherit;">。</font></font><code>&gt;=</code><font style="vertical-align: inherit;"></font><code>&lt;=</code><font style="vertical-align: inherit;"></font><code>==</code><font style="vertical-align: inherit;"></font><code>!=</code><font style="vertical-align: inherit;"></font><code>&lt;</code><font style="vertical-align: inherit;"></font><code>&gt;</code><font style="vertical-align: inherit;"></font><code>&amp;lt;</code><font style="vertical-align: inherit;"></font><code>&amp;gt;</code><font style="vertical-align: inherit;"></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${prodStat.count} &amp;gt; 1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>Execution mode is <span class="token punctuation">'</span> + ( (${execMode} <span class="token punctuation">=</span><span class="token punctuation">=</span> <span class="token punctuation">'</span>dev<span class="token punctuation">'</span>)? <span class="token punctuation">'</span>Development<span class="token punctuation">'</span> : <span class="token punctuation">'</span>Production<span class="token punctuation">'</span>)<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一种更简单的替代方法可能是使用以下某些运算符的文本别名：</font></font><code>gt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font><code>&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)、</font></font><code>lt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font><code>&lt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)、</font></font><code>ge</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font><code>&gt;=</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)、</font></font><code>le</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font><code>&lt;=</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)、</font></font><code>not</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font><code>!</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)。还有</font></font><code>eq</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font><code>==</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)、</font></font><code>neq</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ </font></font><code>ne</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font><code>!=</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)。</font></font></p>
</section>
<section id="conditional-expressions" class="level2">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.11 条件表达式</font></font></h2>
<p><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">条件表达式</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">旨在根据评估条件（本身是另一个表达式）的结果仅评估两个表达式中的一个。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们来看一个示例片段（引入另一个</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性修饰符</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>th:class</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name"><span class="token namespace">th:</span>class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${row.even}? <span class="token punctuation">'</span>even<span class="token punctuation">'</span> : <span class="token punctuation">'</span>odd<span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><font></font>
  ...<font></font>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">条件表达式的所有三个部分（</font></font><code>condition</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>then</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code>else</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）本身都是表达式，这意味着它们可以是变量（</font></font><code>${...}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>*{...}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）、消息（</font></font><code>#{...}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）、URL（</font></font><code>@{...}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）或文字（</font></font><code>'...'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">条件表达式也可以使用括号嵌套：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name"><span class="token namespace">th:</span>class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${row.even}? (${row.first}? <span class="token punctuation">'</span>first<span class="token punctuation">'</span> : <span class="token punctuation">'</span>even<span class="token punctuation">'</span>) : <span class="token punctuation">'</span>odd<span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><font></font>
  ...<font></font>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Else 表达式也可以省略，在这种情况下，如果条件为假，则返回空值：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name"><span class="token namespace">th:</span>class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${row.even}? <span class="token punctuation">'</span>alt<span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><font></font>
  ...<font></font>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span></code></pre>
</section>
<section id="default-expressions-elvis-operator" class="level2">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.12 默认表达式（Elvis 运算符）</font></font></h2>
<p><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认表达式</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font><font style="vertical-align: inherit;">一种特殊的条件值，没有</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">then</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部分。它相当于某些语言（如 Groovy）中的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Elvis 运算符</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，允许您指定两个表达式：如果结果不为空，则使用第一个表达式；如果结果为空，则使用第二个表达式。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们在用户资料页面中看看它的实际运行情况：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>object</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${session.user}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><font></font>
  ...<font></font>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Age: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>*{age}?: <span class="token punctuation">'</span>(no age specified)<span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>27<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如您所见，运算符为</font></font><code>?:</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，我们在此使用它来指定名称的默认值（在本例中为文字值），仅当评估结果</font></font><code>*{age}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为空时才使用。因此，这相当于：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Age: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>*{age !<span class="token punctuation">=</span> null}? *{age} : <span class="token punctuation">'</span>(no age specified)<span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>27<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与条件值一样，它们可以在括号之间包含嵌套表达式：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><font></font>
  Name: <font></font>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>*{firstName}?: (*{admin}? <span class="token punctuation">'</span>Admin<span class="token punctuation">'</span> : #{default.username})<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Sebastian<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre>
</section>
<section id="the-no-operation-token" class="level2">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.13 无操作标记</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">无操作标记用下划线符号 ( </font></font><code>_</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) 表示。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此标记背后的想法是指定表达式的期望结果是</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不执行任何操作</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，即，就像可处理属性（例如</font></font><code>th:text</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）根本不存在一样。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">除其他可能性外，这允许开发人员使用原型文本作为默认值。例如，而不是：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${user.name} ?: <span class="token punctuation">'</span>no user authenticated<span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...我们可以直接使用</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“未对用户进行身份验证”</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作为原型文本，这样从设计的角度来看代码会更加简洁和通用：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${user.name} ?: _<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>no user authenticated<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span></code></pre>
</section>
<section id="data-conversion-formatting" class="level2">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.14 数据转换/格式化</font></font></h2>
<p>Thymeleaf defines a <em>double-brace</em> syntax for variable (<code>${...}</code>) and selection (<code>*{...}</code>) expressions that allows us to apply <em>data conversion</em> by means of a configured <em>conversion service</em>.</p>
<p>It basically goes like this:</p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${{user.lastAccessDate}}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span></code></pre>
<p>Noticed the double brace there?: <code>${{...}}</code>. That instructs Thymeleaf to pass the result of the <code>user.lastAccessDate</code> expression to the <em>conversion service</em> and asks it to perform a <strong>formatting operation</strong> (a conversion to <code>String</code>) before writing the result.</p>
<p>Assuming that <code>user.lastAccessDate</code> is of type <code>java.util.Calendar</code>, if a <em>conversion service</em> (implementation of <code>IStandardConversionService</code>) has been registered and contains a valid conversion for <code>Calendar -&gt; String</code>, it will be applied.</p>
<p>The default implementation of <code>IStandardConversionService</code> (the <code>StandardConversionService</code> class) simply executes <code>.toString()</code> on any object converted to <code>String</code>. For more information on how to register a custom <em>conversion service</em> implementation, have a look at the <a href="#more-on-configuration">More on Configuration</a> section.</p>
<blockquote>
<p>The official thymeleaf-spring3 and thymeleaf-spring4 integration packages transparently integrate Thymeleaf’s conversion service mechanism with Spring’s own <em>Conversion Service</em> infrastructure, so that conversion services and formatters declared in the Spring configuration will be made automatically available to <code>${{...}}</code> and <code>*{{...}}</code> expressions.</p>
</blockquote>
</section>
<section id="preprocessing" class="level2">
<h2>4.15 Preprocessing</h2>
<p>In addition to all these features for expression processing, Thymeleaf has the feature of <em>preprocessing</em> expressions.</p>
<p>Preprocessing is an execution of the expressions done before the normal one that allows for modification of the expression that will eventually be executed.</p>
<p>Preprocessed expressions are exactly like normal ones, but appear surrounded by a double underscore symbol (like <code>__${expression}__</code>).</p>
<p>Let’s imagine we have an i18n <code>Messages_fr.properties</code> entry containing an OGNL expression calling a language-specific static method, like:</p>
<pre class=" language-java"><code class=" language-java">article<span class="token punctuation">.</span>text<span class="token operator">=</span><span class="token annotation punctuation">@myapp</span><span class="token punctuation">.</span>translator<span class="token punctuation">.</span>Translator<span class="token annotation punctuation">@translateToFrench</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>
<p>…and a <code>Messages_es.properties equivalent</code>:</p>
<pre class=" language-java"><code class=" language-java">article<span class="token punctuation">.</span>text<span class="token operator">=</span><span class="token annotation punctuation">@myapp</span><span class="token punctuation">.</span>translator<span class="token punctuation">.</span>Translator<span class="token annotation punctuation">@translateToSpanish</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>
<p>We can create a fragment of markup that evaluates one expression or the other depending on the locale. For this, we will first select the expression (by preprocessing) and then let Thymeleaf execute it:</p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${__#{article.text(<span class="token punctuation">'</span>textVar<span class="token punctuation">'</span>)}__}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Some text here...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre>
<p>Note that the preprocessing step for a French locale will be creating the following equivalent:</p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${@myapp.translator.Translator@translateToFrench(textVar)}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Some text here...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre>
<p>The preprocessing String <code>__</code> can be escaped in attributes using <code>\_\_</code>.</p>
</section>
</section>
<section id="setting-attribute-values" class="level1">
<h1>5 Setting Attribute Values</h1>
<p>This chapter will explain the way in which we can set (or modify) values of attributes in our markup.</p>
<section id="setting-the-value-of-any-attribute" class="level2">
<h2>5.1 Setting the value of any attribute</h2>
<p>Say our website publishes a newsletter, and we want our users to be able to subscribe to it, so we create a <code>/WEB-INF/templates/subscribe.html</code> template with a form:</p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>subscribe.html<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>fieldset</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>email<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Subscribe!<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>fieldset</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与 Thymeleaf 一样，此模板一开始更像是静态原型，而不是 Web 应用程序的模板。首先，</font></font><code>action</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表单中的属性静态链接到模板文件本身，因此没有地方进行有用的 URL 重写。其次，</font></font><code>value</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提交按钮中的属性使其显示英文文本，但我们希望它能够国际化。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">然后输入</font></font><code>th:attr</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性，以及它改变所设置标签的属性值的能力：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>subscribe.html<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>attr</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>action<span class="token punctuation">=</span>@{/subscribe}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>fieldset</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>email<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Subscribe!<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>attr</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>value<span class="token punctuation">=</span>#{subscribe.submit}<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>fieldset</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这个概念很简单：</font></font><code>th:attr</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">只需采用一个将值分配给属性的表达式。创建相应的控制器和消息文件后，处理此文件的结果将是：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/gtvg/subscribe<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>fieldset</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>email<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>¡Suscríbe!<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>fieldset</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">除了新的属性值之外，您还可以看到应用程序上下文名称已自动添加到 URL 基础的前缀</font></font><code>/gtvg/subscribe</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，如上一章所述。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但是如果我们想一次设置多个属性怎么办？ XML 规则不允许在标签中两次设置属性，因此</font></font><code>th:attr</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将采用逗号分隔的分配列表，例如：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../../images/gtvglogo.png<span class="token punctuation">"</span></span> 
     <span class="token attr-name"><span class="token namespace">th:</span>attr</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>src<span class="token punctuation">=</span>@{/images/gtvglogo.png},title<span class="token punctuation">=</span>#{logo},alt<span class="token punctuation">=</span>#{logo}<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">给定所需的消息文件，这将输出：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/gtgv/images/gtvglogo.png<span class="token punctuation">"</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Logo de Good Thymes<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Logo de Good Thymes<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span></code></pre>
</section>
<section id="setting-value-to-specific-attributes" class="level2">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.2 设置特定属性的值</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现在，你可能会想：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Subscribe!<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>attr</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>value<span class="token punctuation">=</span>#{subscribe.submit}<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">…是一段相当丑陋的标记。在属性值中指定赋值可能非常实用，但如果您必须一直这样做，那么这不是创建模板的最优雅的方式。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Thymeleaf 同意你的观点，这就是为什么</font></font><code>th:attr</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在模板中很少使用的原因。通常，你会使用其他</font></font><code>th:*</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性，其任务是设置特定的标签属性（而不仅仅是像这样的任何属性</font></font><code>th:attr</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例如，要设置</font></font><code>value</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性，请使用</font></font><code>th:value</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Subscribe!<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#{subscribe.submit}<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这看起来好多了！让我们尝试对标签</font></font><code>action</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中的属性执行相同的操作</font></font><code>form</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>subscribe.html<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>action</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/subscribe}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">你还记得</font></font><code>th:href</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们</font></font><code>home.html</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">之前添加的那些吗？它们正是这种类型的属性：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>product/list.html<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/product/list}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Product List<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有很多这样的属性，每个属性都针对特定的 HTML5 属性：</font></font></p>
<div class="table-scroller">
<table>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>th:abbr</code></td>
<td style="text-align: left;"><code>th:accept</code></td>
<td style="text-align: left;"><code>th:accept-charset</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>th:accesskey</code></td>
<td style="text-align: left;"><code>th:action</code></td>
<td style="text-align: left;"><code>th:align</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>th:alt</code></td>
<td style="text-align: left;"><code>th:archive</code></td>
<td style="text-align: left;"><code>th:audio</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>th:autocomplete</code></td>
<td style="text-align: left;"><code>th:axis</code></td>
<td style="text-align: left;"><code>th:background</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>th:bgcolor</code></td>
<td style="text-align: left;"><code>th:border</code></td>
<td style="text-align: left;"><code>th:cellpadding</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>th:cellspacing</code></td>
<td style="text-align: left;"><code>th:challenge</code></td>
<td style="text-align: left;"><code>th:charset</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>th:cite</code></td>
<td style="text-align: left;"><code>th:class</code></td>
<td style="text-align: left;"><code>th:classid</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>th:codebase</code></td>
<td style="text-align: left;"><code>th:codetype</code></td>
<td style="text-align: left;"><code>th:cols</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>th:colspan</code></td>
<td style="text-align: left;"><code>th:compact</code></td>
<td style="text-align: left;"><code>th:content</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>th:contenteditable</code></td>
<td style="text-align: left;"><code>th:contextmenu</code></td>
<td style="text-align: left;"><code>th:data</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>th:datetime</code></td>
<td style="text-align: left;"><code>th:dir</code></td>
<td style="text-align: left;"><code>th:draggable</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>th:dropzone</code></td>
<td style="text-align: left;"><code>th:enctype</code></td>
<td style="text-align: left;"><code>th:for</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>th:form</code></td>
<td style="text-align: left;"><code>th:formaction</code></td>
<td style="text-align: left;"><code>th:formenctype</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>th:formmethod</code></td>
<td style="text-align: left;"><code>th:formtarget</code></td>
<td style="text-align: left;"><code>th:fragment</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>th:frame</code></td>
<td style="text-align: left;"><code>th:frameborder</code></td>
<td style="text-align: left;"><code>th:headers</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>th:height</code></td>
<td style="text-align: left;"><code>th:high</code></td>
<td style="text-align: left;"><code>th:href</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>th:hreflang</code></td>
<td style="text-align: left;"><code>th:hspace</code></td>
<td style="text-align: left;"><code>th:http-equiv</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>th:icon</code></td>
<td style="text-align: left;"><code>th:id</code></td>
<td style="text-align: left;"><code>th:inline</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>th:keytype</code></td>
<td style="text-align: left;"><code>th:kind</code></td>
<td style="text-align: left;"><code>th:label</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>th:lang</code></td>
<td style="text-align: left;"><code>th:list</code></td>
<td style="text-align: left;"><code>th:longdesc</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>th:low</code></td>
<td style="text-align: left;"><code>th:manifest</code></td>
<td style="text-align: left;"><code>th:marginheight</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>th:marginwidth</code></td>
<td style="text-align: left;"><code>th:max</code></td>
<td style="text-align: left;"><code>th:maxlength</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>th:media</code></td>
<td style="text-align: left;"><code>th:method</code></td>
<td style="text-align: left;"><code>th:min</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>th:name</code></td>
<td style="text-align: left;"><code>th:onabort</code></td>
<td style="text-align: left;"><code>th:onafterprint</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>th:onbeforeprint</code></td>
<td style="text-align: left;"><code>th:onbeforeunload</code></td>
<td style="text-align: left;"><code>th:onblur</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>th:oncanplay</code></td>
<td style="text-align: left;"><code>th:oncanplaythrough</code></td>
<td style="text-align: left;"><code>th:onchange</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>th:onclick</code></td>
<td style="text-align: left;"><code>th:oncontextmenu</code></td>
<td style="text-align: left;"><code>th:ondblclick</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>th:ondrag</code></td>
<td style="text-align: left;"><code>th:ondragend</code></td>
<td style="text-align: left;"><code>th:ondragenter</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>th:ondragleave</code></td>
<td style="text-align: left;"><code>th:ondragover</code></td>
<td style="text-align: left;"><code>th:ondragstart</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>th:ondrop</code></td>
<td style="text-align: left;"><code>th:ondurationchange</code></td>
<td style="text-align: left;"><code>th:onemptied</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>th:onended</code></td>
<td style="text-align: left;"><code>th:onerror</code></td>
<td style="text-align: left;"><code>th:onfocus</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>th:onformchange</code></td>
<td style="text-align: left;"><code>th:onforminput</code></td>
<td style="text-align: left;"><code>th:onhashchange</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>th:oninput</code></td>
<td style="text-align: left;"><code>th:oninvalid</code></td>
<td style="text-align: left;"><code>th:onkeydown</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>th:onkeypress</code></td>
<td style="text-align: left;"><code>th:onkeyup</code></td>
<td style="text-align: left;"><code>th:onload</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>th:onloadeddata</code></td>
<td style="text-align: left;"><code>th:onloadedmetadata</code></td>
<td style="text-align: left;"><code>th:onloadstart</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>th:onmessage</code></td>
<td style="text-align: left;"><code>th:onmousedown</code></td>
<td style="text-align: left;"><code>th:onmousemove</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>th:onmouseout</code></td>
<td style="text-align: left;"><code>th:onmouseover</code></td>
<td style="text-align: left;"><code>th:onmouseup</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>th:onmousewheel</code></td>
<td style="text-align: left;"><code>th:onoffline</code></td>
<td style="text-align: left;"><code>th:ononline</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>th:onpause</code></td>
<td style="text-align: left;"><code>th:onplay</code></td>
<td style="text-align: left;"><code>th:onplaying</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>th:onpopstate</code></td>
<td style="text-align: left;"><code>th:onprogress</code></td>
<td style="text-align: left;"><code>th:onratechange</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>th:onreadystatechange</code></td>
<td style="text-align: left;"><code>th:onredo</code></td>
<td style="text-align: left;"><code>th:onreset</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>th:onresize</code></td>
<td style="text-align: left;"><code>th:onscroll</code></td>
<td style="text-align: left;"><code>th:onseeked</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>th:onseeking</code></td>
<td style="text-align: left;"><code>th:onselect</code></td>
<td style="text-align: left;"><code>th:onshow</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>th:onstalled</code></td>
<td style="text-align: left;"><code>th:onstorage</code></td>
<td style="text-align: left;"><code>th:onsubmit</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>th:onsuspend</code></td>
<td style="text-align: left;"><code>th:ontimeupdate</code></td>
<td style="text-align: left;"><code>th:onundo</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>th:onunload</code></td>
<td style="text-align: left;"><code>th:onvolumechange</code></td>
<td style="text-align: left;"><code>th:onwaiting</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>th:optimum</code></td>
<td style="text-align: left;"><code>th:pattern</code></td>
<td style="text-align: left;"><code>th:placeholder</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>th:poster</code></td>
<td style="text-align: left;"><code>th:preload</code></td>
<td style="text-align: left;"><code>th:radiogroup</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>th:rel</code></td>
<td style="text-align: left;"><code>th:rev</code></td>
<td style="text-align: left;"><code>th:rows</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>th:rowspan</code></td>
<td style="text-align: left;"><code>th:rules</code></td>
<td style="text-align: left;"><code>th:sandbox</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>th:scheme</code></td>
<td style="text-align: left;"><code>th:scope</code></td>
<td style="text-align: left;"><code>th:scrolling</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>th:size</code></td>
<td style="text-align: left;"><code>th:sizes</code></td>
<td style="text-align: left;"><code>th:span</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>th:spellcheck</code></td>
<td style="text-align: left;"><code>th:src</code></td>
<td style="text-align: left;"><code>th:srclang</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>th:standby</code></td>
<td style="text-align: left;"><code>th:start</code></td>
<td style="text-align: left;"><code>th:step</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>th:style</code></td>
<td style="text-align: left;"><code>th:summary</code></td>
<td style="text-align: left;"><code>th:tabindex</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>th:target</code></td>
<td style="text-align: left;"><code>th:title</code></td>
<td style="text-align: left;"><code>th:type</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>th:usemap</code></td>
<td style="text-align: left;"><code>th:value</code></td>
<td style="text-align: left;"><code>th:valuetype</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>th:vspace</code></td>
<td style="text-align: left;"><code>th:width</code></td>
<td style="text-align: left;"><code>th:wrap</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>th:xmlbase</code></td>
<td style="text-align: left;"><code>th:xmllang</code></td>
<td style="text-align: left;"><code>th:xmlspace</code></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="setting-more-than-one-value-at-a-time" class="level2">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.3 一次设置多个值</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有两个相当特殊的属性称为</font></font><code>th:alt-title</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和，</font></font><code>th:lang-xmllang</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">它们可用于同时将两个属性设置为相同的值。具体来说：</font></font></p>
<ul>
<li><code>th:alt-title</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将设置</font></font><code>alt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code>title</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
<li><code>th:lang-xmllang</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将设置</font></font><code>lang</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code>xml:lang</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于我们的 GTVG 主页，我们可以用以下方法替换：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../../images/gtvglogo.png<span class="token punctuation">"</span></span> 
     <span class="token attr-name"><span class="token namespace">th:</span>attr</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>src<span class="token punctuation">=</span>@{/images/gtvglogo.png},title<span class="token punctuation">=</span>#{logo},alt<span class="token punctuation">=</span>#{logo}<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...或者这个，等效于：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../../images/gtvglogo.png<span class="token punctuation">"</span></span> 
     <span class="token attr-name"><span class="token namespace">th:</span>src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/images/gtvglogo.png}<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>title</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#{logo}<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>alt</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#{logo}<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">…有了这个：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../../images/gtvglogo.png<span class="token punctuation">"</span></span> 
     <span class="token attr-name"><span class="token namespace">th:</span>src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/images/gtvglogo.png}<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>alt-title</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#{logo}<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span></code></pre>
</section>
<section id="appending-and-prepending" class="level2">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.4 附加和前置</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Thymeleaf 还提供</font></font><code>th:attrappend</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code>th:attrprepend</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性，将其评估结果附加（后缀）或添加到现有属性值之前（前缀）。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例如，您可能希望将要添加（不是设置，只是添加）到上下文变量中的一个按钮的 CSS 类的名称存储起来，因为要使用的特定 CSS 类取决于用户之前所做的事情：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Do it!<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>attrappend</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>class<span class="token punctuation">=</span>${<span class="token punctuation">'</span> <span class="token punctuation">'</span> + cssStyle}<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果你将</font></font><code>cssStyle</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变量设置为 来处理此模板</font></font><code>"warning"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，你将得到：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Do it!<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>btn warning<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标准方言中</font><font style="vertical-align: inherit;">还有两个特定的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">附加属性</font></font></em><font style="vertical-align: inherit;"></font><code>th:classappend</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：和</font></font><code>th:styleappend</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性，用于</font><font style="vertical-align: inherit;">向元素添加 CSS 类或</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">样式片段而不覆盖现有的：</font></font></em><font style="vertical-align: inherit;"></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name"><span class="token namespace">th:</span>each</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>prod : ${prods}<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>row<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>classappend</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${prodStat.odd}? <span class="token punctuation">'</span>odd<span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（不要担心该</font></font><code>th:each</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性。它是一个</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">迭代属性</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，我们稍后会讨论它。）</font></font></p>
</section>
<section id="fixed-value-boolean-attributes" class="level2">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.5 固定值布尔属性</font></font></h2>
<p><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTML 有布尔属性</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的概念</font><font style="vertical-align: inherit;">，即没有值的属性，如果存在一个值则表示值为“真”。在 XHTML 中，这些属性只接受 1 个值，即其本身。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例如，</font></font><code>checked</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>option2<span class="token punctuation">"</span></span> <span class="token attr-name">checked</span> <span class="token punctuation">/&gt;</span></span> <span class="token comment" spellcheck="true">&lt;!-- HTML --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>option1<span class="token punctuation">"</span></span> <span class="token attr-name">checked</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>checked<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span> <span class="token comment" spellcheck="true">&lt;!-- XHTML --&gt;</span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标准方言包含一些属性，允许您通过评估条件来设置这些属性，因此，如果评估结果为 true，则该属性将设置为其固定值，如果评估结果为 false，则不会设置该属性：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>active<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>checked</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${user.active}<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标准方言中存在以下固定值布尔属性：</font></font></p>
<div class="table-scroller">
<table>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>th:async</code></td>
<td style="text-align: left;"><code>th:autofocus</code></td>
<td style="text-align: left;"><code>th:autoplay</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>th:checked</code></td>
<td style="text-align: left;"><code>th:controls</code></td>
<td style="text-align: left;"><code>th:declare</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>th:default</code></td>
<td style="text-align: left;"><code>th:defer</code></td>
<td style="text-align: left;"><code>th:disabled</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>th:formnovalidate</code></td>
<td style="text-align: left;"><code>th:hidden</code></td>
<td style="text-align: left;"><code>th:ismap</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>th:loop</code></td>
<td style="text-align: left;"><code>th:multiple</code></td>
<td style="text-align: left;"><code>th:novalidate</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>th:nowrap</code></td>
<td style="text-align: left;"><code>th:open</code></td>
<td style="text-align: left;"><code>th:pubdate</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>th:readonly</code></td>
<td style="text-align: left;"><code>th:required</code></td>
<td style="text-align: left;"><code>th:reversed</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>th:scoped</code></td>
<td style="text-align: left;"><code>th:seamless</code></td>
<td style="text-align: left;"><code>th:selected</code></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="setting-the-value-of-any-attribute-default-attribute-processor" class="level2">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.6 设置任意属性的值（默认属性处理器）</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Thymeleaf 提供了一个</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认的属性处理器，允许我们设置</font></font></em><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">任何</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性的值</font><font style="vertical-align: inherit;">，即使</font></font><code>th:*</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在标准方言中没有为其定义特定的处理器。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因此类似于：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>whatever</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${user.name}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将导致：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">whatever</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>John Apricot<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span></code></pre>
</section>
<section id="support-for-html5-friendly-attribute-and-element-names" class="level2">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.7 支持 HTML5 友好的属性和元素名称</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">还可以使用完全不同的语法以更加 HTML5 友好的方式将处理器应用于模板。</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name">data-th-each</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>user : ${users}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">data-th-text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${user.login}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">data-th-text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${user.name}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该</font></font><code>data-{prefix}-{name}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语法是在 HTML5 中编写自定义属性的标准方法，无需开发人员使用任何命名空间名称（如）</font></font><code>th:*</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。Thymeleaf 使此语法自动适用于所有方言（不仅仅是标准方言）。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">还有一种语法用于指定自定义标签：</font></font><code>{prefix}-{name}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，它遵循</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">W3C 自定义元素规范（ </font></font></em><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">W3C Web 组件规范</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的一部分</font><font style="vertical-align: inherit;">）。例如，这可以用于元素</font></font><code>th:block</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（或</font></font><code>th-block</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），这将在后面的部分中解释。</font></font></p>
<p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重要提示：</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此语法是对命名空间语法的补充</font></font><code>th:*</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，并非替代。未来我们完全没有打算弃用命名空间语法。</font></font></p>
</section>
</section>
<section id="iteration" class="level1">
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6 迭代</font></font></h1>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到目前为止，我们已经创建了一个主页、一个用户资料页面以及一个让用户订阅我们新闻通讯的页面……但是我们的产品呢？为此，我们需要一种方法来迭代集合中的项目以构建我们的产品页面。</font></font></p>
<section id="iteration-basics" class="level2">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.1 迭代基础</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为了在</font></font><code>/WEB-INF/templates/product/list.html</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">页面中显示产品，我们将使用表格。我们的每件产品都将显示在一行中（一个</font></font><code>&lt;tr&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">元素），因此对于我们的模板，我们需要创建一个</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模板行</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- 一个将举例说明我们希望如何显示每件产品的行 - 然后指示 Thymeleaf 重复此操作，对每件产品重复一次。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标准方言为我们提供了一个确切的属性：</font></font><code>th:each</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<section id="using-theach" class="level3">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用 th:each</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于我们的产品列表页面，我们需要一个控制器方法，从服务层检索产品列表并将其添加到模板上下文中：</font></font></p>
<pre class=" language-java"><code class=" language-java"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">process</span><span class="token punctuation">(</span>
        <span class="token keyword">final</span> HttpServletRequest request<span class="token punctuation">,</span> <span class="token keyword">final</span> HttpServletResponse response<span class="token punctuation">,</span>
        <span class="token keyword">final</span> ServletContext servletContext<span class="token punctuation">,</span> <span class="token keyword">final</span> ITemplateEngine templateEngine<span class="token punctuation">)</span>
        <span class="token keyword">throws</span> Exception <span class="token punctuation">{</span><font></font>
    <font></font>
    ProductService productService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ProductService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    List<span class="token operator">&lt;</span>Product<span class="token operator">&gt;</span> allProducts <span class="token operator">=</span> productService<span class="token punctuation">.</span><span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <font></font>
    <font></font>
    WebContext ctx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WebContext</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">,</span> servletContext<span class="token punctuation">,</span> request<span class="token punctuation">.</span><span class="token function">getLocale</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ctx<span class="token punctuation">.</span><span class="token function">setVariable</span><span class="token punctuation">(</span><span class="token string">"prods"</span><span class="token punctuation">,</span> allProducts<span class="token punctuation">)</span><span class="token punctuation">;</span><font></font>
    <font></font>
    templateEngine<span class="token punctuation">.</span><span class="token function">process</span><span class="token punctuation">(</span><span class="token string">"product/list"</span><span class="token punctuation">,</span> ctx<span class="token punctuation">,</span> response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><font></font>
    <font></font>
<span class="token punctuation">}</span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">然后我们将</font></font><code>th:each</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在模板中使用它来迭代产品列表：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token doctype">&lt;!DOCTYPE html&gt;</span><font></font>
<font></font>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>th</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.thymeleaf.org<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Good Thymes Virtual Grocery<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Content-Type<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/html; charset<span class="token punctuation">=</span>UTF-8<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/css<span class="token punctuation">"</span></span> <span class="token attr-name">media</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>all<span class="token punctuation">"</span></span> 
          <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../../../css/gtvg.css<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/css/gtvg.css}<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Product list<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><font></font>
  <font></font>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>NAME<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>PRICE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>IN STOCK<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name"><span class="token namespace">th:</span>each</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>prod : ${prods}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${prod.name}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Onions<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${prod.price}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>2.41<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${prod.inStock}? #{true} : #{false}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>yes<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span><font></font>
  <font></font>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../home.html<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Return to home<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您在上面看到的属性值</font></font><code>prod : ${prods}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">意味着“对于评估结果中的每个元素</font></font><code>${prods}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，重复此模板片段，使用名为 prod 的变量中的当前元素”。让我们给看到的每个事物命名：</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们将其称为</font></font><code>${prods}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">迭代</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表达式</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">迭代变量</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们将其称为</font><em><font style="vertical-align: inherit;">迭代变量</font></em></font><code>prod</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或者</font><font style="vertical-align: inherit;">简称为</font><em><font style="vertical-align: inherit;">iter 变量</font></em><font style="vertical-align: inherit;">。</font></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font></li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意，</font></font><code>prod</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iter 变量的作用域是元素</font></font><code>&lt;tr&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，这意味着它可用于像 这样的内部标签</font></font><code>&lt;td&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
</section>
<section id="iterable-values" class="level3">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可迭代值</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 Thymeleaf 中，类</font></font><code>java.util.List</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并不是唯一可以用于迭代的对象。有一组相当完整的对象可以</font><font style="vertical-align: inherit;">通过属性来</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">迭代</font></font></em><font style="vertical-align: inherit;"></font><code>th:each</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">任何实现的对象</font></font><code>java.util.Iterable</code></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">任何实现的对象</font></font><code>java.util.Enumeration</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">任何实现的对象</font></font><code>java.util.Iterator</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，其值将在迭代器返回时使用，而无需将所有值缓存在内存中。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">任何实现 的对象</font></font><code>java.util.Map</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。迭代映射时，iter 变量将属于 类</font></font><code>java.util.Map.Entry</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">任何数组。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">任何其他对象都将被视为包含对象本身的单值列表。</font></font></li>
</ul>
</section>
</section>
<section id="keeping-iteration-status" class="level2">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.2 保持迭代状态</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用时</font></font><code>th:each</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，Thymeleaf 提供了一种用于跟踪迭代状态的有用机制：</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">状态变量</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">状态变量在属性内定义</font></font><code>th:each</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并包含以下数据：</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当前</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">迭代索引</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，从 0 开始。这是</font></font><code>index</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当前</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">迭代索引</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，从 1 开始。这是</font></font><code>count</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">迭代变量中的元素总数。这是</font></font><code>size</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每次迭代的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iter 变量</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。这是</font></font><code>current</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当前迭代是偶数还是奇数。这些是</font></font><code>even/odd</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">布尔属性。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当前迭代是否为第一次迭代。这是一个</font></font><code>first</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">布尔属性。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当前迭代是否是最后一次迭代。这是一个</font></font><code>last</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">布尔属性。</font></font></li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们看看如何在前面的例子中使用它：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>NAME<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>PRICE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>IN STOCK<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name"><span class="token namespace">th:</span>each</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>prod,iterStat : ${prods}<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${iterStat.odd}? <span class="token punctuation">'</span>odd<span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${prod.name}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Onions<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${prod.price}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>2.41<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${prod.inStock}? #{true} : #{false}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>yes<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">状态变量（</font></font><code>iterStat</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在本例中）在属性中定义，</font></font><code>th:each</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法是将其名称写在 iter 变量本身后面，以逗号分隔。与 iter 变量一样，状态变量的作用域也限定在由保存属性的标签定义的代码片段中</font></font><code>th:each</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们看一下处理模板的结果：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token doctype">&lt;!DOCTYPE html&gt;</span><font></font>
<font></font>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Good Thymes Virtual Grocery<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/html; charset<span class="token punctuation">=</span>UTF-8<span class="token punctuation">"</span></span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Content-Type<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/css<span class="token punctuation">"</span></span> <span class="token attr-name">media</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>all<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/gtvg/css/gtvg.css<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Product list<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><font></font>
  <font></font>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>NAME<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>PRICE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>IN STOCK<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>odd<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Fresh Sweet Basil<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>4.99<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>yes<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Italian Tomato<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>1.25<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>no<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>odd<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Yellow Bell Pepper<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>2.50<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>yes<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Old Cheddar<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>18.75<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>yes<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span><font></font>
  <font></font>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/gtvg/<span class="token punctuation">"</span></span> <span class="token attr-name">shape</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>rect<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Return to home<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span><font></font>
  <font></font>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意，我们的迭代状态变量已完美运行，</font></font><code>odd</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仅将 CSS 类建立到奇数行。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果你没有明确设置状态变量，Thymeleaf 将始终通过</font></font><code>Stat</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在迭代变量名称后添加后缀来为你创建一个：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>NAME<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>PRICE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>IN STOCK<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name"><span class="token namespace">th:</span>each</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>prod : ${prods}<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${prodStat.odd}? <span class="token punctuation">'</span>odd<span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${prod.name}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Onions<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${prod.price}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>2.41<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${prod.inStock}? #{true} : #{false}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>yes<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span></code></pre>
</section>
<section id="optimizing-through-lazy-retrieval-of-data" class="level2">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.3 通过惰性检索数据进行优化</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有时我们可能希望优化数据集合的检索（例如从数据库），以便只有在真正需要使用时才检索这些集合。</font></font></p>
<blockquote>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实际上，这可以应用于</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">任何</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据，但考虑到内存集合可能具有的大小，检索需要迭代的集合是此场景中最常见的情况。</font></font></p>
</blockquote>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为了支持这一点，Thymeleaf 提供了一种</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">延迟加载上下文变量</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的机制。实现接口的上下文变量</font></font><code>ILazyContextVariable</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（很可能通过扩展其</font></font><code>LazyContextVariable</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认实现）将在执行时解析。例如：</font></font></p>
<pre class=" language-java"><code class=" language-java">context<span class="token punctuation">.</span><span class="token function">setVariable</span><span class="token punctuation">(</span>
     <span class="token string">"users"</span><span class="token punctuation">,</span>
     <span class="token keyword">new</span> <span class="token class-name">LazyContextVariable</span><span class="token operator">&lt;</span>List<span class="token operator">&lt;</span>User<span class="token operator">&gt;&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token annotation punctuation">@Override</span>
         <span class="token keyword">protected</span> List<span class="token operator">&lt;</span>User<span class="token operator">&gt;</span> <span class="token function">loadValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
             <span class="token keyword">return</span> databaseRepository<span class="token punctuation">.</span><span class="token function">findAllUsers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span>
     <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这个变量可以在不了解其惰性的</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">情况下使用</font><font style="vertical-align: inherit;">，例如在代码中：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name"><span class="token namespace">th:</span>each</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>u : ${users}<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${u.name}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>user name<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但同时，如果</font><font style="vertical-align: inherit;">在代码中</font><font style="vertical-align: inherit;">计算结果为，则永远不会被初始化（其</font></font><code>loadValue()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法永远不会被调用） ：</font></font><code>condition</code><font style="vertical-align: inherit;"></font><code>false</code><font style="vertical-align: inherit;"></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${condition}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name"><span class="token namespace">th:</span>each</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>u : ${users}<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${u.name}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>user name<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span></code></pre>
</section>
</section>
<section id="conditional-evaluation" class="level1">
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7 条件评估</font></font></h1>
<section id="simple-conditionals-if-and-unless" class="level2">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.1 简单条件：“如果”和“除非”</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有时您需要模板的某个片段仅在满足某个特定条件时才出现在结果中。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例如，假设我们想在产品表中显示一列，其中包含每个产品的评论数，如果有任何评论，则显示指向该产品评论详细信息页面的链接。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为了做到这一点，我们将使用以下</font></font><code>th:if</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>NAME<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>PRICE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>IN STOCK<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>COMMENTS<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name"><span class="token namespace">th:</span>each</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>prod : ${prods}<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${prodStat.odd}? <span class="token punctuation">'</span>odd<span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${prod.name}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Onions<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${prod.price}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>2.41<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${prod.inStock}? #{true} : #{false}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>yes<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${#lists.size(prod.comments)}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span> comment/s
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>comments.html<span class="token punctuation">"</span></span> 
         <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/product/comments(prodId<span class="token punctuation">=</span>${prod.id})}<span class="token punctuation">"</span></span> 
         <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${not #lists.isEmpty(prod.comments)}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>view<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这里有很多东西需要查看，因此让我们集中关注重要的一行：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>comments.html<span class="token punctuation">"</span></span>
   <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/product/comments(prodId<span class="token punctuation">=</span>${prod.id})}<span class="token punctuation">"</span></span> 
   <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${not #lists.isEmpty(prod.comments)}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>view<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这将创建一个指向评论页面的链接（带有 URL </font></font><code>/product/comments</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），并将</font></font><code>prodId</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数设置为</font></font><code>id</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">产品的，但前提是该产品有任何评论。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们看一下最终的标记：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>NAME<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>PRICE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>IN STOCK<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>COMMENTS<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Fresh Sweet Basil<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>4.99<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>yes<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span> comment/s
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>odd<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Italian Tomato<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>1.25<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>no<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span> comment/s
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/gtvg/product/comments?prodId<span class="token punctuation">=</span>2<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>view<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Yellow Bell Pepper<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>2.50<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>yes<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span> comment/s
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>odd<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Old Cheddar<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>18.75<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>yes<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span> comment/s
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/gtvg/product/comments?prodId<span class="token punctuation">=</span>4<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>view<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">太棒了！这正是我们想要的。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意，该</font></font><code>th:if</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性不仅会评估</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">布尔</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">条件。它的功能远不止于此，它将按照</font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以下规则评估指定的表达式：</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果值不为空：
</font></font><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果值是布尔值并且是</font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果值是数字且非零</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果值是字符且非零</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果值是字符串且不是“false”、“off”或“no”</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果值不是布尔值、数字、字符或字符串。</font></font></li>
</ul></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（如果值为空，则 th:if 将计算为 false）。</font></font></li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此外，</font></font><code>th:if</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">还有一个逆属性</font></font><code>th:unless</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，我们可以在前面的例子中使用它，而不是</font></font><code>not</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 OGNL 表达式中使用：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>comments.html<span class="token punctuation">"</span></span>
   <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/comments(prodId<span class="token punctuation">=</span>${prod.id})}<span class="token punctuation">"</span></span> 
   <span class="token attr-name"><span class="token namespace">th:</span>unless</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${#lists.isEmpty(prod.comments)}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>view<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span></code></pre>
</section>
<section id="switch-statements" class="level2">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.2 Switch 语句</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">还有一种方法可以使用</font><font style="vertical-align: inherit;">Java 中相当于</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">switch</font></font></em><font style="vertical-align: inherit;"></font><code>th:switch</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">结构的方法有条件地显示内容： /</font></font><code>th:case</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性集。</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>switch</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${user.role}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>case</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>admin<span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>User is an administrator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>case</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#{roles.manager}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>User is a manager<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意，一旦一个</font></font><code>th:case</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性被评估为，</font><font style="vertical-align: inherit;">同一切换上下文中的</font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每个其他属性都将被评估为</font><font style="vertical-align: inherit;">。</font></font><code>th:case</code><font style="vertical-align: inherit;"></font><code>false</code><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认选项指定为</font></font><code>th:case="*"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>switch</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${user.role}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>case</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>admin<span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>User is an administrator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>case</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#{roles.manager}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>User is a manager<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>case</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>*<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>User is some other thing<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre>
</section>
</section>
<section id="template-layout" class="level1">
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8 模板布局</font></font></h1>
<section id="including-template-fragments" class="level2">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.1 包含模板片段</font></font></h2>
<section id="defining-and-referencing-fragments" class="level3">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">定义和引用片段</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在我们的模板中，我们经常想要包含来自其他模板的部分，例如页脚、页眉、菜单等部分……</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为了做到这一点，Thymeleaf 需要我们定义这些部分“片段”以供包含，这可以使用属性来完成</font></font><code>th:fragment</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">假设我们想在所有杂货页面上添加标准版权页脚，因此我们创建一个</font></font><code>/WEB-INF/templates/footer.html</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包含以下代码的文件：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token doctype">&lt;!DOCTYPE html&gt;</span><font></font>
<font></font>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>th</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.thymeleaf.org<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span><font></font>
  <font></font>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>fragment</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>copy<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token entity" title="©">&amp;copy;</span> 2011 The Good Thymes Virtual Grocery
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><font></font>
  <font></font>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span><font></font>
  <font></font>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上面的代码定义了一个名为的片段，我们可以使用</font><font style="vertical-align: inherit;">或属性</font></font><code>copy</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">之一轻松地将其包含在我们的主页中</font><font style="vertical-align: inherit;">（还有</font><font style="vertical-align: inherit;">，尽管自 Thymeleaf 3.0 以来不再推荐使用它）：</font></font><code>th:insert</code><font style="vertical-align: inherit;"></font><code>th:replace</code><font style="vertical-align: inherit;"></font><code>th:include</code><font style="vertical-align: inherit;"></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
  ...<font></font>
<font></font>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>insert</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>~{footer :: copy}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><font></font>
  <font></font>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意，</font></font><code>th:insert</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">需要一个</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">片段表达式</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><code>~{...}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），该</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表达式会生成一个片段</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。不过，在上面的例子中，这是一个非复杂</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">片段表达式</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，（</font></font><code>~{</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code>}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）包围是完全可选的，因此上面的代码相当于：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
  ...<font></font>
<font></font>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>insert</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>footer :: copy<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><font></font>
  <font></font>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></code></pre>
</section>
<section id="fragment-specification-syntax" class="level3">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">片段规范语法</font></font></h3>
<p><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">片段表达式</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的语法</font><font style="vertical-align: inherit;">非常简单。有三种不同的格式：</font></font></p>
<ul>
<li><p><code>"~{templatename::selector}"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包括在名为 的模板上应用指定标记选择器所产生的片段</font></font><code>templatename</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。请注意</font></font><code>selector</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以只是一个片段名称，因此您可以像</font></font><code>~{templatename::fragmentname}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上面一样指定一些简单的内容</font></font><code>~{footer :: copy}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<blockquote>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标记选择器语法由底层 AttoParser 解析库定义，类似于 XPath 表达式或 CSS 选择器。</font><font style="vertical-align: inherit;">有关更多信息，请参阅</font></font><a href="#appendix-c-markup-selector-syntax"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">附录 C。</font></font></a><font style="vertical-align: inherit;"></font></p>
</blockquote></li>
<li><p><code>"~{templatename}"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包括名为 的完整模板</font></font><code>templatename</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<blockquote>
<p><font style="vertical-align: inherit;"></font><code>th:insert</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意，您在/标签</font><font style="vertical-align: inherit;">中使用的模板名称</font></font><code>th:replace</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">必须能够由模板引擎当前正在使用的模板解析器解析。</font></font></p>
</blockquote></li>
<li><p><code>~{::selector}"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><code>"~{this::selector}"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">插入来自同一模板的片段，匹配</font></font><code>selector</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。如果在表达式出现的模板上找不到，则模板调用堆栈（插入）将遍历到最初处理的模板（根</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，直到</font></font><code>selector</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在某个级别匹配。</font></font></p></li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上面例子中的</font></font><code>templatename</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font><font style="vertical-align: inherit;">都可以是功能齐全的表达式（甚至是条件表达式！）例如：</font></font><code>selector</code><font style="vertical-align: inherit;"></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>insert</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>footer :: (${user.isAdmin}? #{footer.admin} : #{footer.normaluser})<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请再次注意</font><font style="vertical-align: inherit;">/</font></font><code>~{...}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中的周围的包络是可选的</font><font style="vertical-align: inherit;">。</font></font><code>th:insert</code><font style="vertical-align: inherit;"></font><code>th:replace</code><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">片段可以包含任何</font></font><code>th:*</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性。片段被纳入目标模板（带有</font></font><code>th:insert</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/</font></font><code>th:replace</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性的模板）后，这些属性将被评估，并且它们将能够引用此目标模板中定义的任何上下文变量。</font></font></p>
<blockquote>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这种片段方法的一大优点是，您可以在浏览器可完美显示的页面中编写片段，具有完整甚至</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有效的</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标记结构，同时仍保留让 Thymeleaf 将它们包含到其他模板中的能力。</font></font></p>
</blockquote>
</section>
<section id="referencing-fragments-without-thfragment" class="level3">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">引用片段而不</font></font><code>th:fragment</code></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">得益于标记选择器的强大功能，我们可以包含不使用任何</font></font><code>th:fragment</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性的片段。它甚至可以是来自完全不了解 Thymeleaf 的其他应用程序的标记代码：</font></font></p>
<pre class=" language-html"><code class=" language-html">...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>copy-section<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token entity" title="©">&amp;copy;</span> 2011 The Good Thymes Virtual Grocery
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
...</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们可以使用上面的片段，通过它的</font></font><code>id</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性简单地引用它，类似于 CSS 选择器：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
  ...<font></font>
<font></font>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>insert</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>~{footer :: #copy-section}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><font></font>
  <font></font>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></code></pre>
</section>
<section id="difference-between-thinsert-and-threplace-and-thinclude" class="level3">
<h3><font style="vertical-align: inherit;"></font><code>th:insert</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code>th:replace</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（和</font></font><code>th:include</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">之间的区别</font></font></h3>
<p><font style="vertical-align: inherit;"></font><code>th:insert</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code>th:replace</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（和</font></font><code>th:include</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，自 3.0 起不推荐使用）</font><font style="vertical-align: inherit;">之间有什么区别？</font></font></p>
<ul>
<li><p><code>th:insert</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是最简单的：它将简单地将指定的片段作为其主机标签的主体插入。</font></font></p></li>
<li><p><code>th:replace</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实际上</font><font style="vertical-align: inherit;">是用指定的片段</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">替换其主机标签。</font></font></em><font style="vertical-align: inherit;"></font></p></li>
<li><p><code>th:include</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与 类似</font></font><code>th:insert</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，但它不插入片段，而是仅插入此片段的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内容</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p></li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因此 HTML 片段如下：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>footer</span> <span class="token attr-name"><span class="token namespace">th:</span>fragment</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>copy<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token entity" title="©">&amp;copy;</span> 2011 The Good Thymes Virtual Grocery
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>footer</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...在主机标签中包含三次</font></font><code>&lt;div&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，如下所示：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
  ...<font></font>
<font></font>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>insert</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>footer :: copy<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>replace</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>footer :: copy<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>include</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>footer :: copy<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><font></font>
  <font></font>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">…将导致：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
  ...<font></font>
<font></font>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>footer</span><span class="token punctuation">&gt;</span></span>
      <span class="token entity" title="©">&amp;copy;</span> 2011 The Good Thymes Virtual Grocery
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>footer</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>footer</span><span class="token punctuation">&gt;</span></span>
    <span class="token entity" title="©">&amp;copy;</span> 2011 The Good Thymes Virtual Grocery
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>footer</span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token entity" title="©">&amp;copy;</span> 2011 The Good Thymes Virtual Grocery
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><font></font>
  <font></font>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></code></pre>
</section>
</section>
<section id="parameterizable-fragment-signatures" class="level2">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.2 可参数化的片段签名</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为了</font><font style="vertical-align: inherit;">为模板片段创建</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更像函数的</font></font></em><font style="vertical-align: inherit;"></font><code>th:fragment</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">机制，用定义的片段可以指定一组参数：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>fragment</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>frag (onevar,twovar)<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${onevar} + <span class="token punctuation">'</span> - <span class="token punctuation">'</span> + ${twovar}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这需要使用以下两种语法之一来调用</font></font><code>th:insert</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或的片段</font></font><code>th:replace</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>replace</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>::frag (${value1},${value2})<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>replace</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>::frag (onevar<span class="token punctuation">=</span>${value1},twovar<span class="token punctuation">=</span>${value2})<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意，最后一个选项的顺序并不重要：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>replace</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>::frag (twovar<span class="token punctuation">=</span>${value2},onevar<span class="token punctuation">=</span>${value1})<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre>
<section id="fragment-local-variables-without-fragment-arguments" class="level3">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有片段参数的片段局部变量</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">即使片段定义时没有像这样的参数：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>fragment</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>frag<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><font></font>
    ...<font></font>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们可以使用上面指定的第二种语法来调用它们（且只能使用第二种）：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>replace</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>::frag (onevar<span class="token punctuation">=</span>${value1},twovar<span class="token punctuation">=</span>${value2})<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这相当于</font></font><code>th:replace</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和的组合</font></font><code>th:with</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>replace</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>::frag<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>with</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>onevar<span class="token punctuation">=</span>${value1},twovar<span class="token punctuation">=</span>${value2}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span></code></pre>
<p><strong>Note</strong> that this specification of local variables for a fragment – no matter whether it has an argument signature or not – does not cause the context to be emptied prior to its execution. Fragments will still be able to access every context variable being used at the calling template like they currently are.</p>
</section>
<section id="thassert-for-in-template-assertions" class="level3">
<h3>th:assert for in-template assertions</h3>
<p>The <code>th:assert</code> attribute can specify a comma-separated list of expressions which should be evaluated and produce true for every evaluation, raising an exception if not.</p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>assert</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${onevar},(${twovar} !<span class="token punctuation">=</span> 43)<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre>
<p>This comes in handy for validating parameters at a fragment signature:</p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>header</span> <span class="token attr-name"><span class="token namespace">th:</span>fragment</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>contentheader(title)<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>assert</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${!#strings.isEmpty(title)}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>header</span><span class="token punctuation">&gt;</span></span></code></pre>
</section>
</section>
<section id="flexible-layouts-beyond-mere-fragment-insertion" class="level2">
<h2>8.3 Flexible layouts: beyond mere fragment insertion</h2>
<p>Thanks to <em>fragment expressions</em>, we can specify parameters for fragments that are not texts, numbers, bean objects… but instead fragments of markup.</p>
<p>This allows us to create our fragments in a way such that they can be <em>enriched</em> with markup coming from the calling templates, resulting in a very flexible <strong>template layout mechanism</strong>.</p>
<p>Note the use of the <code>title</code> and <code>links</code> variables in the fragment below:</p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span> <span class="token attr-name"><span class="token namespace">th:</span>fragment</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>common_header(title,links)<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span> <span class="token attr-name"><span class="token namespace">th:</span>replace</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${title}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>The awesome application<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
  <span class="token comment" spellcheck="true">&lt;!-- Common styles and scripts --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/css<span class="token punctuation">"</span></span> <span class="token attr-name">media</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>all<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/css/awesomeapp.css}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>shortcut icon<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/images/favicon.ico}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/sh/scripts/codebase.js}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
  <span class="token comment" spellcheck="true">&lt;!--/* Per-page placeholder for additional links */--&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">th:</span>block</span> <span class="token attr-name"><span class="token namespace">th:</span>replace</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${links}<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span><font></font>
<font></font>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span></code></pre>
<p>We can now call this fragment like:</p>
<pre class=" language-html"><code class=" language-html">...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span> <span class="token attr-name"><span class="token namespace">th:</span>replace</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>base :: common_header(~{::title},~{::link})<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Awesome - Main<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/css/bootstrap.min.css}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/themes/smoothness/jquery-ui.css}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
...</code></pre>
<p>…and the result will use the actual <code>&lt;title&gt;</code> and <code>&lt;link&gt;</code> tags from our calling template as the values of the <code>title</code> and <code>links</code> variables, resulting in our fragment being customized during insertion:</p>
<pre class=" language-html"><code class=" language-html">...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Awesome - Main<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
  <span class="token comment" spellcheck="true">&lt;!-- Common styles and scripts --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/css<span class="token punctuation">"</span></span> <span class="token attr-name">media</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>all<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/awe/css/awesomeapp.css<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>shortcut icon<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/awe/images/favicon.ico<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/awe/sh/scripts/codebase.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/awe/css/bootstrap.min.css<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/awe/themes/smoothness/jquery-ui.css<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
...</code></pre>
<section id="using-the-empty-fragment" class="level3">
<h3>Using the empty fragment</h3>
<p>A special fragment expression, the <em>empty fragment</em> (<code>~{}</code>), can be used for specifying <em>no markup</em>. Using the previous example:</p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span> <span class="token attr-name"><span class="token namespace">th:</span>replace</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>base :: common_header(~{::title},~{})<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Awesome - Main<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
...</code></pre>
<p>Note how the second parameter of the fragment (<code>links</code>) is set to the <em>empty fragment</em> and therefore nothing is written for the <code>&lt;th:block th:replace="${links}" /&gt;</code> block:</p>
<pre class=" language-html"><code class=" language-html">...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Awesome - Main<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
  <span class="token comment" spellcheck="true">&lt;!-- Common styles and scripts --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/css<span class="token punctuation">"</span></span> <span class="token attr-name">media</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>all<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/awe/css/awesomeapp.css<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>shortcut icon<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/awe/images/favicon.ico<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/awe/sh/scripts/codebase.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
...</code></pre>
</section>
<section id="using-the-no-operation-token" class="level3">
<h3>Using the no-operation token</h3>
<p>The no-op can be also used as a parameter to a fragment if we just want to let our fragment use its current markup as a default value. Again, using the <code>common_header</code> example:</p>
<pre class=" language-html"><code class=" language-html">...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span> <span class="token attr-name"><span class="token namespace">th:</span>replace</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>base :: common_header(_,~{::link})<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Awesome - Main<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/css/bootstrap.min.css}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/themes/smoothness/jquery-ui.css}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
...</code></pre>
<p>See how the <code>title</code> argument (first argument of the <code>common_header</code> fragment) is set to <em>no-op</em> (<code>_</code>), which results in this part of the fragment not being executed at all (<code>title</code> = <em>no-operation</em>):</p>
<pre class=" language-html"><code class=" language-html">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span> <span class="token attr-name"><span class="token namespace">th:</span>replace</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${title}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>The awesome application<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span></code></pre>
<p>So the result is:</p>
<pre class=" language-html"><code class=" language-html">...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>The awesome application<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
  <span class="token comment" spellcheck="true">&lt;!-- Common styles and scripts --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/css<span class="token punctuation">"</span></span> <span class="token attr-name">media</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>all<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/awe/css/awesomeapp.css<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>shortcut icon<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/awe/images/favicon.ico<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/awe/sh/scripts/codebase.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/awe/css/bootstrap.min.css<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/awe/themes/smoothness/jquery-ui.css<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
...</code></pre>
</section>
<section id="advanced-conditional-insertion-of-fragments" class="level3">
<h3>Advanced conditional insertion of fragments</h3>
<p>The availability of both the <em>empty fragment</em> and <em>no-operation token</em> allows us to perform conditional insertion of fragments in a very easy and elegant way.</p>
<p>For example, we could do this in order to insert our <code>common :: adminhead</code> fragment <em>only</em> if the user is an administrator, and insert nothing (empty fragment) if not:</p>
<pre class=" language-html"><code class=" language-html">...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>insert</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${user.isAdmin()} ? ~{common :: adminhead} : ~{}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
...</code></pre>
<p>Also, we can use the <em>no-operation token</em> in order to insert a fragment only if the specified condition is met, but leave the markup without modifications if the condition is not met:</p>
<pre class=" language-html"><code class=" language-html">...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>insert</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${user.isAdmin()} ? ~{common :: adminhead} : _<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    Welcome [[${user.name}]], click <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/support}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>here<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span> for help-desk support.
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
...</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此外，如果我们已经配置了模板解析器来</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检查</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模板资源是否存在 - 通过它们的</font></font><code>checkExistence</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标志 - 我们可以使用片段本身的存在作为</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">操作的条件：</font></font></p>
<pre class=" language-html"><code class=" language-html">...
<span class="token comment" spellcheck="true">&lt;!-- The body of the &lt;div&gt; will be used if the "common :: salutation" fragment  --&gt;</span>
<span class="token comment" spellcheck="true">&lt;!-- does not exist (or is empty).                                              --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>insert</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>~{common :: salutation} ?: _<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    Welcome [[${user.name}]], click <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/support}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>here<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span> for help-desk support.
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
...</code></pre>
</section>
</section>
<section id="removing-template-fragments" class="level2">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.4 删除模板片段</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回到示例应用程序，让我们重新审视产品列表模板的最后一个版本：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>NAME<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>PRICE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>IN STOCK<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>COMMENTS<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name"><span class="token namespace">th:</span>each</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>prod : ${prods}<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${prodStat.odd}? <span class="token punctuation">'</span>odd<span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${prod.name}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Onions<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${prod.price}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>2.41<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${prod.inStock}? #{true} : #{false}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>yes<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${#lists.size(prod.comments)}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span> comment/s
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>comments.html<span class="token punctuation">"</span></span> 
         <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/product/comments(prodId<span class="token punctuation">=</span>${prod.id})}<span class="token punctuation">"</span></span> 
         <span class="token attr-name"><span class="token namespace">th:</span>unless</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${#lists.isEmpty(prod.comments)}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>view<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该代码作为模板还不错，但作为静态页面（直接通过浏览器打开而不使用 Thymeleaf 进行处理）它就不能成为一个很好的原型。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为什么？因为尽管浏览器可以完美显示，但该表只有一行，而这一行包含模拟数据。作为原型，它看起来不够逼真……我们应该有多个产品，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们需要更多行</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因此让我们添加一些：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>NAME<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>PRICE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>IN STOCK<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>COMMENTS<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name"><span class="token namespace">th:</span>each</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>prod : ${prods}<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${prodStat.odd}? <span class="token punctuation">'</span>odd<span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${prod.name}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Onions<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${prod.price}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>2.41<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${prod.inStock}? #{true} : #{false}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>yes<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${#lists.size(prod.comments)}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span> comment/s
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>comments.html<span class="token punctuation">"</span></span> 
         <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/product/comments(prodId<span class="token punctuation">=</span>${prod.id})}<span class="token punctuation">"</span></span> 
         <span class="token attr-name"><span class="token namespace">th:</span>unless</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${#lists.isEmpty(prod.comments)}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>view<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>odd<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Blue Lettuce<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>9.55<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>no<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span> comment/s
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Mild Cinnamon<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>1.99<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>yes<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span> comment/s
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>comments.html<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>view<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">好的，现在我们有三个了，这对于原型来说肯定更好。但是……当我们用 Thymeleaf 处理它时会发生什么？：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>NAME<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>PRICE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>IN STOCK<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>COMMENTS<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Fresh Sweet Basil<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>4.99<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>yes<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span> comment/s
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>odd<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Italian Tomato<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>1.25<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>no<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span> comment/s
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/gtvg/product/comments?prodId<span class="token punctuation">=</span>2<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>view<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Yellow Bell Pepper<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>2.50<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>yes<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span> comment/s
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>odd<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Old Cheddar<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>18.75<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>yes<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span> comment/s
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/gtvg/product/comments?prodId<span class="token punctuation">=</span>4<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>view<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>odd<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Blue Lettuce<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>9.55<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>no<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span> comment/s
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Mild Cinnamon<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>1.99<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>yes<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span> comment/s
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>comments.html<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>view<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最后两行是模拟行！当然是了：迭代只应用于第一行，所以 Thymeleaf 没有理由删除其他两行。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们需要一种方法来在模板处理期间删除这两行。让我们</font></font><code>th:remove</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在第二个和第三个</font></font><code>&lt;tr&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标签上使用该属性：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>NAME<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>PRICE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>IN STOCK<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>COMMENTS<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name"><span class="token namespace">th:</span>each</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>prod : ${prods}<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${prodStat.odd}? <span class="token punctuation">'</span>odd<span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${prod.name}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Onions<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${prod.price}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>2.41<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${prod.inStock}? #{true} : #{false}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>yes<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${#lists.size(prod.comments)}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span> comment/s
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>comments.html<span class="token punctuation">"</span></span> 
         <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/product/comments(prodId<span class="token punctuation">=</span>${prod.id})}<span class="token punctuation">"</span></span> 
         <span class="token attr-name"><span class="token namespace">th:</span>unless</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${#lists.isEmpty(prod.comments)}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>view<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>odd<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>remove</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>all<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Blue Lettuce<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>9.55<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>no<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span> comment/s
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name"><span class="token namespace">th:</span>remove</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>all<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Mild Cinnamon<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>1.99<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>yes<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span> comment/s
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>comments.html<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>view<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一旦处理完毕，一切都将恢复原状：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>NAME<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>PRICE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>IN STOCK<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>COMMENTS<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Fresh Sweet Basil<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>4.99<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>yes<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span> comment/s
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>odd<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Italian Tomato<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>1.25<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>no<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span> comment/s
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/gtvg/product/comments?prodId<span class="token punctuation">=</span>2<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>view<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Yellow Bell Pepper<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>2.50<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>yes<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span> comment/s
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>odd<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Old Cheddar<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>18.75<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>yes<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span> comment/s
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/gtvg/product/comments?prodId<span class="token punctuation">=</span>4<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>view<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">那么</font></font><code>all</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性中的值是什么意思呢？</font></font><code>th:remove</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">根据其值的不同，可以有五种不同的表现：</font></font></p>
<ul>
<li><code>all</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：删除包含的标签及其所有子标签。</font></font></li>
<li><code>body</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：不删除包含的标签，但删除其所有子标签。</font></font></li>
<li><code>tag</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：删除包含的标签，但不删除其子标签。</font></font></li>
<li><code>all-but-first</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：删除包含标签的所有子标签，除了第一个。</font></font></li>
<li><code>none</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：不执行任何操作。此值对于动态评估很有用。</font></font></li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这个</font></font><code>all-but-first</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值有什么用呢？它可以让我们</font></font><code>th:remove="all"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在制作原型时节省一些：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>thead</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>NAME<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>PRICE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>IN STOCK<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>COMMENTS<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>thead</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tbody</span> <span class="token attr-name"><span class="token namespace">th:</span>remove</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>all-but-first<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name"><span class="token namespace">th:</span>each</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>prod : ${prods}<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${prodStat.odd}? <span class="token punctuation">'</span>odd<span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${prod.name}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Onions<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${prod.price}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>2.41<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${prod.inStock}? #{true} : #{false}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>yes<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${#lists.size(prod.comments)}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span> comment/s
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>comments.html<span class="token punctuation">"</span></span> 
           <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/product/comments(prodId<span class="token punctuation">=</span>${prod.id})}<span class="token punctuation">"</span></span> 
           <span class="token attr-name"><span class="token namespace">th:</span>unless</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${#lists.isEmpty(prod.comments)}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>view<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>odd<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Blue Lettuce<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>9.55<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>no<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span> comment/s
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Mild Cinnamon<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>1.99<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>yes<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span> comment/s
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>comments.html<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>view<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tbody</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该</font></font><code>th:remove</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性可以采用任何</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Thymeleaf 标准表达式</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，只要它返回允许的字符串值之一（</font></font><code>all</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code>tag</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code>body</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><code>all-but-first</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font><code>none</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这意味着删除可能是有条件的，例如：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/something<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>remove</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${condition}? tag : none<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Link text not to be removed<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">还请注意，</font></font><code>th:remove</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">认为是</font></font><code>null</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的同义词</font></font><code>none</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，因此以下内容与上面的例子相同：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/something<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>remove</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${condition}? tag<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Link text not to be removed<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在这种情况下，如果</font></font><code>${condition}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为假，</font></font><code>null</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">则会返回，因此不会执行任何删除。</font></font></p>
</section>
<section id="layout-inheritance" class="level2">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.5 布局继承</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为了能够将单个文件用作布局，可以使用片段。具有</font></font><code>title</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code>content</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用</font></font><code>th:fragment</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和的简单布局示例</font></font><code>th:replace</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token doctype">&lt;!DOCTYPE html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name"><span class="token namespace">th:</span>fragment</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>layout (title, content)<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>th</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.thymeleaf.org<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span> <span class="token attr-name"><span class="token namespace">th:</span>replace</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${title}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Layout Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Layout H1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>replace</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${content}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Layout content<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>footer</span><span class="token punctuation">&gt;</span></span><font></font>
        Layout footer<font></font>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>footer</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此示例声明了一个名为</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">layout 的</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">片段，其参数为</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">title</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">content</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。在继承该片段的页面上，这两个片段将被以下示例中提供的片段表达式替换。</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token doctype">&lt;!DOCTYPE html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name"><span class="token namespace">th:</span>replace</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>~{layoutFile :: layout(~{::title}, ~{::section})}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Page Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Page content<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>Included on page<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在这个文件中，</font></font><code>html</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标签将被替换为</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">layout</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，但在布局中</font></font><code>title</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和将分别被</font><font style="vertical-align: inherit;">和</font><font style="vertical-align: inherit;">块</font></font><code>content</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">替换。</font></font><code>title</code><font style="vertical-align: inherit;"></font><code>section</code><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果需要，布局可以由</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">页眉</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">页脚</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">等几个片段组成。</font></font></p>
</section>
</section>
<section id="local-variables" class="level1">
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9 局部变量</font></font></h1>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Thymeleaf 将为模板的特定片段定义的变量称为</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">局部变量</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，并且只能在该片段内进行评估。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们已经看到的一个例子是</font></font><code>prod</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们产品列表页面中的 iter 变量：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name"><span class="token namespace">th:</span>each</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>prod : ${prods}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><font></font>
    ...<font></font>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该</font></font><code>prod</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变量仅在标记的范围内可用</font></font><code>&lt;tr&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。具体来说：</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">它将适用于</font></font><code>th:*</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在该标签中执行的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">优先级</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">低于的任何其他属性</font></font><code>th:each</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（这意味着它们将在之后执行</font></font><code>th:each</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">它将可用于</font></font><code>&lt;tr&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标签的任何子元素，例如任何</font></font><code>&lt;td&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">元素。</font></font></li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Thymeleaf 提供了一种无需迭代来声明局部变量的方法，使用属性</font></font><code>th:with</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，其语法类似于属性值赋值：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>with</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>firstPer<span class="token punctuation">=</span>${persons[0]}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
    The name of the first person is <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${firstPer.name}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Julius Caesar<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>.
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在</font></font><code>th:with</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">处理时，该</font></font><code>firstPer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变量被创建为局部变量并添加到来自上下文的变量映射中，以便它可以与上下文中声明的任何其他变量一起进行评估，但仅限于包含标签的范围内</font></font><code>&lt;div&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您可以使用通常的多重赋值语法同时定义多个变量：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>with</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>firstPer<span class="token punctuation">=</span>${persons[0]},secondPer<span class="token punctuation">=</span>${persons[1]}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
    The name of the first person is <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${firstPer.name}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Julius Caesar<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>.
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><font></font>
    But the name of the second person is <font></font>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${secondPer.name}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Marcus Antonius<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>.
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该</font></font><code>th:with</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性允许重复使用在同一属性中定义的变量：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>with</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>company<span class="token punctuation">=</span>${user.company + <span class="token punctuation">'</span> Co.<span class="token punctuation">'</span>},account<span class="token punctuation">=</span>${accounts[company]}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们在杂货店的主页上使用它！还记得我们为输出格式化日期而编写的代码吗？</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><font></font>
  Today is: <font></font>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${#calendars.format(today,<span class="token punctuation">'</span>dd MMMM yyyy<span class="token punctuation">'</span>)}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>13 february 2011<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">那么，如果我们想让它</font></font><code>"dd MMMM yyyy"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">真正依赖于语言环境呢？例如，我们可能想将以下消息添加到我们的</font></font><code>home_en.properties</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></p>
<pre><code>date.format=MMMM dd'','' yyyy</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">…以及与我们的等价的</font></font><code>home_es.properties</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></p>
<pre><code>date.format=dd ''de'' MMMM'','' yyyy</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现在，让我们</font></font><code>th:with</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将本地化的日期格式放入变量中，然后在表达式中使用它</font></font><code>th:text</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>with</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>df<span class="token punctuation">=</span>#{date.format}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  Today is: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${#calendars.format(today,df)}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>13 February 2011<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这很简单。事实上，考虑到 的比</font><font style="vertical-align: inherit;">更高</font></font><code>th:with</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font><font style="vertical-align: inherit;">我们可以在</font><font style="vertical-align: inherit;">标签中解决所有问题：</font></font><code>precedence</code><font style="vertical-align: inherit;"></font><code>th:text</code><font style="vertical-align: inherit;"></font><code>span</code><font style="vertical-align: inherit;"></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><font></font>
  Today is: <font></font>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>with</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>df<span class="token punctuation">=</span>#{date.format}<span class="token punctuation">"</span></span> 
        <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${#calendars.format(today,df)}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>13 February 2011<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您可能会想：优先级？我们还没有讨论过这个！好吧，不用担心，因为这正是下一章的内容。</font></font></p>
</section>
<section id="attribute-precedence" class="level1">
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10 属性优先级</font></font></h1>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果在同一个标​​签中写入多个</font></font><code>th:*</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性，会发生什么情况？例如：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name"><span class="token namespace">th:</span>each</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>item : ${items}<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${item.description}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Item description here...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们希望该</font></font><code>th:each</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性能够在之前执行，</font></font><code>th:text</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以便获得我们想要的结果，但鉴于 HTML/XML 标准没有赋予标签中属性的书写顺序任何含义，必须在属性本身中建立</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">优先</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">机制，以确保其能够按预期工作。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因此，所有 Thymeleaf 属性都定义了一个数字优先级，它确定了它们在标签中的执行顺序。这个顺序是：</font></font></p>
<div class="table-scroller">
<table style="width:92%;">
<colgroup>
<col style="width: 11%">
<col style="width: 48%">
<col style="width: 31%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令</font></font></th>
<th style="text-align: left;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特征</font></font></th>
<th style="text-align: left;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性</font></font></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></td>
<td style="text-align: left;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">片段包含</font></font></td>
<td style="text-align: left;"><code>th:insert</code><br>
<code>th:replace</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></td>
<td style="text-align: left;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">片段迭代</font></font></td>
<td style="text-align: left;"><code>th:each</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3</font></font></td>
<td style="text-align: left;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">条件评估</font></font></td>
<td style="text-align: left;"><code>th:if</code><br>
<code>th:unless</code><br>
<code>th:switch</code><br>
<code>th:case</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4</font></font></td>
<td style="text-align: left;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">局部变量定义</font></font></td>
<td style="text-align: left;"><code>th:object</code><br>
<code>th:with</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5</font></font></td>
<td style="text-align: left;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通用属性修改</font></font></td>
<td style="text-align: left;"><code>th:attr</code><br>
<code>th:attrprepend</code><br>
<code>th:attrappend</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6</font></font></td>
<td style="text-align: left;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">具体属性修改</font></font></td>
<td style="text-align: left;"><code>th:value</code><br>
<code>th:href</code><br>
<code>th:src</code><br>
<code>...</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7</font></font></td>
<td style="text-align: left;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文字（标签主体修改）</font></font></td>
<td style="text-align: left;"><code>th:text</code><br>
<code>th:utext</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8</font></font></td>
<td style="text-align: left;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">片段规范</font></font></td>
<td style="text-align: left;"><code>th:fragment</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9</font></font></td>
<td style="text-align: left;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">碎片清除</font></font></td>
<td style="text-align: left;"><code>th:remove</code></td>
</tr>
</tbody>
</table>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这种优先机制意味着，如果属性位置被反转，上述迭代片段将给出完全相同的结果（尽管可读性会稍微差一些）：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${item.description}<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>each</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>item : ${items}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Item description here...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span></code></pre>
</section>
<section id="comments-and-blocks" class="level1">
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11 评论和区块</font></font></h1>
<section id="standard-htmlxml-comments" class="level2">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.1. 标准 HTML/XML 注释</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标准 HTML/XML 注释</font></font><code>&lt;!-- ... --&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以在 Thymeleaf 模板的任何地方使用。这些注释中的任何内容都不会被 Thymeleaf 处理，并且会被逐字复制到结果中：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token comment" spellcheck="true">&lt;!-- User info follows --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${...}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><font></font>
  ...<font></font>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre>
</section>
<section id="thymeleaf-parser-level-comment-blocks" class="level2">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.2. Thymeleaf 解析器级注释块</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">解析器级注释块是 Thymeleaf 解析模板时将从模板中简单删除的代码。它们看起来像这样：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token comment" spellcheck="true">&lt;!--/* This code will be removed at Thymeleaf parsing time! */--&gt;</span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Thymeleaf 将删除</font></font><code>&lt;!--/*</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和之间的所有内容</font></font><code>*/--&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，因此这些注释块也可以用于在模板静态打开时显示代码，并且知道它将在 Thymeleaf 处理它时被删除：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token comment" spellcheck="true">&lt;!--/*--&gt;</span> 
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><font></font>
     you can see me only before Thymeleaf processes me!<font></font>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token comment" spellcheck="true">&lt;!--*/--&gt;</span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这对于包含大量</font></font><code>&lt;tr&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'s 的原型表可能非常方便，例如：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name"><span class="token namespace">th:</span>each</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>x : ${xs}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><font></font>
     ...<font></font>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
   <span class="token comment" spellcheck="true">&lt;!--/*--&gt;</span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span><font></font>
     ...<font></font>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span><font></font>
     ...<font></font>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
   <span class="token comment" spellcheck="true">&lt;!--*/--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span></code></pre>
</section>
<section id="thymeleaf-prototype-only-comment-blocks" class="level2">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.3. Thymeleaf 原型专用注释块</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Thymeleaf 允许定义特殊的注释块，当模板静态打开（即作为原型）时将其标记为注释，但在执行模板时 Thymeleaf 将其视为正常标记。</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>hello!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
<span class="token comment" spellcheck="true">&lt;!--/*/
  &lt;div th:text="${...}"&gt;
    ...
  &lt;/div&gt;
/*/--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>goodbye!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Thymeleaf 的解析系统将简单地删除</font></font><code>&lt;!--/*/</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code>/*/--&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标记，但不会删除其内容，因此将保留未注释的内容。因此，在执行模板时，Thymeleaf 实际上会看到以下内容：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>hello!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><font></font>
 <font></font>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${...}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><font></font>
    ...<font></font>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><font></font>
 <font></font>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>goodbye!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与解析器级注释块一样，此功能与方言无关。</font></font></p>
</section>
<section id="synthetic-thblock-tag" class="level2">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.4. 合成</font></font><code>th:block</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标签</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Thymeleaf 标准方言中包含的唯一元素处理器（不是属性）是</font></font><code>th:block</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p><code>th:block</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">只是一个属性容器，允许模板开发人员指定他们想要的任何属性。Thymeleaf 将执行这些属性，然后简单地使块（而不是其内容）消失。</font></font></p>
<p><font style="vertical-align: inherit;"></font><code>&lt;tr&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因此，它可能很有用，例如，在创建需要每个元素</font><font style="vertical-align: inherit;">多个的迭代表时：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">th:</span>block</span> <span class="token attr-name"><span class="token namespace">th:</span>each</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>user : ${users}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${user.login}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${user.name}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">colspan</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>2<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${user.address}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">th:</span>block</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与仅原型的注释块结合使用时尤其有用：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment" spellcheck="true">&lt;!--/*/ &lt;th:block th:each="user : ${users}"&gt; /*/--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${user.login}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${user.name}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">colspan</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>2<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${user.address}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment" spellcheck="true">&lt;!--/*/ &lt;/th:block&gt; /*/--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意，该解决方案如何允许模板成为有效的 HTML（无需</font></font><code>&lt;div&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在里面添加禁止块</font></font><code>&lt;table&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），并且在浏览器中作为原型静态打开时仍然可以正常工作！</font></font></p>
</section>
</section>
<section id="inlining" class="level1">
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12 内联</font></font></h1>
<section id="expression-inlining" class="level2">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12.1 表达式内联</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">尽管标准方言允许我们使用标签属性来做几乎所有的事情，但在某些情况下，我们可能更喜欢将表达式直接写入 HTML 文本中。例如，我们更喜欢这样写：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Hello, [[${session.user.name}]]!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">…而不是这样：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Hello, <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${session.user.name}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Sebastian<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"></font><code>[[...]]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 Thymeleaf 中，或</font><font style="vertical-align: inherit;">之间的表达式</font></font><code>[(...)]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">被视为</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内联表达式</font></font></strong><font style="vertical-align: inherit;"></font><code>th:text</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，在其中我们可以使用在或属性</font><font style="vertical-align: inherit;">中有效的任何类型的表达式</font></font><code>th:utext</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意，虽然</font></font><code>[[...]]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对应于</font></font><code>th:text</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（即结果将是</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTML 转义的</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），但</font></font><code>[(...)]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对应于</font></font><code>th:utext</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和不会执行任何 HTML 转义。因此，对于诸如这样的变量</font></font><code>msg = 'This is &lt;b&gt;great!&lt;/b&gt;'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，给出以下片段：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>The message is "[(${msg})]"<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">结果将不会</font></font><code>&lt;b&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">转义这些标签，因此：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>The message is "This is <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">&gt;</span></span>great!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span>"<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">而如果逃避的话：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>The message is "[[${msg}]]"<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">结果将是 HTML 转义的：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>The message is "This is <span class="token entity" title="&lt;">&amp;lt;</span>b<span class="token entity" title="&gt;">&amp;gt;</span>great!<span class="token entity" title="&lt;">&amp;lt;</span>/b<span class="token entity" title="&gt;">&amp;gt;</span>"<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意，</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文本内联在我们的标记中每个标签的主体中默认处于活动状态</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- 而不是标签本身 - 因此我们不需要执行任何操作来启用它。</font></font></p>
<section id="inlining-vs-natural-templates" class="level3">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内联模板与自然模板</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果你之前使用过其他以这种输出文本方式为标准的模板引擎，你可能会问：</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们为什么不从一开始就这样做呢？这比那些</font></font></em> <code>th:text</code> <em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性的代码要少！</font></font></em></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">好吧，要小心，因为虽然你可能会发现内联非常有趣，但你应该始终记住，当你静态打开内联表达式时，它们将逐字显示在你的 HTML 文件中，所以你可能不再能够将它们用作设计原型了！</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">浏览器在不使用内联的情况下静态显示我们的代码片段之间的区别是……</font></font></p>
<pre><code>Hello, Sebastian!</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">…并使用它…</font></font></p>
<pre><code>Hello, [[${session.user.name}]]!</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...从设计实用性方面来看非常明确。</font></font></p>
</section>
<section id="disabling-inlining" class="level3">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">禁用内联</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不过，这种机制可以被禁用，因为实际上可能存在我们确实希望输出</font></font><code>[[...]]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><code>[(...)]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">序列而不将其内容作为表达式处理的情况。为此，我们将使用</font></font><code>th:inline="none"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>inline</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>none<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>A double array looks like this: [[1, 2, 3], [4, 5]]!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这将导致：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>A double array looks like this: [[1, 2, 3], [4, 5]]!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre>
</section>
</section>
<section id="text-inlining" class="level2">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12.2 文本内联</font></font></h2>
<p><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文本内联与我们刚刚看到的</font></font></em><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表达式内联</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">功能非常相似</font><font style="vertical-align: inherit;">，但它实际上增加了更多功能。它必须使用 明确启用</font></font><code>th:inline="text"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文本内联不仅允许我们使用刚刚看到的相同的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内联表达式</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，而且实际上处理</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标签主体</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，就好像它们是在</font></font><code>TEXT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模板模式中处理的模板一样，这使我们能够执行基于文本的模板逻辑（而不仅仅是输出表达式）。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在下一章关于</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文本模板模式</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中我们将看到更多相关内容。</font></font></p>
</section>
<section id="javascript-inlining" class="level2">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12.3 JavaScript 内联</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JavaScript 内联允许更好地集成模板模式</font></font><code>&lt;script&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下正在处理的模板中的 JavaScript 块</font></font><code>HTML</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文本内联</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一样，这实际上相当于在模板模式下将脚本内容当作模板来处理，因此</font><em><font style="vertical-align: inherit;">文本模板模式</font></em></font><code>JAVASCRIPT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的所有功能</font><font style="vertical-align: inherit;">（请参阅下一章）都将唾手可得。然而，在本节中，我们将重点介绍如何使用它将 Thymeleaf 表达式的输出添加到 JavaScript 块中。</font></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">必须使用以下命令明确启用此模式</font></font><code>th:inline="javascript"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name"><span class="token namespace">th:</span>inline</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>javascript<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><font></font>
    ...<font></font>
    var username = [[${session.user.name}]];<font></font>
    ...<font></font>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这将导致：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name"><span class="token namespace">th:</span>inline</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>javascript<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><font></font>
    ...<font></font>
    var username = "Sebastian \"Fruity\" Applejuice";<font></font>
    ...<font></font>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上面的代码中有两点需要注意：</font></font></p>
<p><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">首先</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，JavaScript 内联不仅会输出所需的文本，还会用引号将其括起来并用 JavaScript 转义其内容，以便将表达式结果输出为格式</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正确的 JavaScript 文字</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其次</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，发生这种情况是因为我们将</font></font><code>${session.user.name}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表达式输出为转义</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，即使用双括号表达式：</font></font><code>[[${session.user.name}]]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。如果我们使用</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非转义</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表达式，例如：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name"><span class="token namespace">th:</span>inline</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>javascript<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><font></font>
    ...<font></font>
    var username = [(${session.user.name})];<font></font>
    ...<font></font>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">结果如下：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name"><span class="token namespace">th:</span>inline</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>javascript<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><font></font>
    ...<font></font>
    var username = Sebastian "Fruity" Applejuice;<font></font>
    ...<font></font>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">…这是格式错误的 JavaScript 代码。但是，如果我们通过附加内联表达式来构建脚本的某些部分，则可能需要输出未转义的内容，因此手头有此工具会很好。</font></font></p>
<section id="javascript-natural-templates" class="level3">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JavaScript 自然模板</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提到的JavaScript 内联机制的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">智能性</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">远不止应用 JavaScript 特定的转义并将表达式结果输出为有效文字。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例如，我们可以将（转义的）内联表达式包装在 JavaScript 注释中，如下所示：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name"><span class="token namespace">th:</span>inline</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>javascript<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><font></font>
    ...<font></font>
    var username = /*[[${session.user.name}]]*/ "Gertrud Kiwifruit";<font></font>
    ...<font></font>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并且 Thymeleaf 将忽略我们在注释之后和分号之前</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">写的所有内容</font><font style="vertical-align: inherit;">（在本例中为</font></font><code>'Gertrud Kiwifruit'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），因此执行此操作的结果将与我们不使用包装注释时完全一样：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name"><span class="token namespace">th:</span>inline</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>javascript<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><font></font>
    ...<font></font>
    var username = "Sebastian \"Fruity\" Applejuice";<font></font>
    ...<font></font>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但是再仔细看一下原始模板代码：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name"><span class="token namespace">th:</span>inline</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>javascript<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><font></font>
    ...<font></font>
    var username = /*[[${session.user.name}]]*/ "Gertrud Kiwifruit";<font></font>
    ...<font></font>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意这是</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有效的 JavaScript</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">代码。当您以静态方式打开模板文件时（无需在服务器上执行），它将完美执行。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所以我们现在有了一种制作</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JavaScript 自然模板的</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法！</font></font></p>
</section>
<section id="advanced-inlined-evaluation-and-javascript-serialization" class="level3">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">高级内联评估和 JavaScript 序列化</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">关于 JavaScript 内联，需要注意的一件重要事情是，此表达式求值是智能的，不仅限于字符串。Thymeleaf 将以 JavaScript 语法正确写入以下类型的对象：</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符串</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数字</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">布尔值</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数组</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">收藏</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Maps</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bean（具有</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">getter</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">setter</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法的对象）</font></font></li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例如，如果我们有以下代码：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name"><span class="token namespace">th:</span>inline</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>javascript<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><font></font>
    ...<font></font>
    var user = /*[[${session.user}]]*/ null;<font></font>
    ...<font></font>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该</font></font><code>${session.user}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表达式将计算为一个</font></font><code>User</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对象，并且 Thymeleaf 将正确地将其转换为 Javascript 语法：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name"><span class="token namespace">th:</span>inline</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>javascript<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><font></font>
    ...<font></font>
    var user = {"age":null,"firstName":"John","lastName":"Apricot",<font></font>
                "name":"John Apricot","nationality":"Antarctica"};<font></font>
    ...<font></font>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这种 JavaScript 序列化的方式是通过接口的实现，可以在</font><font style="vertical-align: inherit;">模板引擎使用</font></font><code>org.thymeleaf.standard.serializer.IStandardJavaScriptSerializer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的实例上进行配置。</font></font><code>StandardDialect</code><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此 JS 序列化机制的默认实现将在类路径中查找</font></font><a href="javascript:if(confirm(%27https://github.com/FasterXML/jackson  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27https://github.com/FasterXML/jackson%27" tppabs="https://github.com/FasterXML/jackson"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jackson 库</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，如果存在，则使用它。如果不存在，它将应用内置的序列化机制，该机制可满足大多数场景的需求并产生类似的结果（但灵活性较差）。</font></font></p>
</section>
</section>
<section id="css-inlining" class="level2">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12.4 CSS 内联</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Thymeleaf 还允许在 CSS 标签中使用内联</font></font><code>&lt;style&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，例如：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name"><span class="token namespace">th:</span>inline</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>css<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><font></font>
  ...<font></font>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例如，假设我们有两个变量设置为两个不同的</font></font><code>String</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值：</font></font></p>
<pre><code>classname = 'main elems'<font></font>
align = 'center'</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们可以像这样使用它们：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name"><span class="token namespace">th:</span>inline</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>css<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><font></font>
    .[[${classname}]] {<font></font>
      text-align: [[${align}]];<font></font>
    }<font></font>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">结果是：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name"><span class="token namespace">th:</span>inline</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>css<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><font></font>
    .main\ elems {<font></font>
      text-align: center;<font></font>
    }<font></font>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意，CSS 内联也具有一定的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">智能</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，就像 JavaScript 一样。具体来说，通过转义表达式</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输出</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的表达式（如）</font></font><code>[[${classname}]]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将被转义为</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CSS 标识符</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。这就是为什么我们的</font><font style="vertical-align: inherit;">在上面的代码片段中</font></font><code>classname = 'main elems'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变成了。</font></font><code>main\ elems</code><font style="vertical-align: inherit;"></font></p>
<section id="advanced-features-css-natural-templates-etc." class="level3">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">高级功能：CSS自然模板等。</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与之前对 JavaScript 的解释相同，CSS 内联也允许我们的</font></font><code>&lt;style&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标签静态和动态地工作，即</font><font style="vertical-align: inherit;">通过将内联表达式包装在注释中作为</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CSS 自然模板。参见：</font></font></strong><font style="vertical-align: inherit;"></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name"><span class="token namespace">th:</span>inline</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>css<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><font></font>
    .main\ elems {<font></font>
      text-align: /*[[${align}]]*/ left;<font></font>
    }<font></font>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span></code></pre>
</section>
</section>
</section>
<section id="textual-template-modes" class="level1">
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">13 文本模板模式</font></font></h1>
<section id="textual-syntax" class="level2">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">13.1 文本语法</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Thymeleaf</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模板模式</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中有三种被视为</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文本</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><code>TEXT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>JAVASCRIPT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code>CSS</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。这将它们与标记模板模式区分开来：</font></font><code>HTML</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code>XML</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文本</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模板模式和标记模板模式之间的主要区别</font><font style="vertical-align: inherit;">在于，文本模板中没有标签可以以属性的形式插入逻辑，因此我们必须依赖其他机制。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这些机制中第一个也是最基本的是</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内联</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，我们在上一章已经详细介绍过。内联语法是在文本模板模式下输出表达式结果的最简单方法，因此这是一个非常适合文本电子邮件的模板。</font></font></p>
<pre><code>  Dear [(${name})],<font></font>
<font></font>
  Please find attached the results of the report you requested<font></font>
  with name "[(${report.name})]".<font></font>
<font></font>
  Sincerely,<font></font>
    The Reporter.</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">即使没有标签，上面的例子也是一个完整有效的Thymeleaf模板，可以在</font></font><code>TEXT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模板模式下执行。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但是为了包含比单纯的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输出表达式</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更复杂的逻辑，我们需要一种新的非基于标签的语法：</font></font></p>
<pre><code>[# th:each="item : ${items}"]<font></font>
  - [(${item})]<font></font>
[/]</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这实际上是</font><font style="vertical-align: inherit;">更详细的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">浓缩版本：</font></font></em><font style="vertical-align: inherit;"></font></p>
<pre><code>[#th:block th:each="item : ${items}"]<font></font>
  - [#th:block th:utext="${item}" /]<font></font>
[/th:block]</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意，此新语法基于声明为</font></font><code>[#element ...]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">而非 的元素（即可处理标签） </font></font><code>&lt;element ...&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。元素像 一样开放</font></font><code>[#element ...]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，像 一样封闭</font></font><code>[/element]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，独立标签可以通过将开放元素最小化为 来声明，其方式</font></font><code>/</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">几乎等同于 XML 标签：</font></font><code>[#element ... /]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标准方言仅包含这些元素之一的处理器：已知元素</font></font><code>th:block</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，尽管我们可以在方言中扩展它并以通常的方式创建新元素。此外，元素</font></font><code>th:block</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font><code>[#th:block ...] ... [/th:block]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) 可以缩写为空字符串 ( </font></font><code>[# ...] ... [/]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)，因此上述块实际上等同于：</font></font></p>
<pre><code>[# th:each="item : ${items}"]<font></font>
  - [# th:utext="${item}" /]<font></font>
[/]</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并且考虑到</font></font><code>[# th:utext="${item}" /]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相当于</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内联的非转义表达式</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，我们可以使用它来减少代码量。因此，我们最终得到了上面看到的第一段代码：</font></font></p>
<pre><code>[# th:each="item : ${items}"]<font></font>
  - [(${item})]<font></font>
[/]</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意，</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文本语法要求完全元素平衡（没有未关闭的标签）和带引号的属性</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- 它更具 XML 风格而不是 HTML 风格。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们看一个更完整的模板示例</font></font><code>TEXT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，一个</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">纯文本</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">电子邮件模板：</font></font></p>
<pre><code>Dear [(${customer.name})],<font></font>
<font></font>
This is the list of our products:<font></font>
<font></font>
[# th:each="prod : ${products}"]<font></font>
   - [(${prod.name})]. Price: [(${prod.price})] EUR/kg<font></font>
[/]<font></font>
<font></font>
Thanks,<font></font>
  The Thymeleaf Shop</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">执行后的结果可能类似于：</font></font></p>
<pre><code>Dear Mary Ann Blueberry,<font></font>
<font></font>
This is the list of our products:<font></font>
<font></font>
   - Apricots. Price: 1.12 EUR/kg<font></font>
   - Bananas. Price: 1.78 EUR/kg<font></font>
   - Apples. Price: 0.85 EUR/kg<font></font>
   - Watermelon. Price: 1.91 EUR/kg<font></font>
<font></font>
Thanks,<font></font>
  The Thymeleaf Shop</code></pre>
<p><font style="vertical-align: inherit;"></font><code>JAVASCRIPT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模板模式</font><font style="vertical-align: inherit;">中的另一个示例是</font></font><code>greeter.js</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，我们将文件作为文本模板进行处理，并从 HTML 页面调用其结果。请注意，这不是</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTML</font></font></em><font style="vertical-align: inherit;"></font><code>&lt;script&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模板中的块，而是</font><font style="vertical-align: inherit;">作为</font></font><code>.js</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模板单独处理的文件：</font></font></p>
<pre class=" language-javascript"><code class=" language-javascript">var greeter = function() {<font></font>
<font></font>
    var username = [[${session.user.name}]];<font></font>
<font></font>
    [# th:each="salut : ${salutations}"]    <font></font>
      alert([[${salut}]] + " " + username);<font></font>
    [/]<font></font>
<font></font>
};</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">执行后的结果可能类似于：</font></font></p>
<pre class=" language-javascript"><code class=" language-javascript">var greeter = function() {<font></font>
<font></font>
    var username = "Bertrand \"Crunchy\" Pear";<font></font>
<font></font>
      alert("Hello" + " " + username);<font></font>
      alert("Ol\u00E1" + " " + username);<font></font>
      alert("Hola" + " " + username);<font></font>
<font></font>
};</code></pre>
<section id="escaped-element-attributes" class="level3">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">转义元素属性</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为了避免与可能在其他模式下处理的模板部分交互（例如模板</font></font><code>text</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内部的 -mode 内联），Thymeleaf 3.0 允许对其</font><em><font style="vertical-align: inherit;">文本语法</font></em></font><code>HTML</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中的元素中的属性</font><font style="vertical-align: inherit;">进行转义。所以：</font></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font></p>
<ul>
<li><font style="vertical-align: inherit;"></font><code>TEXT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模板模式</font><font style="vertical-align: inherit;">中的属性将是</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTML 非转义的</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
<li><font style="vertical-align: inherit;"></font><code>JAVASCRIPT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模板模式</font><font style="vertical-align: inherit;">中的属性将是</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JavaScript 非转义的</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
<li><font style="vertical-align: inherit;"></font><code>CSS</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模板模式</font><font style="vertical-align: inherit;">中的属性将是</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CSS 非转义的</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因此，这在 -mode 模板中是完全没问题的</font></font><code>TEXT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（请注意</font></font><code>&amp;gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）：</font></font></p>
<pre><code>  [# th:if="${120&amp;lt;user.age}"]<font></font>
     Congratulations!<font></font>
  [/]</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当然，这在</font><em><font style="vertical-align: inherit;">真正的文本</font></em></font><code>&amp;lt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模板中是没有意义的</font><font style="vertical-align: inherit;">，但如果我们正在处理包含上述代码的块的 HTML 模板</font><font style="vertical-align: inherit;">，并且我们希望确保我们的浏览器</font><font style="vertical-align: inherit;">在静态打开文件作为原型时不会将其作为打开标签的名称，那么这是一个好主意。</font></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><code>th:inline="text"</code><font style="vertical-align: inherit;"></font><code>&lt;user.age</code><font style="vertical-align: inherit;"></font></p>
</section>
</section>
<section id="extensibility" class="level2">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">13.2 可扩展性</font></font></h2>
<p><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这种语法的优点之一是它与标记</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语法一样具有可扩展性</font><font style="vertical-align: inherit;">。开发人员仍然可以使用自定义元素和属性定义自己的方言，为其应用前缀（可选），然后在文本模板模式中使用它们：</font></font></p>
<pre><code>  [#myorg:dosomething myorg:importantattr="211"]some text[/myorg:dosomething]</code></pre>
</section>
<section id="textual-prototype-only-comment-blocks-adding-code" class="level2">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">13.3 仅限文本原型的注释块：添加代码</font></font></h2>
<p><font style="vertical-align: inherit;"></font><code>JAVASCRIPT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和模板</font><font style="vertical-align: inherit;">模式</font></font><code>CSS</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（不适用于</font></font><code>TEXT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）允许在特殊注释语法之间包含代码</font></font><code>/*[+...+]*/</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，以便 Thymeleaf 在处理模板时自动取消注释这些代码：</font></font></p>
<pre class=" language-javascript"><code class=" language-javascript">var x = 23;<font></font>
<font></font>
/*[+<font></font>
<font></font>
var msg  = "This is a working application";<font></font>
<font></font>
+]*/<font></font>
<font></font>
var f = function() {<font></font>
    ...</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将按如下方式执行：</font></font></p>
<pre class=" language-javascript"><code class=" language-javascript">var x = 23;<font></font>
<font></font>
var msg  = "This is a working application";<font></font>
<font></font>
var f = function() {<font></font>
...</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您可以在这些注释中包含表达式，并且它们会被评估：</font></font></p>
<pre class=" language-javascript"><code class=" language-javascript">var x = 23;<font></font>
<font></font>
/*[+<font></font>
<font></font>
var msg  = "Hello, " + [[${session.user.name}]];<font></font>
<font></font>
+]*/<font></font>
<font></font>
var f = function() {<font></font>
...</code></pre>
</section>
<section id="textual-parser-level-comment-blocks-removing-code" class="level2">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">13.4 文本解析器级注释块：删除代码</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与仅原型注释块类似，所有三种文本模板模式（</font></font><code>TEXT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>JAVASCRIPT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code>CSS</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）都可以指示 Thymeleaf 删除特殊</font></font><code>/*[- */</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code>/* -]*/</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标记之间的代码，如下所示：</font></font></p>
<pre class=" language-javascript"><code class=" language-javascript">var x = 23;<font></font>
<font></font>
/*[- */<font></font>
<font></font>
var msg  = "This is shown only when executed statically!";<font></font>
<font></font>
/* -]*/<font></font>
<font></font>
var f = function() {<font></font>
...</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或者这样</font></font><code>TEXT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></p>
<pre><code>...<font></font>
/*[- Note the user is obtained from the session, which must exist -]*/<font></font>
Welcome [(${session.user.name})]!<font></font>
...</code></pre>
</section>
<section id="natural-javascript-and-css-templates" class="level2">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">13.5 自然 JavaScript 和 CSS 模板</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如上一章所示，JavaScript 和 CSS 内联提供了在 JavaScript/CSS 注释中包含内联表达式的可能性，例如：</font></font></p>
<pre class=" language-javascript"><code class=" language-javascript">...<font></font>
var username = /*[[${session.user.name}]]*/ "Sebastian Lychee";<font></font>
...</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这是有效的 JavaScript，执行后看起来是这样的：</font></font></p>
<pre class=" language-html"><code class=" language-html">...<font></font>
var username = "John Apricot";<font></font>
...</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将内联表达式括在注释中的相同</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">技巧</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实际上可以用于整个文本模式语法：</font></font></p>
<pre><code>  /*[# th:if="${user.admin}"]*/<font></font>
     alert('Welcome admin');<font></font>
  /*[/]*/</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上述代码中的警报将在模板静态打开时显示 - 因为它是 100% 有效的 JavaScript - 并且如果用户是管理员，则在模板运行时也会显示。它相当于：</font></font></p>
<pre><code>  [# th:if="${user.admin}"]<font></font>
     alert('Welcome admin');<font></font>
  [/]</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...这实际上是模板解析期间初始版本转换为的代码。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但请注意，将元素包装在注释中并不会像内联输出表达式那样清理它们所在的行（向右直到</font></font><code>;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">找到 a）。该行为仅适用于内联输出表达式。</font></font></p>
<p><font style="vertical-align: inherit;"></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因此，Thymeleaf 3.0 允许以自然模板的形式</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开发复杂的 JavaScript 脚本和 CSS 样式表</font><font style="vertical-align: inherit;">，既可以作为</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">原型</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，也可以作为</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">工作模板</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
</section>
</section>
<section id="some-more-pages-for-our-grocery" class="level1">
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">14 我们的杂货还有更多页面</font></font></h1>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现在我们对使用 Thymeleaf 有了更多的了解，我们可以向我们的网站添加一些新的页面用于订单管理。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意，我们将重点关注 HTML 代码，但如果您想查看相应的控制器，可以查看捆绑的源代码。</font></font></p>
<section id="order-list" class="level2">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">14.1 订单列表</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们首先创建一个订单列表页面</font></font><code>/WEB-INF/templates/order/list.html</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token doctype">&lt;!DOCTYPE html&gt;</span><font></font>
<font></font>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>th</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.thymeleaf.org<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Good Thymes Virtual Grocery<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Content-Type<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/html; charset<span class="token punctuation">=</span>UTF-8<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/css<span class="token punctuation">"</span></span> <span class="token attr-name">media</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>all<span class="token punctuation">"</span></span> 
          <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../../../css/gtvg.css<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/css/gtvg.css}<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Order list<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><font></font>
  <font></font>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>DATE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>CUSTOMER<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>TOTAL<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name"><span class="token namespace">th:</span>each</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>o : ${orders}<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${oStat.odd}? <span class="token punctuation">'</span>odd<span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${#calendars.format(o.date,<span class="token punctuation">'</span>dd/MMM/yyyy<span class="token punctuation">'</span>)}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>13 jan 2011<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${o.customer.name}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Frederic Tomato<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${#aggregates.sum(o.orderLines.{purchasePrice * amount})}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>23.32<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>details.html<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/order/details(orderId<span class="token punctuation">=</span>${o.id})}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>view<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span><font></font>
  <font></font>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../home.html<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Return to home<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><font></font>
    <font></font>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span><font></font>
  <font></font>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">除了这点 OGNL 魔法之外，这里没有什么可以让我们感到惊讶的：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${#aggregates.sum(o.orderLines.{purchasePrice * amount})}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>23.32<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其作用是，对于</font></font><code>OrderLine</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">订单中的每一条订单行（对象），将其</font></font><code>purchasePrice</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code>amount</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性相乘（通过调用相应的</font></font><code>getPurchasePrice()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code>getAmount()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法）并将结果返回到数字列表中，然后由</font></font><code>#aggregates.sum(...)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数进行聚合以获得订单总价。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您一定会喜欢 OGNL 的强大功能。</font></font></p>
</section>
<section id="order-details" class="level2">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">14.2 订单详情</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现在进入订单详情页，我们将大量使用星号语法：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token doctype">&lt;!DOCTYPE html&gt;</span><font></font>
<font></font>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>th</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.thymeleaf.org<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Good Thymes Virtual Grocery<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Content-Type<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/html; charset<span class="token punctuation">=</span>UTF-8<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/css<span class="token punctuation">"</span></span> <span class="token attr-name">media</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>all<span class="token punctuation">"</span></span> 
          <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../../../css/gtvg.css<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/css/gtvg.css}<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span> <span class="token attr-name"><span class="token namespace">th:</span>object</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${order}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Order details<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">&gt;</span></span>Code:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>*{id}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>99<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">&gt;</span></span>Date:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>*{#calendars.format(date,<span class="token punctuation">'</span>dd MMM yyyy<span class="token punctuation">'</span>)}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>13 jan 2011<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>Customer<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>object</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>*{customer}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">&gt;</span></span>Name:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>*{name}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Frederic Tomato<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">&gt;</span></span>Since:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>*{#calendars.format(customerSince,<span class="token punctuation">'</span>dd MMM yyyy<span class="token punctuation">'</span>)}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>1 jan 2011<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><font></font>
  <font></font>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>Products<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span><font></font>
  <font></font>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>PRODUCT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>AMOUNT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>PURCHASE PRICE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name"><span class="token namespace">th:</span>each</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ol,row : *{orderLines}<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${row.odd}? <span class="token punctuation">'</span>odd<span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${ol.product.name}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Strawberries<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${ol.amount}<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>number<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${ol.purchasePrice}<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>number<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>23.32<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">&gt;</span></span>TOTAL:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>*{#aggregates.sum(orderLines.{purchasePrice * amount})}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>35.23<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><font></font>
  <font></font>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>list.html<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@{/order/list}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Return to order list<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span><font></font>
  <font></font>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">除了这个嵌套对象选择之外，这里没有什么新内容：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span> <span class="token attr-name"><span class="token namespace">th:</span>object</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${order}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
  ...<font></font>
<font></font>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>object</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>*{customer}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">&gt;</span></span>Name:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>*{name}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Frederic Tomato<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><font></font>
    ...<font></font>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><font></font>
<font></font>
  ...<font></font>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">…这</font></font><code>*{name}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相当于：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">&gt;</span></span>Name:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${order.customer.name}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Frederic Tomato<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre>
</section>
</section>
<section id="more-on-configuration" class="level1">
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">15 有关配置的更多信息</font></font></h1>
<section id="template-resolvers" class="level2">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">15.1 模板解析器</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于我们的 Good Thymes Virtual Grocery，我们选择了一个</font></font><code>ITemplateResolver</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">名为的实现</font></font><code>ServletContextTemplateResolver</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，它允许我们从 Servlet 上下文中获取模板作为资源。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">除了使我们能够通过实现</font></font><code>ITemplateResolver,</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Thymeleaf 来创建自己的模板解析器之外，它还包含四种开箱即用的实现：</font></font></p>
<ul>
<li><p><code>org.thymeleaf.templateresolver.ClassLoaderTemplateResolver</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，将模板解析为类加载器资源，例如：</font></font></p>
<pre class=" language-java"><code class=" language-java"><span class="token keyword">return</span> Thread<span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getContextClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span>template<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li>
<li><p><code>org.thymeleaf.templateresolver.FileTemplateResolver</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，它将模板解析为文件系统中的文件，例如：</font></font></p>
<pre class=" language-java"><code class=" language-java"><span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span>template<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li>
<li><p><code>org.thymeleaf.templateresolver.UrlTemplateResolver</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，它将模板解析为 URL（甚至是非本地的 URL），例如：</font></font></p>
<pre class=" language-java"><code class=" language-java"><span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">URL</span><span class="token punctuation">(</span>template<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">openStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li>
<li><p><code>org.thymeleaf.templateresolver.StringTemplateResolver</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，它将模板直接解析为</font></font><code>String</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指定为</font></font><code>template</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（或</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模板名称</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，在这种情况下显然不仅仅是一个名称）：</font></font></p>
<pre class=" language-java"><code class=" language-java"><span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">StringReader</span><span class="token punctuation">(</span>templateName<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所有预捆绑的实现都</font></font><code>ITemplateResolver</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">允许同一组配置参数，其中包括：</font></font></p>
<ul>
<li><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">前缀和后缀（如前所述）：</font></font></p>
<pre class=" language-java"><code class=" language-java">templateResolver<span class="token punctuation">.</span><span class="token function">setPrefix</span><span class="token punctuation">(</span><span class="token string">"/WEB-INF/templates/"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
templateResolver<span class="token punctuation">.</span><span class="token function">setSuffix</span><span class="token punctuation">(</span><span class="token string">".html"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li>
<li><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模板别名允许使用不直接对应于文件名的模板名称。如果后缀/前缀和别名都存在，则别名将在前缀/后缀之前应用：</font></font></p>
<pre class=" language-java"><code class=" language-java">templateResolver<span class="token punctuation">.</span><span class="token function">addTemplateAlias</span><span class="token punctuation">(</span><span class="token string">"adminHome"</span><span class="token punctuation">,</span><span class="token string">"profiles/admin/home"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
templateResolver<span class="token punctuation">.</span><span class="token function">setTemplateAliases</span><span class="token punctuation">(</span>aliasesMap<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li>
<li><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">读取模板时要应用的编码：</font></font></p>
<pre class=" language-java"><code class=" language-java">templateResolver<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">"UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li>
<li><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要使用的模板模式：</font></font></p>
<pre class=" language-java"><code class=" language-java"><span class="token comment" spellcheck="true">// Default is HTML</span>
templateResolver<span class="token punctuation">.</span><span class="token function">setTemplateMode</span><span class="token punctuation">(</span><span class="token string">"XML"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li>
<li><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模板缓存的默认模式，以及定义特定模板是否可缓存的模式：</font></font></p>
<pre class=" language-java"><code class=" language-java"><span class="token comment" spellcheck="true">// Default is true</span>
templateResolver<span class="token punctuation">.</span><span class="token function">setCacheable</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
templateResolver<span class="token punctuation">.</span><span class="token function">getCacheablePatternSpec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addPattern</span><span class="token punctuation">(</span><span class="token string">"/users/*"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li>
<li><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">源自此模板解析器的已解析模板缓存条目的 TTL（以毫秒为单位）。如果未设置，则从缓存中删除条目的唯一方法是超出缓存最大大小（最旧的条目将被删除）。</font></font></p>
<pre class=" language-java"><code class=" language-java"><span class="token comment" spellcheck="true">// Default is no TTL (only cache size exceeded would remove entries)</span>
templateResolver<span class="token punctuation">.</span><span class="token function">setCacheTTLMs</span><span class="token punctuation">(</span>60000L<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li>
</ul>
<blockquote>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Thymeleaf + Spring 集成包提供了一种</font></font><code>SpringResourceTemplateResolver</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实现，它使用所有 Spring 基础架构来访问和读取应用程序中的资源，并且是支持 Spring 的应用程序中推荐的实现。</font></font></p>
</blockquote>
<section id="chaining-template-resolvers" class="level3">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">链接模板解析器</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此外，模板引擎可以指定多个模板解析器，在这种情况下，可以在它们之间建立一个模板解析的顺序，这样，如果第一个解析器无法解析模板，则询问第二个解析器，依此类推：</font></font></p>
<pre class=" language-java"><code class=" language-java">ClassLoaderTemplateResolver classLoaderTemplateResolver <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassLoaderTemplateResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
classLoaderTemplateResolver<span class="token punctuation">.</span><span class="token function">setOrder</span><span class="token punctuation">(</span>Integer<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><font></font>
<font></font>
ServletContextTemplateResolver servletContextTemplateResolver <span class="token operator">=</span> 
        <span class="token keyword">new</span> <span class="token class-name">ServletContextTemplateResolver</span><span class="token punctuation">(</span>servletContext<span class="token punctuation">)</span><span class="token punctuation">;</span>
servletContextTemplateResolver<span class="token punctuation">.</span><span class="token function">setOrder</span><span class="token punctuation">(</span>Integer<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><font></font>
<font></font>
templateEngine<span class="token punctuation">.</span><span class="token function">addTemplateResolver</span><span class="token punctuation">(</span>classLoaderTemplateResolver<span class="token punctuation">)</span><span class="token punctuation">;</span>
templateEngine<span class="token punctuation">.</span><span class="token function">addTemplateResolver</span><span class="token punctuation">(</span>servletContextTemplateResolver<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当应用多个模板解析器时，建议为每个模板解析器指定模式，以便 Thymeleaf 可以快速丢弃那些不用于解析模板的模板解析器，从而提高性能。这样做不是要求，而是一种建议：</font></font></p>
<pre class=" language-java"><code class=" language-java">ClassLoaderTemplateResolver classLoaderTemplateResolver <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassLoaderTemplateResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
classLoaderTemplateResolver<span class="token punctuation">.</span><span class="token function">setOrder</span><span class="token punctuation">(</span>Integer<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// This classloader will not be even asked for any templates not matching these patterns </span>
classLoaderTemplateResolver<span class="token punctuation">.</span><span class="token function">getResolvablePatternSpec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addPattern</span><span class="token punctuation">(</span><span class="token string">"/layout/*.html"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
classLoaderTemplateResolver<span class="token punctuation">.</span><span class="token function">getResolvablePatternSpec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addPattern</span><span class="token punctuation">(</span><span class="token string">"/menu/*.html"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><font></font>
<font></font>
ServletContextTemplateResolver servletContextTemplateResolver <span class="token operator">=</span> 
        <span class="token keyword">new</span> <span class="token class-name">ServletContextTemplateResolver</span><span class="token punctuation">(</span>servletContext<span class="token punctuation">)</span><span class="token punctuation">;</span>
servletContextTemplateResolver<span class="token punctuation">.</span><span class="token function">setOrder</span><span class="token punctuation">(</span>Integer<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果未指定这些</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可解析模式</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，我们将依赖于</font></font><code>ITemplateResolver</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所使用的每个实现的特定功能。请注意，并非所有实现都能够在解析之前确定模板的存在，因此可能始终将模板视为</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可解析</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并中断解析链（不允许其他解析器检查同一模板），但随后无法读取实际资源。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Thymeleaf 核心中包含的所有</font></font><code>ITemplateResolver</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实现都包含一种机制，该机制允许我们让解析器在将资源视为</font><em><font style="vertical-align: inherit;">可解析之前</font></em></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">真正检查</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">资源是否存在</font><font style="vertical-align: inherit;">。它是</font><font style="vertical-align: inherit;">标志，其工作原理如下：</font></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><code>checkExistence</code><font style="vertical-align: inherit;"></font></p>
<pre class=" language-java"><code class=" language-java">ClassLoaderTemplateResolver classLoaderTemplateResolver <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassLoaderTemplateResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
classLoaderTemplateResolver<span class="token punctuation">.</span><span class="token function">setOrder</span><span class="token punctuation">(</span>Integer<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
classLoaderTempalteResolver<span class="token punctuation">.</span><span class="token function">setCheckExistence</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此</font></font><code>checkExistence</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标志强制解析器在解析阶段执行资源存在性的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实际检查</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（如果存在性检查返回 false，则调用链中的下一个解析器）。虽然这在任何情况下都听起来不错，但在大多数情况下，这意味着对资源本身的两次访问（一次用于检查存在性，另一次用于读取它），并且在某些情况下可能存在性能问题，例如基于远程 URL 的模板资源 - 潜在的性能问题无论如何可能会通过使用模板缓存而得到很大程度的缓解（在这种情况下，模板只会在</font><font style="vertical-align: inherit;">第一次访问时得到</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">解析）。</font></font></em><font style="vertical-align: inherit;"></font></p>
</section>
</section>
<section id="message-resolvers" class="level2">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">15.2 消息解析器</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们没有为我们的 Grocery 应用程序明确指定消息解析器实现，正如之前所解释的，这意味着正在使用的实现是一个</font></font><code>org.thymeleaf.messageresolver.StandardMessageResolver</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对象。</font></font></p>
<p><code>StandardMessageResolver</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是接口的标准实现</font></font><code>IMessageResolver</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，但是如果我们愿意，我们可以创建自己的实现，以适应我们应用程序的特定需求。</font></font></p>
<blockquote>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Thymeleaf + Spring 集成包默认提供了一种</font></font><code>IMessageResolver</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实现，它使用标准的 Spring 方式检索外部化消息，即通过使用</font></font><code>MessageSource</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 Spring 应用程序上下文中声明的 bean。</font></font></p>
</blockquote>
<section id="standard-message-resolver" class="level3">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标准消息解析器</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">那么如何</font></font><code>StandardMessageResolver</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">查找特定模板所请求的消息？</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果模板名称是</font></font><code>home</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">且位于</font></font><code>/WEB-INF/templates/home.html</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，并且请求的区域设置为 ，</font></font><code>gl_ES</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">则此解析器将按以下顺序在以下文件中查找消息：</font></font></p>
<ul>
<li><code>/WEB-INF/templates/home_gl_ES.properties</code></li>
<li><code>/WEB-INF/templates/home_gl.properties</code></li>
<li><code>/WEB-INF/templates/home.properties</code></li>
</ul>
<p><font style="vertical-align: inherit;"></font><code>StandardMessageResolver</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有关完整消息解析机制如何工作的更多详细信息，</font><font style="vertical-align: inherit;">请参阅该类的 JavaDoc 文档。</font></font></p>
</section>
<section id="configuring-message-resolvers" class="level3">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">配置消息解析器</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果我们想向模板引擎添加一个（或更多）消息解析器怎么办？很简单：</font></font></p>
<pre class=" language-java"><code class=" language-java"><span class="token comment" spellcheck="true">// For setting only one</span>
templateEngine<span class="token punctuation">.</span><span class="token function">setMessageResolver</span><span class="token punctuation">(</span>messageResolver<span class="token punctuation">)</span><span class="token punctuation">;</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">// For setting more than one</span>
templateEngine<span class="token punctuation">.</span><span class="token function">addMessageResolver</span><span class="token punctuation">(</span>messageResolver<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">那么我们为什么要有多个消息解析器呢？原因与模板解析器相同：消息解析器是有序的，如果第一个解析器无法解析特定消息，则会询问第二个解析器，然后是第三个，依此类推。</font></font></p>
</section>
</section>
<section id="conversion-services" class="level2">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">15.3 转换服务</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过</font><em><font style="vertical-align: inherit;">双括号</font></em><font style="vertical-align: inherit;">语法（ ）使我们能够执行数据转换和格式化操作的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">转换服务</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实际上</font><font style="vertical-align: inherit;">是标准方言的功能，而不是Thymeleaf模板引擎本身的功能。</font></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><code>${{...}}</code><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因此，配置它的方法是将接口的自定义实现直接设置到</font><font style="vertical-align: inherit;">正在配置到模板引擎中</font></font><code>IStandardConversionService</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的实例中。例如：</font></font><code>StandardDialect</code><font style="vertical-align: inherit;"></font></p>
<pre class=" language-java"><code class=" language-java">IStandardConversionService customConversionService <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><font></font>
<font></font>
StandardDialect dialect <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StandardDialect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
dialect<span class="token punctuation">.</span><span class="token function">setConversionService</span><span class="token punctuation">(</span>customConversionService<span class="token punctuation">)</span><span class="token punctuation">;</span><font></font>
<font></font>
templateEngine<span class="token punctuation">.</span><span class="token function">setDialect</span><span class="token punctuation">(</span>dialect<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<blockquote>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意，thymeleaf-spring3 和 thymeleaf-spring4 包包含</font></font><code>SpringStandardDialect</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，并且这种方言已经预先配置了的实现</font></font><code>IStandardConversionService</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，将 Spring 自己的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">转换服务</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基础设施集成到 Thymeleaf 中。</font></font></p>
</blockquote>
</section>
<section id="logging" class="level2">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">15.4 日志记录</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Thymeleaf 非常重视日志记录，并始终尝试通过其日志记录接口提供最大数量的有用信息。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所使用的日志库</font></font><code>slf4j,</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实际上充当了我们可能想要在应用程序中使用的任何日志实现的桥梁（例如</font></font><code>log4j</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Thymeleaf 类将记录</font></font><code>TRACE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>DEBUG</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code>INFO</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">级别的信息，具体取决于我们想要的详细程度，除了一般日志记录之外，它还将使用与 TemplateEngine 类相关的三个特殊记录器，我们可以为不同的目的分别配置它们：</font></font></p>
<ul>
<li><code>org.thymeleaf.TemplateEngine.CONFIG</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将在初始化期间输出库的详细配置。</font></font></li>
<li><code>org.thymeleaf.TemplateEngine.TIMER</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将输出有关处理每个模板所花费时间的信息（对于基准测试很有用！）</font></font></li>
<li><code>org.thymeleaf.TemplateEngine.cache</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是一组输出有关缓存的特定信息的记录器的前缀。尽管缓存记录器的名称可由用户配置，因此可能会更改，但默认情况下它们为：
</font></font><ul>
<li><code>org.thymeleaf.TemplateEngine.cache.TEMPLATE_CACHE</code></li>
<li><code>org.thymeleaf.TemplateEngine.cache.EXPRESSION_CACHE</code></li>
</ul></li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Thymeleaf 日志记录基础设施的示例配置</font></font><code>log4j</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如下：</font></font></p>
<pre><code>log4j.logger.org.thymeleaf=DEBUG<font></font>
log4j.logger.org.thymeleaf.TemplateEngine.CONFIG=TRACE<font></font>
log4j.logger.org.thymeleaf.TemplateEngine.TIMER=TRACE<font></font>
log4j.logger.org.thymeleaf.TemplateEngine.cache.TEMPLATE_CACHE=TRACE</code></pre>
</section>
</section>
<section id="template-cache" class="level1">
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16 模板缓存</font></font></h1>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Thymeleaf 的工作原理是借助一组用于标记和文本的解析器，将模板解析为事件序列（打开标签、文本、关闭标签、注释等）和一系列处理器，每种处理器对应一个需要应用的行为类型，修改模板解析的事件序列，以便通过将原始模板与我们的数据相结合来创建我们期望的结果。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">它还默认包含一个缓存，用于存储已解析的模板；在处理模板文件之前读取和解析模板文件所产生的事件序列。这在 Web 应用程序中工作时特别有用，并基于以下概念：</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输入/输出几乎总是任何应用程序中最慢的部分。相比之下，内存处理速度极快。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">克隆现有的内存事件序列总是比读取模板文件、解析它并为其创建新的事件序列要快得多。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Web 应用程序通常只有几十个模板。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模板文件大小适中，并且在应用程序运行时不会被修改。</font></font></li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所有这些都导致了这样的想法：在 Web 应用程序中缓存最常用的模板是可行的，而不会浪费大量内存，并且还可以节省大量在小组文件上进行输入/输出操作的时间，而这些文件实际上永远不会改变。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">那么我们如何控制这个缓存呢？首先，我们之前已经了解到，我们可以在模板解析器中启用或禁用它，甚至只对特定的模板进行操作：</font></font></p>
<pre class=" language-java"><code class=" language-java"><span class="token comment" spellcheck="true">// Default is true</span>
templateResolver<span class="token punctuation">.</span><span class="token function">setCacheable</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
templateResolver<span class="token punctuation">.</span><span class="token function">getCacheablePatternSpec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addPattern</span><span class="token punctuation">(</span><span class="token string">"/users/*"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">另外，我们可以通过建立自己的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">缓存管理器</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对象来修改其配置，该对象可以是默认</font></font><code>StandardCacheManager</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实现的一个实例：</font></font></p>
<pre class=" language-java"><code class=" language-java"><span class="token comment" spellcheck="true">// Default is 200</span>
StandardCacheManager cacheManager <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StandardCacheManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cacheManager<span class="token punctuation">.</span><span class="token function">setTemplateCacheMaxSize</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
templateEngine<span class="token punctuation">.</span><span class="token function">setCacheManager</span><span class="token punctuation">(</span>cacheManager<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p><font style="vertical-align: inherit;"></font><code>org.thymeleaf.cache.StandardCacheManager</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有关配置缓存的更多信息，</font><font style="vertical-align: inherit;">请参阅 javadoc API 。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以从模板缓存中手动删除条目：</font></font></p>
<pre class=" language-java"><code class=" language-java"><span class="token comment" spellcheck="true">// Clear the cache completely</span>
templateEngine<span class="token punctuation">.</span><span class="token function">clearTemplateCache</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">// Clear a specific template from the cache</span>
templateEngine<span class="token punctuation">.</span><span class="token function">clearTemplateCacheFor</span><span class="token punctuation">(</span><span class="token string">"/users/userList"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</section>
<section id="decoupled-template-logic" class="level1">
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">17 解耦模板逻辑</font></font></h1>
<section id="decoupled-logic-the-concept" class="level2">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">17.1 解耦逻辑：概念</font></font></h2>
<p><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到目前为止，我们已经使用通常的方式</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为我们的杂货店制作模板</font><font style="vertical-align: inherit;">，并将逻辑以属性的形式插入到我们的模板中。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但是 Thymeleaf 还允许我们将模板标记与其逻辑完全</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分离</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，从而允许在</font><font style="vertical-align: inherit;">和模板模式下</font><font style="vertical-align: inherit;">创建</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">完全无逻辑的标记模板</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><code>HTML</code><font style="vertical-align: inherit;"></font><code>XML</code><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主要思想是模板逻辑将在单独的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">逻辑文件</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中定义（更确切地说是</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">逻辑资源</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，因为它不需要是文件</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。默认情况下，该逻辑资源将是与模板文件位于同一位置（例如文件夹）的附加文件，具有相同的名称但扩展名</font></font><code>.th.xml</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></p>
<pre><code>/templates<font></font>
+-&gt;/home.html<font></font>
+-&gt;/home.th.xml</code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因此</font></font><code>home.html</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件可以完全没有逻辑。它可能看起来像这样：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token doctype">&lt;!DOCTYPE html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>usersTable<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Jeremy Grapefruit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>usertype<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Normal User<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Alice Watermelon<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>usertype<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Administrator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">那里绝对没有 Thymeleaf 代码。这是一个模板文件，没有 Thymeleaf 或模板知识的设计师也可以创建、编辑和/或理解它。或者是由某个外部系统提供的 HTML 片段，根本没有 Thymeleaf 钩子。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现在让我们通过创建</font><font style="vertical-align: inherit;">如下</font></font><code>home.html</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">附加文件将该模板转变为 Thymeleaf 模板：</font></font><code>home.th.xml</code><font style="vertical-align: inherit;"></font></p>
<pre class=" language-xml"><code class=" language-xml"><span class="token prolog">&lt;?xml version="1.0"?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>thlogic</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>attr</span> <span class="token attr-name">sel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#usersTable<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>remove</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>all-but-first<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>attr</span> <span class="token attr-name">sel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/tr[0]<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>each</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>user : ${users}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>attr</span> <span class="token attr-name">sel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>td.username<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${user.name}<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>attr</span> <span class="token attr-name">sel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>td.usertype<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#{|user.type.${user.type}|}<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>attr</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>attr</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>thlogic</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这里我们可以看到块里面有很多</font></font><code>&lt;attr&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标签</font></font><code>thlogic</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，这些</font></font><code>&lt;attr&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标签</font><font style="vertical-align: inherit;">通过其属性选择原始模板的节点进行</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性注入</font></font></em><font style="vertical-align: inherit;"></font><code>sel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，这些节点里面包含了 Thymeleaf</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标记选择器</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（其实是</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AttoParser 标记选择器</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">还要注意的是，</font></font><code>&lt;attr&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标签可以嵌套，这样它们的选择器就会被</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">附加到</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><code>sel="/tr[0]"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例如，上面的 将被处理为</font></font><code>sel="#usersTable/tr[0]"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。而用户名的选择器</font></font><code>&lt;td&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将被处理为</font></font><code>sel="#usersTable/tr[0]//td.username"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因此一旦合并，上面看到的两个文件将相同：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token doctype">&lt;!DOCTYPE html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>usersTable<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>remove</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>all-but-first<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name"><span class="token namespace">th:</span>each</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>user : ${users}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${user.name}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Jeremy Grapefruit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>usertype<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#{|user.type.${user.type}|}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Normal User<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Alice Watermelon<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>usertype<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Administrator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这看起来更熟悉，而且确实比创建两个单独的文件更</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">简洁。但</font></font></em><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">解耦模板</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的优点</font><font style="vertical-align: inherit;">在于，我们可以让模板完全独立于 Thymeleaf，因此从设计的角度来看，可维护性更好。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当然，设计师或开发人员之间仍然需要一些</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">合同</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- 例如，用户</font></font><code>&lt;table&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">需要</font></font><code>id="usersTable"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-，但在许多情况下，纯 HTML 模板将成为设计和开发团队之间更好的沟通工具。</font></font></p>
</section>
<section id="configuring-decoupled-templates" class="level2">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">17.2 配置解耦模板</font></font></h2>
<section id="enabling-decoupled-templates" class="level3">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启用解耦模板</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认情况下，不会要求每个模板都使用解耦逻辑。相反，配置的模板解析器（的实现</font></font><code>ITemplateResolver</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）需要专门标记它们解析为</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用解耦逻辑的</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模板。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">除了</font></font><code>StringTemplateResolver</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（不允许解耦逻辑）之外，所有其他开箱即用的实现</font></font><code>ITemplateResolver</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">都将提供一个名为的标志</font></font><code>useDecoupledLogic</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，该标志将标记该解析器解析的所有模板可能将其全部或部分逻辑存储在单独的资源中：</font></font></p>
<pre class=" language-java"><code class=" language-java"><span class="token keyword">final</span> ServletContextTemplateResolver templateResolver <span class="token operator">=</span> 
        <span class="token keyword">new</span> <span class="token class-name">ServletContextTemplateResolver</span><span class="token punctuation">(</span>servletContext<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
templateResolver<span class="token punctuation">.</span><span class="token function">setUseDecoupledLogic</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</section>
<section id="mixing-coupled-and-decoupled-logic" class="level3">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">混合耦合逻辑和解耦逻辑</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">解耦模板逻辑在启用时不是必需的。启用后，这意味着引擎将</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">查找</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包含解耦逻辑的资源，如果存在，则解析并将其与原始模板合并。如果解耦逻辑资源不存在，则不会抛出任何错误。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此外，在同一个模板中，我们可以混合</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">耦合逻辑</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">解耦</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">逻辑，例如，在原始模板文件中添加一些 Thymeleaf 属性，而将其他属性留给单独的解耦逻辑文件。最常见的情况是使用新（在 v3.0 中）</font></font><code>th:ref</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性。</font></font></p>
</section>
</section>
<section id="the-thref-attribute" class="level2">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">17.3 th:ref 属性</font></font></h2>
<p><code>th:ref</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">只是一个标记属性。从处理的角度来看，它什么也不做，在模板处理时就会消失，但它的用处在于它充当</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标记引用</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，即它可以通过</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标记选择器</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中的名称进行解析，就像</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标签名称</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">片段</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一样（</font></font><code>th:fragment</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果我们有一个像这样的选择器：</font></font></p>
<pre class=" language-xml"><code class=" language-xml">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>attr</span> <span class="token attr-name">sel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>whatever<span class="token punctuation">"</span></span> <span class="token attr-name">...</span><span class="token punctuation">/&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这将匹配：</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">任何</font></font><code>&lt;whatever&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标签。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">任何带有属性的标签</font></font><code>th:fragment="whatever"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">任何带有属性的标签</font></font><code>th:ref="whatever"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
</ul>
<p><font style="vertical-align: inherit;"></font><code>th:ref</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例如，使用纯 HTML 属性有</font><font style="vertical-align: inherit;">什么好处</font></font><code>id</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">？事实上，我们可能不想在标签中添加那么多</font></font><code>id</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性</font></font><code>class</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作为</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">逻辑锚点</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，因为这可能会</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">污染</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们的输出。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">那么， 的缺点是什么呢？ 显然，我们会</font><font style="vertical-align: inherit;">在模板中</font></font><code>th:ref</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加一些 Thymeleaf 逻辑（</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“逻辑” ）。</font></font></em><font style="vertical-align: inherit;"></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意，该</font></font><code>th:ref</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性的适用性</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不仅适用于解耦逻辑模板文件</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：它在其他类型的场景中也发挥相同的作用，例如在片段表达式（</font></font><code>~{...}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）中。</font></font></p>
</section>
<section id="performance-impact-of-decoupled-templates" class="level2">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">17.4 解耦模板的性能影响</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">影响非常小。当已解析的模板被标记为使用解耦逻辑并且未被缓存时，模板逻辑资源将首先被解析，解析并处理为内存中的一系列指令：基本上是要注入每个标记选择器的属性列表。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但这是唯一需要的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">额外步骤</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，因为在此之后，将解析真正的模板，并且在解析过程中，这些属性将由解析器本身</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">即时</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注入，这要归功于 AttoParser 中先进的节点选择功能。因此，解析后的节点将从解析器中出来，就好像它们的注入属性写在原始模板文件中一样。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这样做的最大好处是什么？当模板配置为缓存时，它将被缓存，并且已经包含注入的属性。因此，</font><font style="vertical-align: inherit;">一旦可缓存模板被缓存，使用</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">解耦模板的开销将绝对</font></font></em><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为零</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
</section>
<section id="resolution-of-decoupled-logic" class="level2">
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">17.5 解耦逻辑的解析</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Thymeleaf 解析每个模板对应的解耦逻辑资源的方式是用户可以配置的，由扩展点 决定，并为其</font></font><code>org.thymeleaf.templateparser.markup.decoupled.IDecoupledTemplateLogicResolver</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提供</font><font style="vertical-align: inherit;">了</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认实现</font></font></em><font style="vertical-align: inherit;"></font><code>StandardDecoupledTemplateLogicResolver</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">： 。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这个标准实现起什么作用？</font></font></p>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">首先，它将 a</font></font><code>prefix</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和 a</font></font><code>suffix</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应用于模板资源的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基本名称</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（通过其</font></font><code>ITemplateResource#getBaseName()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法获得）。前缀和后缀都可以配置，默认情况下，前缀为空，后缀为</font></font><code>.th.xml</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其次，它要求模板资源通过其方法</font><font style="vertical-align: inherit;">解析具有计算名称的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相对资源</font></font></em><font style="vertical-align: inherit;"></font><code>ITemplateResource#relative(String relativeLocation)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要使用的具体实现</font></font><code>IDecoupledTemplateLogicResolver</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以轻松配置</font></font><code>TemplateEngine</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></p>
<pre class=" language-java"><code class=" language-java"><span class="token keyword">final</span> StandardDecoupledTemplateLogicResolver decoupledresolver <span class="token operator">=</span> 
        <span class="token keyword">new</span> <span class="token class-name">StandardDecoupledTemplateLogicResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
decoupledResolver<span class="token punctuation">.</span><span class="token function">setPrefix</span><span class="token punctuation">(</span><span class="token string">"../viewlogic/"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
templateEngine<span class="token punctuation">.</span><span class="token function">setDecoupledTemplateLogicResolver</span><span class="token punctuation">(</span>decoupledResolver<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</section>
</section>
<section id="appendix-a-expression-basic-objects" class="level1">
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">18 附录A：表达式基本对象</font></font></h1>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有些对象和变量映射始终可供调用。让我们看看它们：</font></font></p>
<section id="base-objects" class="level3">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基础对象</font></font></h3>
<ul>
<li><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#ctx</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：上下文对象。 实现</font></font><code>org.thymeleaf.context.IContext</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><code>org.thymeleaf.context.IWebContext</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">取决于我们的环境（独立或 Web）。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意</font></font><code>#vars</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code>#root</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是同一对象的同义词，但</font></font><code>#ctx</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">建议使用。</font></font></p></li>
</ul>
<pre class=" language-java"><code class=" language-java"><span class="token comment" spellcheck="true">/*
 * ======================================================================
 * See javadoc API for class org.thymeleaf.context.IContext
 * ======================================================================
 */</span><font></font>
<font></font>
$<span class="token punctuation">{</span>#ctx<span class="token punctuation">.</span>locale<span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#ctx<span class="token punctuation">.</span>variableNames<span class="token punctuation">}</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * ======================================================================
 * See javadoc API for class org.thymeleaf.context.IWebContext
 * ======================================================================
 */</span><font></font>
<font></font>
$<span class="token punctuation">{</span>#ctx<span class="token punctuation">.</span>request<span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#ctx<span class="token punctuation">.</span>response<span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#ctx<span class="token punctuation">.</span>session<span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#ctx<span class="token punctuation">.</span>servletContext<span class="token punctuation">}</span></code></pre>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#locale</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：直接访问</font></font><code>java.util.Locale</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与当前请求相关的。</font></font></li>
</ul>
<pre class=" language-java"><code class=" language-java">$<span class="token punctuation">{</span>#locale<span class="token punctuation">}</span></code></pre>
</section>
<section id="web-context-namespaces-for-requestsession-attributes-etc." class="level3">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请求/会话属性等的 Web 上下文命名空间。</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 Web 环境中使用 Thymeleaf 时，我们可以使用一系列快捷方式来访问请求参数、会话属性和应用程序属性：</font></font></p>
<blockquote>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意，这些不是</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上下文对象</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，而是作为变量添加到上下文中的映射，因此我们无需访问它们</font></font><code>#</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。在某种程度上，它们充当</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命名空间</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
</blockquote>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">param</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：用于检索请求参数。</font></font><code>${param.foo}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font><code>String[]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">带有请求参数的值</font></font><code>foo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，因此</font></font><code>${param.foo[0]}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通常用于获取第一个值。</font></font></li>
</ul>
<pre class=" language-java"><code class=" language-java"><span class="token comment" spellcheck="true">/*
 * ============================================================================
 * See javadoc API for class org.thymeleaf.context.WebRequestParamsVariablesMap
 * ============================================================================
 */</span><font></font>
<font></font>
$<span class="token punctuation">{</span>param<span class="token punctuation">.</span>foo<span class="token punctuation">}</span>              <span class="token comment" spellcheck="true">// Retrieves a String[] with the values of request parameter 'foo'</span>
$<span class="token punctuation">{</span>param<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>param<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>param<span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span></code></pre>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">session</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：用于检索会话属性。</font></font></li>
</ul>
<pre class=" language-java"><code class=" language-java"><span class="token comment" spellcheck="true">/*
 * ======================================================================
 * See javadoc API for class org.thymeleaf.context.WebSessionVariablesMap
 * ======================================================================
 */</span><font></font>
<font></font>
$<span class="token punctuation">{</span>session<span class="token punctuation">.</span>foo<span class="token punctuation">}</span>                 <span class="token comment" spellcheck="true">// Retrieves the session atttribute 'foo'</span>
$<span class="token punctuation">{</span>session<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>session<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>session<span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span></code></pre>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">application</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：用于检索应用程序/servlet 上下文属性。</font></font></li>
</ul>
<pre class=" language-java"><code class=" language-java"><span class="token comment" spellcheck="true">/*
 * =============================================================================
 * See javadoc API for class org.thymeleaf.context.WebServletContextVariablesMap
 * =============================================================================
 */</span><font></font>
<font></font>
$<span class="token punctuation">{</span>application<span class="token punctuation">.</span>foo<span class="token punctuation">}</span>              <span class="token comment" spellcheck="true">// Retrieves the ServletContext atttribute 'foo'</span>
$<span class="token punctuation">{</span>application<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>application<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>application<span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意，不需要为访问请求属性</font><font style="vertical-align: inherit;">（与</font><em><font style="vertical-align: inherit;">请求参数相反）</font></em></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指定命名空间，</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因为所有请求属性都会自动作为上下文根中的变量添加到上下文中：</font></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font></p>
<pre class=" language-java"><code class=" language-java">$<span class="token punctuation">{</span>myRequestAttribute<span class="token punctuation">}</span></code></pre>
</section>
<section id="web-context-objects" class="level3">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Web 上下文对象</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 Web 环境中，还可以直接访问以下对象（请注意，这些是对象，而不是地图/命名空间）：</font></font></p>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#request</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：直接访问</font></font><code>javax.servlet.http.HttpServletRequest</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与当前请求相关的对象。</font></font></li>
</ul>
<pre class=" language-java"><code class=" language-java">$<span class="token punctuation">{</span>#request<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#request<span class="token punctuation">.</span><span class="token function">getRequestName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span></code></pre>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#session</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：直接访问</font></font><code>javax.servlet.http.HttpSession</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与当前请求相关的对象。</font></font></li>
</ul>
<pre class=" language-java"><code class=" language-java">$<span class="token punctuation">{</span>#session<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#session<span class="token punctuation">.</span>id<span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#session<span class="token punctuation">.</span>lastAccessedTime<span class="token punctuation">}</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span></code></pre>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#servletContext</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：直接访问</font></font><code>javax.servlet.ServletContext</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与当前请求相关的对象。</font></font></li>
</ul>
<pre class=" language-java"><code class=" language-java">$<span class="token punctuation">{</span>#servletContext<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#servletContext<span class="token punctuation">.</span>contextPath<span class="token punctuation">}</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span></code></pre>
</section>
</section>
<section id="appendix-b-expression-utility-objects" class="level1">
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">19 附录 B：表达式实用对象</font></font></h1>
<section id="execution-info" class="level3">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">执行信息</font></font></h3>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#execInfo</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：表达式对象，提供有关 Thymeleaf 标准表达式中正在处理的模板的有用信息。</font></font></li>
</ul>
<pre class=" language-java"><code class=" language-java"><span class="token comment" spellcheck="true">/*
 * ======================================================================
 * See javadoc API for class org.thymeleaf.expression.ExecutionInfo
 * ======================================================================
 */</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Return the name and mode of the 'leaf' template. This means the template
 * from where the events being processed were parsed. So if this piece of
 * code is not in the root template "A" but on a fragment being inserted
 * into "A" from another template called "B", this will return "B" as a
 * name, and B's mode as template mode.
 */</span>
$<span class="token punctuation">{</span>#execInfo<span class="token punctuation">.</span>templateName<span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#execInfo<span class="token punctuation">.</span>templateMode<span class="token punctuation">}</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Return the name and mode of the 'root' template. This means the template
 * that the template engine was originally asked to process. So if this
 * piece of code is not in the root template "A" but on a fragment being
 * inserted into "A" from another template called "B", this will still 
 * return "A" and A's template mode.
 */</span>
$<span class="token punctuation">{</span>#execInfo<span class="token punctuation">.</span>processedTemplateName<span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#execInfo<span class="token punctuation">.</span>processedTemplateMode<span class="token punctuation">}</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Return the stacks (actually, List&lt;String&gt; or List&lt;TemplateMode&gt;) of
 * templates being processed. The first element will be the 
 * 'processedTemplate' (the root one), the last one will be the 'leaf'
 * template, and in the middle all the fragments inserted in nested
 * manner to reach the leaf from the root will appear.
 */</span>
$<span class="token punctuation">{</span>#execInfo<span class="token punctuation">.</span>templateNames<span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#execInfo<span class="token punctuation">.</span>templateModes<span class="token punctuation">}</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Return the stack of templates being processed similarly (and in the
 * same order) to 'templateNames' and 'templateModes', but returning
 * a List&lt;TemplateData&gt; with the full template metadata.
 */</span>
$<span class="token punctuation">{</span>#execInfo<span class="token punctuation">.</span>templateStack<span class="token punctuation">}</span></code></pre>
</section>
<section id="messages-1" class="level3">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">消息</font></font></h3>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#messages</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：用于获取变量表达式中的外部化消息的实用方法，其方式与使用</font></font><code>#{...}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语法获取消息的方式相同。</font></font></li>
</ul>
<pre class=" language-java"><code class=" language-java"><span class="token comment" spellcheck="true">/*
 * ======================================================================
 * See javadoc API for class org.thymeleaf.expression.Messages
 * ======================================================================
 */</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Obtain externalized messages. Can receive a single key, a key plus arguments,
 * or an array/list/set of keys (in which case it will return an array/list/set of 
 * externalized messages).
 * If a message is not found, a default message (like '??msgKey??') is returned.
 */</span>
$<span class="token punctuation">{</span>#messages<span class="token punctuation">.</span><span class="token function">msg</span><span class="token punctuation">(</span><span class="token string">'msgKey'</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#messages<span class="token punctuation">.</span><span class="token function">msg</span><span class="token punctuation">(</span><span class="token string">'msgKey'</span><span class="token punctuation">,</span> param1<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#messages<span class="token punctuation">.</span><span class="token function">msg</span><span class="token punctuation">(</span><span class="token string">'msgKey'</span><span class="token punctuation">,</span> param1<span class="token punctuation">,</span> param2<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#messages<span class="token punctuation">.</span><span class="token function">msg</span><span class="token punctuation">(</span><span class="token string">'msgKey'</span><span class="token punctuation">,</span> param1<span class="token punctuation">,</span> param2<span class="token punctuation">,</span> param3<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#messages<span class="token punctuation">.</span><span class="token function">msgWithParams</span><span class="token punctuation">(</span><span class="token string">'msgKey'</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>param1<span class="token punctuation">,</span> param2<span class="token punctuation">,</span> param3<span class="token punctuation">,</span> param4<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#messages<span class="token punctuation">.</span><span class="token function">arrayMsg</span><span class="token punctuation">(</span>messageKeyArray<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#messages<span class="token punctuation">.</span><span class="token function">listMsg</span><span class="token punctuation">(</span>messageKeyList<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#messages<span class="token punctuation">.</span><span class="token function">setMsg</span><span class="token punctuation">(</span>messageKeySet<span class="token punctuation">)</span><span class="token punctuation">}</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Obtain externalized messages or null. Null is returned instead of a default
 * message if a message for the specified key is not found.
 */</span>
$<span class="token punctuation">{</span>#messages<span class="token punctuation">.</span><span class="token function">msgOrNull</span><span class="token punctuation">(</span><span class="token string">'msgKey'</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#messages<span class="token punctuation">.</span><span class="token function">msgOrNull</span><span class="token punctuation">(</span><span class="token string">'msgKey'</span><span class="token punctuation">,</span> param1<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#messages<span class="token punctuation">.</span><span class="token function">msgOrNull</span><span class="token punctuation">(</span><span class="token string">'msgKey'</span><span class="token punctuation">,</span> param1<span class="token punctuation">,</span> param2<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#messages<span class="token punctuation">.</span><span class="token function">msgOrNull</span><span class="token punctuation">(</span><span class="token string">'msgKey'</span><span class="token punctuation">,</span> param1<span class="token punctuation">,</span> param2<span class="token punctuation">,</span> param3<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#messages<span class="token punctuation">.</span><span class="token function">msgOrNullWithParams</span><span class="token punctuation">(</span><span class="token string">'msgKey'</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>param1<span class="token punctuation">,</span> param2<span class="token punctuation">,</span> param3<span class="token punctuation">,</span> param4<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#messages<span class="token punctuation">.</span><span class="token function">arrayMsgOrNull</span><span class="token punctuation">(</span>messageKeyArray<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#messages<span class="token punctuation">.</span><span class="token function">listMsgOrNull</span><span class="token punctuation">(</span>messageKeyList<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#messages<span class="token punctuation">.</span><span class="token function">setMsgOrNull</span><span class="token punctuation">(</span>messageKeySet<span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre>
</section>
<section id="urisurls" class="level3">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">URI/URL</font></font></h3>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#uris</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：用于在 Thymeleaf 标准表达式中执行 URI/URL 操作（尤其是转义/取消转义）的实用对象。</font></font></li>
</ul>
<pre class=" language-java"><code class=" language-java"><span class="token comment" spellcheck="true">/*
 * ======================================================================
 * See javadoc API for class org.thymeleaf.expression.Uris
 * ======================================================================
 */</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Escape/Unescape as a URI/URL path
 */</span>
$<span class="token punctuation">{</span>#uris<span class="token punctuation">.</span><span class="token function">escapePath</span><span class="token punctuation">(</span>uri<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#uris<span class="token punctuation">.</span><span class="token function">escapePath</span><span class="token punctuation">(</span>uri<span class="token punctuation">,</span> encoding<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#uris<span class="token punctuation">.</span><span class="token function">unescapePath</span><span class="token punctuation">(</span>uri<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#uris<span class="token punctuation">.</span><span class="token function">unescapePath</span><span class="token punctuation">(</span>uri<span class="token punctuation">,</span> encoding<span class="token punctuation">)</span><span class="token punctuation">}</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Escape/Unescape as a URI/URL path segment (between '/' symbols)
 */</span>
$<span class="token punctuation">{</span>#uris<span class="token punctuation">.</span><span class="token function">escapePathSegment</span><span class="token punctuation">(</span>uri<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#uris<span class="token punctuation">.</span><span class="token function">escapePathSegment</span><span class="token punctuation">(</span>uri<span class="token punctuation">,</span> encoding<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#uris<span class="token punctuation">.</span><span class="token function">unescapePathSegment</span><span class="token punctuation">(</span>uri<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#uris<span class="token punctuation">.</span><span class="token function">unescapePathSegment</span><span class="token punctuation">(</span>uri<span class="token punctuation">,</span> encoding<span class="token punctuation">)</span><span class="token punctuation">}</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Escape/Unescape as a Fragment Identifier (#frag)
 */</span>
$<span class="token punctuation">{</span>#uris<span class="token punctuation">.</span><span class="token function">escapeFragmentId</span><span class="token punctuation">(</span>uri<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#uris<span class="token punctuation">.</span><span class="token function">escapeFragmentId</span><span class="token punctuation">(</span>uri<span class="token punctuation">,</span> encoding<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#uris<span class="token punctuation">.</span><span class="token function">unescapeFragmentId</span><span class="token punctuation">(</span>uri<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#uris<span class="token punctuation">.</span><span class="token function">unescapeFragmentId</span><span class="token punctuation">(</span>uri<span class="token punctuation">,</span> encoding<span class="token punctuation">)</span><span class="token punctuation">}</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Escape/Unescape as a Query Parameter (?var=value)
 */</span>
$<span class="token punctuation">{</span>#uris<span class="token punctuation">.</span><span class="token function">escapeQueryParam</span><span class="token punctuation">(</span>uri<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#uris<span class="token punctuation">.</span><span class="token function">escapeQueryParam</span><span class="token punctuation">(</span>uri<span class="token punctuation">,</span> encoding<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#uris<span class="token punctuation">.</span><span class="token function">unescapeQueryParam</span><span class="token punctuation">(</span>uri<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#uris<span class="token punctuation">.</span><span class="token function">unescapeQueryParam</span><span class="token punctuation">(</span>uri<span class="token punctuation">,</span> encoding<span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre>
</section>
<section id="conversions" class="level3">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">转换</font></font></h3>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#conversions</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ：实用程序对象，允许在模板的任何点</font><font style="vertical-align: inherit;">执行</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">转换服务：</font></font></em><font style="vertical-align: inherit;"></font></li>
</ul>
<pre class=" language-java"><code class=" language-java"><span class="token comment" spellcheck="true">/*
 * ======================================================================
 * See javadoc API for class org.thymeleaf.expression.Conversions
 * ======================================================================
 */</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Execute the desired conversion of the 'object' value into the
 * specified class.
 */</span>
$<span class="token punctuation">{</span>#conversions<span class="token punctuation">.</span><span class="token function">convert</span><span class="token punctuation">(</span>object<span class="token punctuation">,</span> <span class="token string">'java.util.TimeZone'</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#conversions<span class="token punctuation">.</span><span class="token function">convert</span><span class="token punctuation">(</span>object<span class="token punctuation">,</span> targetClass<span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre>
</section>
<section id="dates" class="level3">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">日期</font></font></h3>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#dates</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：对象的实用方法</font></font><code>java.util.Date</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></li>
</ul>
<pre class=" language-java"><code class=" language-java"><span class="token comment" spellcheck="true">/*
 * ======================================================================
 * See javadoc API for class org.thymeleaf.expression.Dates
 * ======================================================================
 */</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Format date with the standard locale format
 * Also works with arrays, lists or sets
 */</span>
$<span class="token punctuation">{</span>#dates<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#dates<span class="token punctuation">.</span><span class="token function">arrayFormat</span><span class="token punctuation">(</span>datesArray<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#dates<span class="token punctuation">.</span><span class="token function">listFormat</span><span class="token punctuation">(</span>datesList<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#dates<span class="token punctuation">.</span><span class="token function">setFormat</span><span class="token punctuation">(</span>datesSet<span class="token punctuation">)</span><span class="token punctuation">}</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Format date with the ISO8601 format
 * Also works with arrays, lists or sets
 */</span>
$<span class="token punctuation">{</span>#dates<span class="token punctuation">.</span><span class="token function">formatISO</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#dates<span class="token punctuation">.</span><span class="token function">arrayFormatISO</span><span class="token punctuation">(</span>datesArray<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#dates<span class="token punctuation">.</span><span class="token function">listFormatISO</span><span class="token punctuation">(</span>datesList<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#dates<span class="token punctuation">.</span><span class="token function">setFormatISO</span><span class="token punctuation">(</span>datesSet<span class="token punctuation">)</span><span class="token punctuation">}</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Format date with the specified pattern
 * Also works with arrays, lists or sets
 */</span>
$<span class="token punctuation">{</span>#dates<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>date<span class="token punctuation">,</span> <span class="token string">'dd/MMM/yyyy HH:mm'</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#dates<span class="token punctuation">.</span><span class="token function">arrayFormat</span><span class="token punctuation">(</span>datesArray<span class="token punctuation">,</span> <span class="token string">'dd/MMM/yyyy HH:mm'</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#dates<span class="token punctuation">.</span><span class="token function">listFormat</span><span class="token punctuation">(</span>datesList<span class="token punctuation">,</span> <span class="token string">'dd/MMM/yyyy HH:mm'</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#dates<span class="token punctuation">.</span><span class="token function">setFormat</span><span class="token punctuation">(</span>datesSet<span class="token punctuation">,</span> <span class="token string">'dd/MMM/yyyy HH:mm'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Obtain date properties
 * Also works with arrays, lists or sets
 */</span>
$<span class="token punctuation">{</span>#dates<span class="token punctuation">.</span><span class="token function">day</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">}</span>                    <span class="token comment" spellcheck="true">// also arrayDay(...), listDay(...), etc.</span>
$<span class="token punctuation">{</span>#dates<span class="token punctuation">.</span><span class="token function">month</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">}</span>                  <span class="token comment" spellcheck="true">// also arrayMonth(...), listMonth(...), etc.</span>
$<span class="token punctuation">{</span>#dates<span class="token punctuation">.</span><span class="token function">monthName</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">}</span>              <span class="token comment" spellcheck="true">// also arrayMonthName(...), listMonthName(...), etc.</span>
$<span class="token punctuation">{</span>#dates<span class="token punctuation">.</span><span class="token function">monthNameShort</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">}</span>         <span class="token comment" spellcheck="true">// also arrayMonthNameShort(...), listMonthNameShort(...), etc.</span>
$<span class="token punctuation">{</span>#dates<span class="token punctuation">.</span><span class="token function">year</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">}</span>                   <span class="token comment" spellcheck="true">// also arrayYear(...), listYear(...), etc.</span>
$<span class="token punctuation">{</span>#dates<span class="token punctuation">.</span><span class="token function">dayOfWeek</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">}</span>              <span class="token comment" spellcheck="true">// also arrayDayOfWeek(...), listDayOfWeek(...), etc.</span>
$<span class="token punctuation">{</span>#dates<span class="token punctuation">.</span><span class="token function">dayOfWeekName</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">}</span>          <span class="token comment" spellcheck="true">// also arrayDayOfWeekName(...), listDayOfWeekName(...), etc.</span>
$<span class="token punctuation">{</span>#dates<span class="token punctuation">.</span><span class="token function">dayOfWeekNameShort</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">}</span>     <span class="token comment" spellcheck="true">// also arrayDayOfWeekNameShort(...), listDayOfWeekNameShort(...), etc.</span>
$<span class="token punctuation">{</span>#dates<span class="token punctuation">.</span><span class="token function">hour</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">}</span>                   <span class="token comment" spellcheck="true">// also arrayHour(...), listHour(...), etc.</span>
$<span class="token punctuation">{</span>#dates<span class="token punctuation">.</span><span class="token function">minute</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">}</span>                 <span class="token comment" spellcheck="true">// also arrayMinute(...), listMinute(...), etc.</span>
$<span class="token punctuation">{</span>#dates<span class="token punctuation">.</span><span class="token function">second</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">}</span>                 <span class="token comment" spellcheck="true">// also arraySecond(...), listSecond(...), etc.</span>
$<span class="token punctuation">{</span>#dates<span class="token punctuation">.</span><span class="token function">millisecond</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">}</span>            <span class="token comment" spellcheck="true">// also arrayMillisecond(...), listMillisecond(...), etc.</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Create date (java.util.Date) objects from its components
 */</span>
$<span class="token punctuation">{</span>#dates<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>year<span class="token punctuation">,</span>month<span class="token punctuation">,</span>day<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#dates<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>year<span class="token punctuation">,</span>month<span class="token punctuation">,</span>day<span class="token punctuation">,</span>hour<span class="token punctuation">,</span>minute<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#dates<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>year<span class="token punctuation">,</span>month<span class="token punctuation">,</span>day<span class="token punctuation">,</span>hour<span class="token punctuation">,</span>minute<span class="token punctuation">,</span>second<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#dates<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>year<span class="token punctuation">,</span>month<span class="token punctuation">,</span>day<span class="token punctuation">,</span>hour<span class="token punctuation">,</span>minute<span class="token punctuation">,</span>second<span class="token punctuation">,</span>millisecond<span class="token punctuation">)</span><span class="token punctuation">}</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Create a date (java.util.Date) object for the current date and time
 */</span>
$<span class="token punctuation">{</span>#dates<span class="token punctuation">.</span><span class="token function">createNow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><font></font>
<font></font>
$<span class="token punctuation">{</span>#dates<span class="token punctuation">.</span><span class="token function">createNowForTimeZone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Create a date (java.util.Date) object for the current date (time set to 00:00)
 */</span>
$<span class="token punctuation">{</span>#dates<span class="token punctuation">.</span><span class="token function">createToday</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><font></font>
<font></font>
$<span class="token punctuation">{</span>#dates<span class="token punctuation">.</span><span class="token function">createTodayForTimeZone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre>
</section>
<section id="calendars" class="level3">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">日历</font></font></h3>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#calendars</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：类似于</font></font><code>#dates</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，但针对的是</font></font><code>java.util.Calendar</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对象：</font></font></li>
</ul>
<pre class=" language-java"><code class=" language-java"><span class="token comment" spellcheck="true">/*
 * ======================================================================
 * See javadoc API for class org.thymeleaf.expression.Calendars
 * ======================================================================
 */</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Format calendar with the standard locale format
 * Also works with arrays, lists or sets
 */</span>
$<span class="token punctuation">{</span>#calendars<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>cal<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#calendars<span class="token punctuation">.</span><span class="token function">arrayFormat</span><span class="token punctuation">(</span>calArray<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#calendars<span class="token punctuation">.</span><span class="token function">listFormat</span><span class="token punctuation">(</span>calList<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#calendars<span class="token punctuation">.</span><span class="token function">setFormat</span><span class="token punctuation">(</span>calSet<span class="token punctuation">)</span><span class="token punctuation">}</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Format calendar with the ISO8601 format
 * Also works with arrays, lists or sets
 */</span>
$<span class="token punctuation">{</span>#calendars<span class="token punctuation">.</span><span class="token function">formatISO</span><span class="token punctuation">(</span>cal<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#calendars<span class="token punctuation">.</span><span class="token function">arrayFormatISO</span><span class="token punctuation">(</span>calArray<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#calendars<span class="token punctuation">.</span><span class="token function">listFormatISO</span><span class="token punctuation">(</span>calList<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#calendars<span class="token punctuation">.</span><span class="token function">setFormatISO</span><span class="token punctuation">(</span>calSet<span class="token punctuation">)</span><span class="token punctuation">}</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Format calendar with the specified pattern
 * Also works with arrays, lists or sets
 */</span>
$<span class="token punctuation">{</span>#calendars<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>cal<span class="token punctuation">,</span> <span class="token string">'dd/MMM/yyyy HH:mm'</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#calendars<span class="token punctuation">.</span><span class="token function">arrayFormat</span><span class="token punctuation">(</span>calArray<span class="token punctuation">,</span> <span class="token string">'dd/MMM/yyyy HH:mm'</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#calendars<span class="token punctuation">.</span><span class="token function">listFormat</span><span class="token punctuation">(</span>calList<span class="token punctuation">,</span> <span class="token string">'dd/MMM/yyyy HH:mm'</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#calendars<span class="token punctuation">.</span><span class="token function">setFormat</span><span class="token punctuation">(</span>calSet<span class="token punctuation">,</span> <span class="token string">'dd/MMM/yyyy HH:mm'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Obtain calendar properties
 * Also works with arrays, lists or sets
 */</span>
$<span class="token punctuation">{</span>#calendars<span class="token punctuation">.</span><span class="token function">day</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">}</span>                <span class="token comment" spellcheck="true">// also arrayDay(...), listDay(...), etc.</span>
$<span class="token punctuation">{</span>#calendars<span class="token punctuation">.</span><span class="token function">month</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">}</span>              <span class="token comment" spellcheck="true">// also arrayMonth(...), listMonth(...), etc.</span>
$<span class="token punctuation">{</span>#calendars<span class="token punctuation">.</span><span class="token function">monthName</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">}</span>          <span class="token comment" spellcheck="true">// also arrayMonthName(...), listMonthName(...), etc.</span>
$<span class="token punctuation">{</span>#calendars<span class="token punctuation">.</span><span class="token function">monthNameShort</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">}</span>     <span class="token comment" spellcheck="true">// also arrayMonthNameShort(...), listMonthNameShort(...), etc.</span>
$<span class="token punctuation">{</span>#calendars<span class="token punctuation">.</span><span class="token function">year</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">}</span>               <span class="token comment" spellcheck="true">// also arrayYear(...), listYear(...), etc.</span>
$<span class="token punctuation">{</span>#calendars<span class="token punctuation">.</span><span class="token function">dayOfWeek</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">}</span>          <span class="token comment" spellcheck="true">// also arrayDayOfWeek(...), listDayOfWeek(...), etc.</span>
$<span class="token punctuation">{</span>#calendars<span class="token punctuation">.</span><span class="token function">dayOfWeekName</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">}</span>      <span class="token comment" spellcheck="true">// also arrayDayOfWeekName(...), listDayOfWeekName(...), etc.</span>
$<span class="token punctuation">{</span>#calendars<span class="token punctuation">.</span><span class="token function">dayOfWeekNameShort</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token comment" spellcheck="true">// also arrayDayOfWeekNameShort(...), listDayOfWeekNameShort(...), etc.</span>
$<span class="token punctuation">{</span>#calendars<span class="token punctuation">.</span><span class="token function">hour</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">}</span>               <span class="token comment" spellcheck="true">// also arrayHour(...), listHour(...), etc.</span>
$<span class="token punctuation">{</span>#calendars<span class="token punctuation">.</span><span class="token function">minute</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">}</span>             <span class="token comment" spellcheck="true">// also arrayMinute(...), listMinute(...), etc.</span>
$<span class="token punctuation">{</span>#calendars<span class="token punctuation">.</span><span class="token function">second</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">}</span>             <span class="token comment" spellcheck="true">// also arraySecond(...), listSecond(...), etc.</span>
$<span class="token punctuation">{</span>#calendars<span class="token punctuation">.</span><span class="token function">millisecond</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">// also arrayMillisecond(...), listMillisecond(...), etc.</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Create calendar (java.util.Calendar) objects from its components
 */</span>
$<span class="token punctuation">{</span>#calendars<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>year<span class="token punctuation">,</span>month<span class="token punctuation">,</span>day<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#calendars<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>year<span class="token punctuation">,</span>month<span class="token punctuation">,</span>day<span class="token punctuation">,</span>hour<span class="token punctuation">,</span>minute<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#calendars<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>year<span class="token punctuation">,</span>month<span class="token punctuation">,</span>day<span class="token punctuation">,</span>hour<span class="token punctuation">,</span>minute<span class="token punctuation">,</span>second<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#calendars<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>year<span class="token punctuation">,</span>month<span class="token punctuation">,</span>day<span class="token punctuation">,</span>hour<span class="token punctuation">,</span>minute<span class="token punctuation">,</span>second<span class="token punctuation">,</span>millisecond<span class="token punctuation">)</span><span class="token punctuation">}</span><font></font>
<font></font>
$<span class="token punctuation">{</span>#calendars<span class="token punctuation">.</span><span class="token function">createForTimeZone</span><span class="token punctuation">(</span>year<span class="token punctuation">,</span>month<span class="token punctuation">,</span>day<span class="token punctuation">,</span>timeZone<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#calendars<span class="token punctuation">.</span><span class="token function">createForTimeZone</span><span class="token punctuation">(</span>year<span class="token punctuation">,</span>month<span class="token punctuation">,</span>day<span class="token punctuation">,</span>hour<span class="token punctuation">,</span>minute<span class="token punctuation">,</span>timeZone<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#calendars<span class="token punctuation">.</span><span class="token function">createForTimeZone</span><span class="token punctuation">(</span>year<span class="token punctuation">,</span>month<span class="token punctuation">,</span>day<span class="token punctuation">,</span>hour<span class="token punctuation">,</span>minute<span class="token punctuation">,</span>second<span class="token punctuation">,</span>timeZone<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#calendars<span class="token punctuation">.</span><span class="token function">createForTimeZone</span><span class="token punctuation">(</span>year<span class="token punctuation">,</span>month<span class="token punctuation">,</span>day<span class="token punctuation">,</span>hour<span class="token punctuation">,</span>minute<span class="token punctuation">,</span>second<span class="token punctuation">,</span>millisecond<span class="token punctuation">,</span>timeZone<span class="token punctuation">)</span><span class="token punctuation">}</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Create a calendar (java.util.Calendar) object for the current date and time
 */</span>
$<span class="token punctuation">{</span>#calendars<span class="token punctuation">.</span><span class="token function">createNow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><font></font>
<font></font>
$<span class="token punctuation">{</span>#calendars<span class="token punctuation">.</span><span class="token function">createNowForTimeZone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Create a calendar (java.util.Calendar) object for the current date (time set to 00:00)
 */</span>
$<span class="token punctuation">{</span>#calendars<span class="token punctuation">.</span><span class="token function">createToday</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><font></font>
<font></font>
$<span class="token punctuation">{</span>#calendars<span class="token punctuation">.</span><span class="token function">createTodayForTimeZone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre>
</section>
<section id="numbers" class="level3">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数字</font></font></h3>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#numbers</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：数字对象的实用方法：</font></font></li>
</ul>
<pre class=" language-java"><code class=" language-java"><span class="token comment" spellcheck="true">/*
 * ======================================================================
 * See javadoc API for class org.thymeleaf.expression.Numbers
 * ======================================================================
 */</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * ==========================
 * Formatting integer numbers
 * ==========================
 */</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/* 
 * Set minimum integer digits.
 * Also works with arrays, lists or sets
 */</span>
$<span class="token punctuation">{</span>#numbers<span class="token punctuation">.</span><span class="token function">formatInteger</span><span class="token punctuation">(</span>num<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#numbers<span class="token punctuation">.</span><span class="token function">arrayFormatInteger</span><span class="token punctuation">(</span>numArray<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#numbers<span class="token punctuation">.</span><span class="token function">listFormatInteger</span><span class="token punctuation">(</span>numList<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#numbers<span class="token punctuation">.</span><span class="token function">setFormatInteger</span><span class="token punctuation">(</span>numSet<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">}</span><font></font>
<font></font>
<font></font>
<span class="token comment" spellcheck="true">/* 
 * Set minimum integer digits and thousands separator: 
 * 'POINT', 'COMMA', 'WHITESPACE', 'NONE' or 'DEFAULT' (by locale).
 * Also works with arrays, lists or sets
 */</span>
$<span class="token punctuation">{</span>#numbers<span class="token punctuation">.</span><span class="token function">formatInteger</span><span class="token punctuation">(</span>num<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">'POINT'</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#numbers<span class="token punctuation">.</span><span class="token function">arrayFormatInteger</span><span class="token punctuation">(</span>numArray<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">'POINT'</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#numbers<span class="token punctuation">.</span><span class="token function">listFormatInteger</span><span class="token punctuation">(</span>numList<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">'POINT'</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#numbers<span class="token punctuation">.</span><span class="token function">setFormatInteger</span><span class="token punctuation">(</span>numSet<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">'POINT'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><font></font>
<font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * ==========================
 * Formatting decimal numbers
 * ==========================
 */</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Set minimum integer digits and (exact) decimal digits.
 * Also works with arrays, lists or sets
 */</span>
$<span class="token punctuation">{</span>#numbers<span class="token punctuation">.</span><span class="token function">formatDecimal</span><span class="token punctuation">(</span>num<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#numbers<span class="token punctuation">.</span><span class="token function">arrayFormatDecimal</span><span class="token punctuation">(</span>numArray<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#numbers<span class="token punctuation">.</span><span class="token function">listFormatDecimal</span><span class="token punctuation">(</span>numList<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#numbers<span class="token punctuation">.</span><span class="token function">setFormatDecimal</span><span class="token punctuation">(</span>numSet<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">}</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Set minimum integer digits and (exact) decimal digits, and also decimal separator.
 * Also works with arrays, lists or sets
 */</span>
$<span class="token punctuation">{</span>#numbers<span class="token punctuation">.</span><span class="token function">formatDecimal</span><span class="token punctuation">(</span>num<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">'COMMA'</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#numbers<span class="token punctuation">.</span><span class="token function">arrayFormatDecimal</span><span class="token punctuation">(</span>numArray<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">'COMMA'</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#numbers<span class="token punctuation">.</span><span class="token function">listFormatDecimal</span><span class="token punctuation">(</span>numList<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">'COMMA'</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#numbers<span class="token punctuation">.</span><span class="token function">setFormatDecimal</span><span class="token punctuation">(</span>numSet<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">'COMMA'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Set minimum integer digits and (exact) decimal digits, and also thousands and 
 * decimal separator.
 * Also works with arrays, lists or sets
 */</span>
$<span class="token punctuation">{</span>#numbers<span class="token punctuation">.</span><span class="token function">formatDecimal</span><span class="token punctuation">(</span>num<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">'POINT'</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">'COMMA'</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#numbers<span class="token punctuation">.</span><span class="token function">arrayFormatDecimal</span><span class="token punctuation">(</span>numArray<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">'POINT'</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">'COMMA'</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#numbers<span class="token punctuation">.</span><span class="token function">listFormatDecimal</span><span class="token punctuation">(</span>numList<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">'POINT'</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">'COMMA'</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#numbers<span class="token punctuation">.</span><span class="token function">setFormatDecimal</span><span class="token punctuation">(</span>numSet<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">'POINT'</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">'COMMA'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><font></font>
<font></font>
<font></font>
<span class="token comment" spellcheck="true">/* 
 * =====================
 * Formatting currencies
 * =====================
 */</span><font></font>
<font></font>
$<span class="token punctuation">{</span>#numbers<span class="token punctuation">.</span><span class="token function">formatCurrency</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#numbers<span class="token punctuation">.</span><span class="token function">arrayFormatCurrency</span><span class="token punctuation">(</span>numArray<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#numbers<span class="token punctuation">.</span><span class="token function">listFormatCurrency</span><span class="token punctuation">(</span>numList<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#numbers<span class="token punctuation">.</span><span class="token function">setFormatCurrency</span><span class="token punctuation">(</span>numSet<span class="token punctuation">)</span><span class="token punctuation">}</span><font></font>
<font></font>
<font></font>
<span class="token comment" spellcheck="true">/* 
 * ======================
 * Formatting percentages
 * ======================
 */</span><font></font>
<font></font>
$<span class="token punctuation">{</span>#numbers<span class="token punctuation">.</span><span class="token function">formatPercent</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#numbers<span class="token punctuation">.</span><span class="token function">arrayFormatPercent</span><span class="token punctuation">(</span>numArray<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#numbers<span class="token punctuation">.</span><span class="token function">listFormatPercent</span><span class="token punctuation">(</span>numList<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#numbers<span class="token punctuation">.</span><span class="token function">setFormatPercent</span><span class="token punctuation">(</span>numSet<span class="token punctuation">)</span><span class="token punctuation">}</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/* 
 * Set minimum integer digits and (exact) decimal digits.
 */</span>
$<span class="token punctuation">{</span>#numbers<span class="token punctuation">.</span><span class="token function">formatPercent</span><span class="token punctuation">(</span>num<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#numbers<span class="token punctuation">.</span><span class="token function">arrayFormatPercent</span><span class="token punctuation">(</span>numArray<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#numbers<span class="token punctuation">.</span><span class="token function">listFormatPercent</span><span class="token punctuation">(</span>numList<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#numbers<span class="token punctuation">.</span><span class="token function">setFormatPercent</span><span class="token punctuation">(</span>numSet<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">}</span><font></font>
<font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * ===============
 * Utility methods
 * ===============
 */</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Create a sequence (array) of integer numbers going
 * from x to y
 */</span>
$<span class="token punctuation">{</span>#numbers<span class="token punctuation">.</span><span class="token function">sequence</span><span class="token punctuation">(</span>from<span class="token punctuation">,</span>to<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#numbers<span class="token punctuation">.</span><span class="token function">sequence</span><span class="token punctuation">(</span>from<span class="token punctuation">,</span>to<span class="token punctuation">,</span>step<span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre>
</section>
<section id="strings" class="level3">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符串</font></font></h3>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#strings</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：对象的实用方法</font></font><code>String</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></li>
</ul>
<pre class=" language-java"><code class=" language-java"><span class="token comment" spellcheck="true">/*
 * ======================================================================
 * See javadoc API for class org.thymeleaf.expression.Strings
 * ======================================================================
 */</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Null-safe toString()
 */</span>
$<span class="token punctuation">{</span>#strings<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">}</span>                           <span class="token comment" spellcheck="true">// also array*, list* and set*</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Check whether a String is empty (or null). Performs a trim() operation before check
 * Also works with arrays, lists or sets
 */</span>
$<span class="token punctuation">{</span>#strings<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#strings<span class="token punctuation">.</span><span class="token function">arrayIsEmpty</span><span class="token punctuation">(</span>nameArr<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#strings<span class="token punctuation">.</span><span class="token function">listIsEmpty</span><span class="token punctuation">(</span>nameList<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#strings<span class="token punctuation">.</span><span class="token function">setIsEmpty</span><span class="token punctuation">(</span>nameSet<span class="token punctuation">)</span><span class="token punctuation">}</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Perform an 'isEmpty()' check on a string and return it if false, defaulting to
 * another specified string if true.
 * Also works with arrays, lists or sets
 */</span>
$<span class="token punctuation">{</span>#strings<span class="token punctuation">.</span><span class="token function">defaultString</span><span class="token punctuation">(</span>text<span class="token punctuation">,</span><span class="token keyword">default</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#strings<span class="token punctuation">.</span><span class="token function">arrayDefaultString</span><span class="token punctuation">(</span>textArr<span class="token punctuation">,</span><span class="token keyword">default</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#strings<span class="token punctuation">.</span><span class="token function">listDefaultString</span><span class="token punctuation">(</span>textList<span class="token punctuation">,</span><span class="token keyword">default</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#strings<span class="token punctuation">.</span><span class="token function">setDefaultString</span><span class="token punctuation">(</span>textSet<span class="token punctuation">,</span><span class="token keyword">default</span><span class="token punctuation">)</span><span class="token punctuation">}</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Check whether a fragment is contained in a String
 * Also works with arrays, lists or sets
 */</span>
$<span class="token punctuation">{</span>#strings<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span><span class="token string">'ez'</span><span class="token punctuation">)</span><span class="token punctuation">}</span>                     <span class="token comment" spellcheck="true">// also array*, list* and set*</span>
$<span class="token punctuation">{</span>#strings<span class="token punctuation">.</span><span class="token function">containsIgnoreCase</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span><span class="token string">'ez'</span><span class="token punctuation">)</span><span class="token punctuation">}</span>           <span class="token comment" spellcheck="true">// also array*, list* and set*</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Check whether a String starts or ends with a fragment
 * Also works with arrays, lists or sets
 */</span>
$<span class="token punctuation">{</span>#strings<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span><span class="token string">'Don'</span><span class="token punctuation">)</span><span class="token punctuation">}</span>                  <span class="token comment" spellcheck="true">// also array*, list* and set*</span>
$<span class="token punctuation">{</span>#strings<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>endingFragment<span class="token punctuation">)</span><span class="token punctuation">}</span>           <span class="token comment" spellcheck="true">// also array*, list* and set*</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Substring-related operations
 * Also works with arrays, lists or sets
 */</span>
$<span class="token punctuation">{</span>#strings<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>frag<span class="token punctuation">)</span><span class="token punctuation">}</span>                      <span class="token comment" spellcheck="true">// also array*, list* and set*</span>
$<span class="token punctuation">{</span>#strings<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">}</span>                     <span class="token comment" spellcheck="true">// also array*, list* and set*</span>
$<span class="token punctuation">{</span>#strings<span class="token punctuation">.</span><span class="token function">substringAfter</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>prefix<span class="token punctuation">)</span><span class="token punctuation">}</span>             <span class="token comment" spellcheck="true">// also array*, list* and set*</span>
$<span class="token punctuation">{</span>#strings<span class="token punctuation">.</span><span class="token function">substringBefore</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>suffix<span class="token punctuation">)</span><span class="token punctuation">}</span>            <span class="token comment" spellcheck="true">// also array*, list* and set*</span>
$<span class="token punctuation">{</span>#strings<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span><span class="token string">'las'</span><span class="token punctuation">,</span><span class="token string">'ler'</span><span class="token punctuation">)</span><span class="token punctuation">}</span>               <span class="token comment" spellcheck="true">// also array*, list* and set*</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Append and prepend
 * Also works with arrays, lists or sets
 */</span>
$<span class="token punctuation">{</span>#strings<span class="token punctuation">.</span><span class="token function">prepend</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span>prefix<span class="token punctuation">)</span><span class="token punctuation">}</span>                     <span class="token comment" spellcheck="true">// also array*, list* and set*</span>
$<span class="token punctuation">{</span>#strings<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span>suffix<span class="token punctuation">)</span><span class="token punctuation">}</span>                      <span class="token comment" spellcheck="true">// also array*, list* and set*</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Change case
 * Also works with arrays, lists or sets
 */</span>
$<span class="token punctuation">{</span>#strings<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">}</span>                       <span class="token comment" spellcheck="true">// also array*, list* and set*</span>
$<span class="token punctuation">{</span>#strings<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">}</span>                       <span class="token comment" spellcheck="true">// also array*, list* and set*</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Split and join
 */</span>
$<span class="token punctuation">{</span>#strings<span class="token punctuation">.</span><span class="token function">arrayJoin</span><span class="token punctuation">(</span>namesArray<span class="token punctuation">,</span><span class="token string">','</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#strings<span class="token punctuation">.</span><span class="token function">listJoin</span><span class="token punctuation">(</span>namesList<span class="token punctuation">,</span><span class="token string">','</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#strings<span class="token punctuation">.</span><span class="token function">setJoin</span><span class="token punctuation">(</span>namesSet<span class="token punctuation">,</span><span class="token string">','</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#strings<span class="token punctuation">.</span><span class="token function">arraySplit</span><span class="token punctuation">(</span>namesStr<span class="token punctuation">,</span><span class="token string">','</span><span class="token punctuation">)</span><span class="token punctuation">}</span>                <span class="token comment" spellcheck="true">// returns String[]</span>
$<span class="token punctuation">{</span>#strings<span class="token punctuation">.</span><span class="token function">listSplit</span><span class="token punctuation">(</span>namesStr<span class="token punctuation">,</span><span class="token string">','</span><span class="token punctuation">)</span><span class="token punctuation">}</span>                 <span class="token comment" spellcheck="true">// returns List&lt;String&gt;</span>
$<span class="token punctuation">{</span>#strings<span class="token punctuation">.</span><span class="token function">setSplit</span><span class="token punctuation">(</span>namesStr<span class="token punctuation">,</span><span class="token string">','</span><span class="token punctuation">)</span><span class="token punctuation">}</span>                  <span class="token comment" spellcheck="true">// returns Set&lt;String&gt;</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Trim
 * Also works with arrays, lists or sets
 */</span>
$<span class="token punctuation">{</span>#strings<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">}</span>                               <span class="token comment" spellcheck="true">// also array*, list* and set*</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Compute length
 * Also works with arrays, lists or sets
 */</span>
$<span class="token punctuation">{</span>#strings<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">}</span>                             <span class="token comment" spellcheck="true">// also array*, list* and set*</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Abbreviate text making it have a maximum size of n. If text is bigger, it
 * will be clipped and finished in "..."
 * Also works with arrays, lists or sets
 */</span>
$<span class="token punctuation">{</span>#strings<span class="token punctuation">.</span><span class="token function">abbreviate</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">}</span>                      <span class="token comment" spellcheck="true">// also array*, list* and set*</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Convert the first character to upper-case (and vice-versa)
 */</span>
$<span class="token punctuation">{</span>#strings<span class="token punctuation">.</span><span class="token function">capitalize</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">}</span>                         <span class="token comment" spellcheck="true">// also array*, list* and set*</span>
$<span class="token punctuation">{</span>#strings<span class="token punctuation">.</span><span class="token function">unCapitalize</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">}</span>                       <span class="token comment" spellcheck="true">// also array*, list* and set*</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Convert the first character of every word to upper-case
 */</span>
$<span class="token punctuation">{</span>#strings<span class="token punctuation">.</span><span class="token function">capitalizeWords</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">}</span>                    <span class="token comment" spellcheck="true">// also array*, list* and set*</span>
$<span class="token punctuation">{</span>#strings<span class="token punctuation">.</span><span class="token function">capitalizeWords</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span>delimiters<span class="token punctuation">)</span><span class="token punctuation">}</span>         <span class="token comment" spellcheck="true">// also array*, list* and set*</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Escape the string
 */</span>
$<span class="token punctuation">{</span>#strings<span class="token punctuation">.</span><span class="token function">escapeXml</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">}</span>                          <span class="token comment" spellcheck="true">// also array*, list* and set*</span>
$<span class="token punctuation">{</span>#strings<span class="token punctuation">.</span><span class="token function">escapeJava</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">}</span>                         <span class="token comment" spellcheck="true">// also array*, list* and set*</span>
$<span class="token punctuation">{</span>#strings<span class="token punctuation">.</span><span class="token function">escapeJavaScript</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">}</span>                   <span class="token comment" spellcheck="true">// also array*, list* and set*</span>
$<span class="token punctuation">{</span>#strings<span class="token punctuation">.</span><span class="token function">unescapeJava</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">}</span>                       <span class="token comment" spellcheck="true">// also array*, list* and set*</span>
$<span class="token punctuation">{</span>#strings<span class="token punctuation">.</span><span class="token function">unescapeJavaScript</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">}</span>                 <span class="token comment" spellcheck="true">// also array*, list* and set*</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Null-safe comparison and concatenation
 */</span>
$<span class="token punctuation">{</span>#strings<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>first<span class="token punctuation">,</span> second<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#strings<span class="token punctuation">.</span><span class="token function">equalsIgnoreCase</span><span class="token punctuation">(</span>first<span class="token punctuation">,</span> second<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#strings<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>values<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#strings<span class="token punctuation">.</span><span class="token function">concatReplaceNulls</span><span class="token punctuation">(</span>nullValue<span class="token punctuation">,</span> values<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">}</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Random
 */</span>
$<span class="token punctuation">{</span>#strings<span class="token punctuation">.</span><span class="token function">randomAlphanumeric</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre>
</section>
<section id="objects" class="level3">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对象</font></font></h3>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#objects</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：一般对象的实用方法</font></font></li>
</ul>
<pre class=" language-java"><code class=" language-java"><span class="token comment" spellcheck="true">/*
 * ======================================================================
 * See javadoc API for class org.thymeleaf.expression.Objects
 * ======================================================================
 */</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Return obj if it is not null, and default otherwise
 * Also works with arrays, lists or sets
 */</span>
$<span class="token punctuation">{</span>#objects<span class="token punctuation">.</span><span class="token function">nullSafe</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token keyword">default</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#objects<span class="token punctuation">.</span><span class="token function">arrayNullSafe</span><span class="token punctuation">(</span>objArray<span class="token punctuation">,</span><span class="token keyword">default</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#objects<span class="token punctuation">.</span><span class="token function">listNullSafe</span><span class="token punctuation">(</span>objList<span class="token punctuation">,</span><span class="token keyword">default</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#objects<span class="token punctuation">.</span><span class="token function">setNullSafe</span><span class="token punctuation">(</span>objSet<span class="token punctuation">,</span><span class="token keyword">default</span><span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre>
</section>
<section id="booleans" class="level3">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">布尔值</font></font></h3>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#bools</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：布尔评估的实用方法</font></font></li>
</ul>
<pre class=" language-java"><code class=" language-java"><span class="token comment" spellcheck="true">/*
 * ======================================================================
 * See javadoc API for class org.thymeleaf.expression.Bools
 * ======================================================================
 */</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Evaluate a condition in the same way that it would be evaluated in a th:if tag
 * (see conditional evaluation chapter afterwards).
 * Also works with arrays, lists or sets
 */</span>
$<span class="token punctuation">{</span>#bools<span class="token punctuation">.</span><span class="token function">isTrue</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#bools<span class="token punctuation">.</span><span class="token function">arrayIsTrue</span><span class="token punctuation">(</span>objArray<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#bools<span class="token punctuation">.</span><span class="token function">listIsTrue</span><span class="token punctuation">(</span>objList<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#bools<span class="token punctuation">.</span><span class="token function">setIsTrue</span><span class="token punctuation">(</span>objSet<span class="token punctuation">)</span><span class="token punctuation">}</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Evaluate with negation
 * Also works with arrays, lists or sets
 */</span>
$<span class="token punctuation">{</span>#bools<span class="token punctuation">.</span><span class="token function">isFalse</span><span class="token punctuation">(</span>cond<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#bools<span class="token punctuation">.</span><span class="token function">arrayIsFalse</span><span class="token punctuation">(</span>condArray<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#bools<span class="token punctuation">.</span><span class="token function">listIsFalse</span><span class="token punctuation">(</span>condList<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#bools<span class="token punctuation">.</span><span class="token function">setIsFalse</span><span class="token punctuation">(</span>condSet<span class="token punctuation">)</span><span class="token punctuation">}</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Evaluate and apply AND operator
 * Receive an array, a list or a set as parameter
 */</span>
$<span class="token punctuation">{</span>#bools<span class="token punctuation">.</span><span class="token function">arrayAnd</span><span class="token punctuation">(</span>condArray<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#bools<span class="token punctuation">.</span><span class="token function">listAnd</span><span class="token punctuation">(</span>condList<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#bools<span class="token punctuation">.</span><span class="token function">setAnd</span><span class="token punctuation">(</span>condSet<span class="token punctuation">)</span><span class="token punctuation">}</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Evaluate and apply OR operator
 * Receive an array, a list or a set as parameter
 */</span>
$<span class="token punctuation">{</span>#bools<span class="token punctuation">.</span><span class="token function">arrayOr</span><span class="token punctuation">(</span>condArray<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#bools<span class="token punctuation">.</span><span class="token function">listOr</span><span class="token punctuation">(</span>condList<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#bools<span class="token punctuation">.</span><span class="token function">setOr</span><span class="token punctuation">(</span>condSet<span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre>
</section>
<section id="arrays" class="level3">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数组</font></font></h3>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#arrays</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：数组的实用方法</font></font></li>
</ul>
<pre class=" language-java"><code class=" language-java"><span class="token comment" spellcheck="true">/*
 * ======================================================================
 * See javadoc API for class org.thymeleaf.expression.Arrays
 * ======================================================================
 */</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Converts to array, trying to infer array component class.
 * Note that if resulting array is empty, or if the elements
 * of the target object are not all of the same class,
 * this method will return Object[].
 */</span>
$<span class="token punctuation">{</span>#arrays<span class="token punctuation">.</span><span class="token function">toArray</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">}</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Convert to arrays of the specified component class.
 */</span>
$<span class="token punctuation">{</span>#arrays<span class="token punctuation">.</span><span class="token function">toStringArray</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#arrays<span class="token punctuation">.</span><span class="token function">toIntegerArray</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#arrays<span class="token punctuation">.</span><span class="token function">toLongArray</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#arrays<span class="token punctuation">.</span><span class="token function">toDoubleArray</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#arrays<span class="token punctuation">.</span><span class="token function">toFloatArray</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#arrays<span class="token punctuation">.</span><span class="token function">toBooleanArray</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">}</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Compute length
 */</span>
$<span class="token punctuation">{</span>#arrays<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span><span class="token punctuation">}</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Check whether array is empty
 */</span>
$<span class="token punctuation">{</span>#arrays<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span><span class="token punctuation">}</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Check if element or elements are contained in array
 */</span>
$<span class="token punctuation">{</span>#arrays<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> element<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#arrays<span class="token punctuation">.</span><span class="token function">containsAll</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> elements<span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre>
</section>
<section id="lists" class="level3">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列表</font></font></h3>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#lists</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：列表的实用方法</font></font></li>
</ul>
<pre class=" language-java"><code class=" language-java"><span class="token comment" spellcheck="true">/*
 * ======================================================================
 * See javadoc API for class org.thymeleaf.expression.Lists
 * ======================================================================
 */</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Converts to list
 */</span>
$<span class="token punctuation">{</span>#lists<span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">}</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Compute size
 */</span>
$<span class="token punctuation">{</span>#lists<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">}</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Check whether list is empty
 */</span>
$<span class="token punctuation">{</span>#lists<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">}</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Check if element or elements are contained in list
 */</span>
$<span class="token punctuation">{</span>#lists<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> element<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#lists<span class="token punctuation">.</span><span class="token function">containsAll</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> elements<span class="token punctuation">)</span><span class="token punctuation">}</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Sort a copy of the given list. The members of the list must implement
 * comparable or you must define a comparator.
 */</span>
$<span class="token punctuation">{</span>#lists<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#lists<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> comparator<span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre>
</section>
<section id="sets" class="level3">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sets</font></font></h3>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#sets</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：集合的实用方法</font></font></li>
</ul>
<pre class=" language-java"><code class=" language-java"><span class="token comment" spellcheck="true">/*
 * ======================================================================
 * See javadoc API for class org.thymeleaf.expression.Sets
 * ======================================================================
 */</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Converts to set
 */</span>
$<span class="token punctuation">{</span>#sets<span class="token punctuation">.</span><span class="token function">toSet</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">}</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Compute size
 */</span>
$<span class="token punctuation">{</span>#sets<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span>set<span class="token punctuation">)</span><span class="token punctuation">}</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Check whether set is empty
 */</span>
$<span class="token punctuation">{</span>#sets<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>set<span class="token punctuation">)</span><span class="token punctuation">}</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Check if element or elements are contained in set
 */</span>
$<span class="token punctuation">{</span>#sets<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>set<span class="token punctuation">,</span> element<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#sets<span class="token punctuation">.</span><span class="token function">containsAll</span><span class="token punctuation">(</span>set<span class="token punctuation">,</span> elements<span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre>
</section>
<section id="maps" class="level3">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Maps</font></font></h3>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#maps</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：Maps的实用方法</font></font></li>
</ul>
<pre class=" language-java"><code class=" language-java"><span class="token comment" spellcheck="true">/*
 * ======================================================================
 * See javadoc API for class org.thymeleaf.expression.Maps
 * ======================================================================
 */</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Compute size
 */</span>
$<span class="token punctuation">{</span>#maps<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">}</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Check whether map is empty
 */</span>
$<span class="token punctuation">{</span>#maps<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">}</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Check if key/s or value/s are contained in maps
 */</span>
$<span class="token punctuation">{</span>#maps<span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span>map<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#maps<span class="token punctuation">.</span><span class="token function">containsAllKeys</span><span class="token punctuation">(</span>map<span class="token punctuation">,</span> keys<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#maps<span class="token punctuation">.</span><span class="token function">containsValue</span><span class="token punctuation">(</span>map<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#maps<span class="token punctuation">.</span><span class="token function">containsAllValues</span><span class="token punctuation">(</span>map<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre>
</section>
<section id="aggregates" class="level3">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">聚合</font></font></h3>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#aggregates</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：用于在数组或集合上创建聚合的实用方法</font></font></li>
</ul>
<pre class=" language-java"><code class=" language-java"><span class="token comment" spellcheck="true">/*
 * ======================================================================
 * See javadoc API for class org.thymeleaf.expression.Aggregates
 * ======================================================================
 */</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Compute sum. Returns null if array or collection is empty
 */</span>
$<span class="token punctuation">{</span>#aggregates<span class="token punctuation">.</span><span class="token function">sum</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#aggregates<span class="token punctuation">.</span><span class="token function">sum</span><span class="token punctuation">(</span>collection<span class="token punctuation">)</span><span class="token punctuation">}</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Compute average. Returns null if array or collection is empty
 */</span>
$<span class="token punctuation">{</span>#aggregates<span class="token punctuation">.</span><span class="token function">avg</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#aggregates<span class="token punctuation">.</span><span class="token function">avg</span><span class="token punctuation">(</span>collection<span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre>
</section>
<section id="ids" class="level3">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ID</font></font></h3>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#ids</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：用于处理</font></font><code>id</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可能重复的属性（例如，作为迭代的结果）的实用方法。</font></font></li>
</ul>
<pre class=" language-java"><code class=" language-java"><span class="token comment" spellcheck="true">/*
 * ======================================================================
 * See javadoc API for class org.thymeleaf.expression.Ids
 * ======================================================================
 */</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Normally used in th:id attributes, for appending a counter to the id attribute value
 * so that it remains unique even when involved in an iteration process.
 */</span>
$<span class="token punctuation">{</span>#ids<span class="token punctuation">.</span><span class="token function">seq</span><span class="token punctuation">(</span><span class="token string">'someId'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><font></font>
<font></font>
<span class="token comment" spellcheck="true">/*
 * Normally used in th:for attributes in &lt;label&gt; tags, so that these labels can refer to Ids
 * generated by means if the #ids.seq(...) function.
 *
 * Depending on whether the &lt;label&gt; goes before or after the element with the #ids.seq(...)
 * function, the "next" (label goes before "seq") or the "prev" function (label goes after 
 * "seq") function should be called.
 */</span>
$<span class="token punctuation">{</span>#ids<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token string">'someId'</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
$<span class="token punctuation">{</span>#ids<span class="token punctuation">.</span><span class="token function">prev</span><span class="token punctuation">(</span><span class="token string">'someId'</span><span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre>
</section>
</section>
<section id="appendix-c-markup-selector-syntax" class="level1">
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20 附录 C：标记选择器语法</font></font></h1>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Thymeleaf 的标记选择器直接借用自 Thymeleaf 的解析库：</font></font><a href="javascript:if(confirm(%27http://attoparser.org/  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://attoparser.org/%27" tppabs="http://attoparser.org/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AttoParser</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"></font><a href="javascript:if(confirm(%27http://www.attoparser.org/apidocs/attoparser/2.0.4.RELEASE/org/attoparser/select/package-summary.html  \n\nThis file was not retrieved by Teleport Ultra, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://www.attoparser.org/apidocs/attoparser/2.0.4.RELEASE/org/attoparser/select/package-summary.html%27" tppabs="http://www.attoparser.org/apidocs/attoparser/2.0.4.RELEASE/org/attoparser/select/package-summary.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此选择器的语法与 XPath、CSS 和 jQuery 中的选择器语法非常相似，因此大多数用户都可以轻松使用它们。您可以在AttoParser 文档</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中查看完整的语法参考</font><font style="vertical-align: inherit;">。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例如，以下选择器将选择标记内每个位置上</font></font><code>&lt;div&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">带有类的每个内容</font></font><code>content</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（请注意，这并不尽可能简洁，请继续阅读以了解原因）：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>insert</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>mytemplate :: //div[@class<span class="token punctuation">=</span><span class="token punctuation">'</span>content<span class="token punctuation">'</span>]<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基本语法包括：</font></font></p>
<ul>
<li><p><code>/x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示当前节点的直接子节点，名称为 x。</font></font></p></li>
<li><p><code>//x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示当前节点名为 x 的子节点，位于任意深度。</font></font></p></li>
<li><p><code>x[@z="v"]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示名为 x 的元素以及名为 z 且值为“v”的属性。</font></font></p></li>
<li><p><code>x[@z1="v1" and @z2="v2"]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示名称为 x 的元素以及属性 z1 和 z2 ，其值分别带有“v1”和“v2”。</font></font></p></li>
<li><p><code>x[i]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示名称为 x 且位于其兄弟元素中的第 i 位的元素。</font></font></p></li>
<li><p><code>x[@z="v"][i]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示名称为 x、属性为 z、值为“v”且在其兄弟元素中位置为 i 的元素也符合此条件。</font></font></p></li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但也可以使用更简洁的语法：</font></font></p>
<ul>
<li><p><code>x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">完全等同于（</font><font style="vertical-align: inherit;">在任意深度级别</font></font><code>//x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">搜索具有名称或引用的元素，</font><em><font style="vertical-align: inherit;">引用</font></em><font style="vertical-align: inherit;">是</font><font style="vertical-align: inherit;">或</font><font style="vertical-align: inherit;">属性）。</font></font><code>x</code><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><code>th:ref</code><font style="vertical-align: inherit;"></font><code>th:fragment</code><font style="vertical-align: inherit;"></font></p></li>
<li><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选择器也可以不带元素名称/引用，只要它们包含参数规范即可。因此，</font></font><code>[@class='oneclass']</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有效的选择器会查找具有值为 的类属性的任何元素（标签）</font></font><code>"oneclass"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p></li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">高级属性选择功能：</font></font></p>
<ul>
<li><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">除了</font></font><code>=</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(等于) 之外，其他比较运算符也有效：</font></font><code>!=</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(不等于)、</font></font><code>^=</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(以 开头) 和</font></font><code>$=</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(以 结尾)。例如：</font></font><code>x[@class^='section']</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示元素的名称</font></font><code>x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和属性值</font></font><code>class</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">均以 开头</font></font><code>section</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p></li>
<li><p><font style="vertical-align: inherit;"></font><code>@</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性可以以 开头(XPath 样式) 或不以 开头 (jQuery 样式)</font><font style="vertical-align: inherit;">来指定。因此</font></font><code>x[z='v']</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相当于</font></font><code>x[@z='v']</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p></li>
<li><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">多属性修饰符既可以用 (XPath 样式) 连接，</font></font><code>and</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">也可以通过链接多个修饰符 (jQuery 样式) 连接。因此</font></font><code>x[@z1='v1' and @z2='v2']</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实际上等同于</font></font><code>x[@z1='v1'][@z2='v2']</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(也等同于</font></font><code>x[z1='v1'][z2='v2']</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)。</font></font></p></li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">直接</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类似 jQuery 的</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选择器：</font></font></p>
<ul>
<li><p><code>x.oneclass</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相当于</font></font><code>x[class='oneclass']</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p></li>
<li><p><code>.oneclass</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相当于</font></font><code>[class='oneclass']</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p></li>
<li><p><code>x#oneid</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相当于</font></font><code>x[id='oneid']</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p></li>
<li><p><code>#oneid</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相当于</font></font><code>[id='oneid']</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p></li>
<li><p><code>x%oneref</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示</font></font><code>&lt;x&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">具有</font></font><code>th:ref="oneref"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><code>th:fragment="oneref"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性的标签。</font></font></p></li>
<li><p><code>%oneref</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示任何具有</font></font><code>th:ref="oneref"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><code>th:fragment="oneref"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性的标签。请注意，这实际上等同于 simply，</font></font><code>oneref</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因为可以使用引用代替元素名称。</font></font></p></li>
<li><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">直接选择器和属性选择器可以混合使用：</font></font><code>a.external[@href^='https']</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p></li>
</ul>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因此上述标记选择器表达式：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>insert</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>mytemplate :: //div[@class<span class="token punctuation">=</span><span class="token punctuation">'</span>content<span class="token punctuation">'</span>]<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以写成：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>insert</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>mytemplate :: div.content<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检查一个不同的例子，如下：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>replace</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>mytemplate :: myfrag<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将查找</font></font><code>th:fragment="myfrag"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">片段签名（或</font></font><code>th:ref</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">引用）。但如果存在，也会查找带有名称的标签</font></font><code>myfrag</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（在 HTML 中不存在）。请注意以下区别：</font></font></p>
<pre class=" language-html"><code class=" language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>replace</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>mytemplate :: .myfrag<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...它实际上会查找任何带有的元素</font></font><code>class="myfrag"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，而不关心</font></font><code>th:fragment</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">签名（或</font></font><code>th:ref</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">引用）。</font></font></p>
<section id="multivalued-class-matching" class="level3">
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">多值类匹配</font></font></h3>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标记选择器将类属性理解为</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">多值的</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，因此即使元素具有多个类值，也允许在此属性上应用选择器。</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例如，</font></font><code>div.two</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将匹配</font></font><code>&lt;div class="one two three" /&gt;</code></p>
</section>
</section>

</div>
</div>
</body>
</html>